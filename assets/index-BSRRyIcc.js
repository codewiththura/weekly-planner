(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var kd={exports:{}},El={};var Q_;function mb(){if(Q_)return El;Q_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return El.Fragment=t,El.jsx=i,El.jsxs=i,El}var X_;function gb(){return X_||(X_=1,kd.exports=mb()),kd.exports}var k=gb(),Ud={exports:{}},At={};var $_;function pb(){if($_)return At;$_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.iterator;function K(x){return x===null||typeof x!="object"?null:(x=O&&x[O]||x["@@iterator"],typeof x=="function"?x:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,tt={};function ut(x,Y,et){this.props=x,this.context=Y,this.refs=tt,this.updater=et||Z}ut.prototype.isReactComponent={},ut.prototype.setState=function(x,Y){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Y,"setState")},ut.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Tt(){}Tt.prototype=ut.prototype;function _t(x,Y,et){this.props=x,this.context=Y,this.refs=tt,this.updater=et||Z}var Qt=_t.prototype=new Tt;Qt.constructor=_t,nt(Qt,ut.prototype),Qt.isPureReactComponent=!0;var ae=Array.isArray;function Lt(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(x,Y,et){var st=et.ref;return{$$typeof:s,type:x,key:Y,ref:st!==void 0?st:null,props:et}}function M(x,Y){return R(x.type,Y,x.props)}function N(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function U(x){var Y={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(et){return Y[et]})}var S=/\/+/g;function ht(x,Y){return typeof x=="object"&&x!==null&&x.key!=null?U(""+x.key):Y.toString(36)}function Pt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Lt,Lt):(x.status="pending",x.then(function(Y){x.status==="pending"&&(x.status="fulfilled",x.value=Y)},function(Y){x.status==="pending"&&(x.status="rejected",x.reason=Y)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function P(x,Y,et,st,yt){var ct=typeof x;(ct==="undefined"||ct==="boolean")&&(x=null);var bt=!1;if(x===null)bt=!0;else switch(ct){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(x.$$typeof){case s:case t:bt=!0;break;case A:return bt=x._init,P(bt(x._payload),Y,et,st,yt)}}if(bt)return yt=yt(x),bt=st===""?"."+ht(x,0):st,ae(yt)?(et="",bt!=null&&(et=bt.replace(S,"$&/")+"/"),P(yt,Y,et,"",function(or){return or})):yt!=null&&(N(yt)&&(yt=M(yt,et+(yt.key==null||x&&x.key===yt.key?"":(""+yt.key).replace(S,"$&/")+"/")+bt)),Y.push(yt)),1;bt=0;var Xt=st===""?".":st+":";if(ae(x))for(var oe=0;oe<x.length;oe++)st=x[oe],ct=Xt+ht(st,oe),bt+=P(st,Y,et,ct,yt);else if(oe=K(x),typeof oe=="function")for(x=oe.call(x),oe=0;!(st=x.next()).done;)st=st.value,ct=Xt+ht(st,oe++),bt+=P(st,Y,et,ct,yt);else if(ct==="object"){if(typeof x.then=="function")return P(Pt(x),Y,et,st,yt);throw Y=String(x),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return bt}function J(x,Y,et){if(x==null)return x;var st=[],yt=0;return P(x,st,"","",function(ct){return Y.call(et,ct,yt++)}),st}function it(x){if(x._status===-1){var Y=x._result;Y=Y(),Y.then(function(et){(x._status===0||x._status===-1)&&(x._status=1,x._result=et)},function(et){(x._status===0||x._status===-1)&&(x._status=2,x._result=et)}),x._status===-1&&(x._status=0,x._result=Y)}if(x._status===1)return x._result.default;throw x._result}var gt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Ct={map:J,forEach:function(x,Y,et){J(x,function(){Y.apply(this,arguments)},et)},count:function(x){var Y=0;return J(x,function(){Y++}),Y},toArray:function(x){return J(x,function(Y){return Y})||[]},only:function(x){if(!N(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return At.Activity=w,At.Children=Ct,At.Component=ut,At.Fragment=i,At.Profiler=l,At.PureComponent=_t,At.StrictMode=r,At.Suspense=_,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,At.__COMPILER_RUNTIME={__proto__:null,c:function(x){return C.H.useMemoCache(x)}},At.cache=function(x){return function(){return x.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(x,Y,et){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var st=nt({},x.props),yt=x.key;if(Y!=null)for(ct in Y.key!==void 0&&(yt=""+Y.key),Y)!b.call(Y,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&Y.ref===void 0||(st[ct]=Y[ct]);var ct=arguments.length-2;if(ct===1)st.children=et;else if(1<ct){for(var bt=Array(ct),Xt=0;Xt<ct;Xt++)bt[Xt]=arguments[Xt+2];st.children=bt}return R(x.type,yt,st)},At.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},At.createElement=function(x,Y,et){var st,yt={},ct=null;if(Y!=null)for(st in Y.key!==void 0&&(ct=""+Y.key),Y)b.call(Y,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=Y[st]);var bt=arguments.length-2;if(bt===1)yt.children=et;else if(1<bt){for(var Xt=Array(bt),oe=0;oe<bt;oe++)Xt[oe]=arguments[oe+2];yt.children=Xt}if(x&&x.defaultProps)for(st in bt=x.defaultProps,bt)yt[st]===void 0&&(yt[st]=bt[st]);return R(x,ct,yt)},At.createRef=function(){return{current:null}},At.forwardRef=function(x){return{$$typeof:g,render:x}},At.isValidElement=N,At.lazy=function(x){return{$$typeof:A,_payload:{_status:-1,_result:x},_init:it}},At.memo=function(x,Y){return{$$typeof:y,type:x,compare:Y===void 0?null:Y}},At.startTransition=function(x){var Y=C.T,et={};C.T=et;try{var st=x(),yt=C.S;yt!==null&&yt(et,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Lt,gt)}catch(ct){gt(ct)}finally{Y!==null&&et.types!==null&&(Y.types=et.types),C.T=Y}},At.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},At.use=function(x){return C.H.use(x)},At.useActionState=function(x,Y,et){return C.H.useActionState(x,Y,et)},At.useCallback=function(x,Y){return C.H.useCallback(x,Y)},At.useContext=function(x){return C.H.useContext(x)},At.useDebugValue=function(){},At.useDeferredValue=function(x,Y){return C.H.useDeferredValue(x,Y)},At.useEffect=function(x,Y){return C.H.useEffect(x,Y)},At.useEffectEvent=function(x){return C.H.useEffectEvent(x)},At.useId=function(){return C.H.useId()},At.useImperativeHandle=function(x,Y,et){return C.H.useImperativeHandle(x,Y,et)},At.useInsertionEffect=function(x,Y){return C.H.useInsertionEffect(x,Y)},At.useLayoutEffect=function(x,Y){return C.H.useLayoutEffect(x,Y)},At.useMemo=function(x,Y){return C.H.useMemo(x,Y)},At.useOptimistic=function(x,Y){return C.H.useOptimistic(x,Y)},At.useReducer=function(x,Y,et){return C.H.useReducer(x,Y,et)},At.useRef=function(x){return C.H.useRef(x)},At.useState=function(x){return C.H.useState(x)},At.useSyncExternalStore=function(x,Y,et){return C.H.useSyncExternalStore(x,Y,et)},At.useTransition=function(){return C.H.useTransition()},At.version="19.2.4",At}var J_;function Dm(){return J_||(J_=1,Ud.exports=pb()),Ud.exports}var de=Dm(),Ld={exports:{}},Al={},Pd={exports:{}},zd={};var Z_;function yb(){return Z_||(Z_=1,(function(s){function t(P,J){var it=P.length;P.push(J);t:for(;0<it;){var gt=it-1>>>1,Ct=P[gt];if(0<l(Ct,J))P[gt]=J,P[it]=Ct,it=gt;else break t}}function i(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var J=P[0],it=P.pop();if(it!==J){P[0]=it;t:for(var gt=0,Ct=P.length,x=Ct>>>1;gt<x;){var Y=2*(gt+1)-1,et=P[Y],st=Y+1,yt=P[st];if(0>l(et,it))st<Ct&&0>l(yt,et)?(P[gt]=yt,P[st]=it,gt=st):(P[gt]=et,P[Y]=it,gt=Y);else if(st<Ct&&0>l(yt,it))P[gt]=yt,P[st]=it,gt=st;else break t}}return J}function l(P,J){var it=P.sortIndex-J.sortIndex;return it!==0?it:P.id-J.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],A=1,w=null,O=3,K=!1,Z=!1,nt=!1,tt=!1,ut=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function Qt(P){for(var J=i(y);J!==null;){if(J.callback===null)r(y);else if(J.startTime<=P)r(y),J.sortIndex=J.expirationTime,t(_,J);else break;J=i(y)}}function ae(P){if(nt=!1,Qt(P),!Z)if(i(_)!==null)Z=!0,Lt||(Lt=!0,U());else{var J=i(y);J!==null&&Pt(ae,J.startTime-P)}}var Lt=!1,C=-1,b=5,R=-1;function M(){return tt?!0:!(s.unstable_now()-R<b)}function N(){if(tt=!1,Lt){var P=s.unstable_now();R=P;var J=!0;try{t:{Z=!1,nt&&(nt=!1,Tt(C),C=-1),K=!0;var it=O;try{e:{for(Qt(P),w=i(_);w!==null&&!(w.expirationTime>P&&M());){var gt=w.callback;if(typeof gt=="function"){w.callback=null,O=w.priorityLevel;var Ct=gt(w.expirationTime<=P);if(P=s.unstable_now(),typeof Ct=="function"){w.callback=Ct,Qt(P),J=!0;break e}w===i(_)&&r(_),Qt(P)}else r(_);w=i(_)}if(w!==null)J=!0;else{var x=i(y);x!==null&&Pt(ae,x.startTime-P),J=!1}}break t}finally{w=null,O=it,K=!1}J=void 0}}finally{J?U():Lt=!1}}}var U;if(typeof _t=="function")U=function(){_t(N)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,ht=S.port2;S.port1.onmessage=N,U=function(){ht.postMessage(null)}}else U=function(){ut(N,0)};function Pt(P,J){C=ut(function(){P(s.unstable_now())},J)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(P){P.callback=null},s.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<P?Math.floor(1e3/P):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(P){switch(O){case 1:case 2:case 3:var J=3;break;default:J=O}var it=O;O=J;try{return P()}finally{O=it}},s.unstable_requestPaint=function(){tt=!0},s.unstable_runWithPriority=function(P,J){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var it=O;O=P;try{return J()}finally{O=it}},s.unstable_scheduleCallback=function(P,J,it){var gt=s.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?gt+it:gt):it=gt,P){case 1:var Ct=-1;break;case 2:Ct=250;break;case 5:Ct=1073741823;break;case 4:Ct=1e4;break;default:Ct=5e3}return Ct=it+Ct,P={id:A++,callback:J,priorityLevel:P,startTime:it,expirationTime:Ct,sortIndex:-1},it>gt?(P.sortIndex=it,t(y,P),i(_)===null&&P===i(y)&&(nt?(Tt(C),C=-1):nt=!0,Pt(ae,it-gt))):(P.sortIndex=Ct,t(_,P),Z||K||(Z=!0,Lt||(Lt=!0,U()))),P},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(P){var J=O;return function(){var it=O;O=J;try{return P.apply(this,arguments)}finally{O=it}}}})(zd)),zd}var W_;function _b(){return W_||(W_=1,Pd.exports=yb()),Pd.exports}var jd={exports:{}},Xe={};var tv;function vb(){if(tv)return Xe;tv=1;var s=Dm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:_,containerInfo:y,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xe.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,A)},Xe.flushSync=function(_){var y=d.T,A=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=A,r.d.f()}},Xe.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},Xe.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Xe.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,w=g(A,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,K=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:O,fetchPriority:K}):A==="script"&&r.d.X(_,{crossOrigin:w,integrity:O,fetchPriority:K,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xe.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=g(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},Xe.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,w=g(A,y.crossOrigin);r.d.L(_,A,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xe.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=g(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},Xe.requestFormReset=function(_){r.d.r(_)},Xe.unstable_batchedUpdates=function(_,y){return _(y)},Xe.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.4",Xe}var ev;function Tb(){if(ev)return jd.exports;ev=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),jd.exports=vb(),jd.exports}var nv;function Eb(){if(nv)return Al;nv=1;var s=_b(),t=Dm(),i=Tb();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var p=!1,T=h.child;T;){if(T===a){p=!0,a=h,o=f;break}if(T===o){p=!0,o=h,a=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===a){p=!0,a=f,o=h;break}if(T===o){p=!0,o=f,a=h;break}T=T.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,O=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),Tt=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),Qt=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),Lt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var S=Symbol.for("react.client.reference");function ht(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===S?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case ut:return"Profiler";case tt:return"StrictMode";case ae:return"Suspense";case Lt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case _t:return e.displayName||"Context";case Tt:return(e._context.displayName||"Context")+".Consumer";case Qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ht(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ht(e(n))}catch{}}return null}var Pt=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it={pending:!1,data:null,method:null,action:null},gt=[],Ct=-1;function x(e){return{current:e}}function Y(e){0>Ct||(e.current=gt[Ct],gt[Ct]=null,Ct--)}function et(e,n){Ct++,gt[Ct]=e.current,e.current=n}var st=x(null),yt=x(null),ct=x(null),bt=x(null);function Xt(e,n){switch(et(ct,n),et(yt,e),et(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?y_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=y_(n),e=__(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(st),et(st,e)}function oe(){Y(st),Y(yt),Y(ct)}function or(e){e.memoizedState!==null&&et(bt,e);var n=st.current,a=__(n,e.type);n!==a&&(et(yt,e),et(st,a))}function ta(e){yt.current===e&&(Y(st),Y(yt)),bt.current===e&&(Y(bt),yl._currentValue=it)}var ea,na;function ri(e){if(ea===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ea=n&&n[1]||"",na=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ea+e+na}var yo=!1;function lr(e,n){if(!e||yo)return"";yo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(H){var B=H}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(H){B=H}e.call(Q.prototype)}}else{try{throw Error()}catch(H){B=H}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var I=p.split(`
`),j=T.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===j.length)for(o=I.length-1,h=j.length-1;1<=o&&0<=h&&I[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==j[h]){var F=`
`+I[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{yo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ri(a):""}function _o(e,n){switch(e.tag){case 26:case 27:case 5:return ri(e.type);case 16:return ri("Lazy");case 13:return e.child!==n&&n!==null?ri("Suspense Fallback"):ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return lr(e.type,!1);case 11:return lr(e.type.render,!1);case 1:return lr(e.type,!0);case 31:return ri("Activity");default:return""}}function vo(e){try{var n="",a=null;do n+=_o(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ve=Object.prototype.hasOwnProperty,xe=s.unstable_scheduleCallback,us=s.unstable_cancelCallback,Uh=s.unstable_shouldYield,Zl=s.unstable_requestPaint,tn=s.unstable_now,ur=s.unstable_getCurrentPriorityLevel,To=s.unstable_ImmediatePriority,Eo=s.unstable_UserBlockingPriority,cs=s.unstable_NormalPriority,Lh=s.unstable_LowPriority,Wl=s.unstable_IdlePriority,tu=s.log,eu=s.unstable_setDisableYieldValue,jn=null,je=null;function wn(e){if(typeof tu=="function"&&eu(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(jn,e)}catch{}}var me=Math.clz32?Math.clz32:iu,nu=Math.log,ia=Math.LN2;function iu(e){return e>>>=0,e===0?32:31-(nu(e)/ia|0)|0}var ai=256,cr=262144,Te=4194304;function oi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function li(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=oi(o):(p&=T,p!==0?h=oi(p):a||(a=T&~e,a!==0&&(h=oi(a))))):(T=o&~f,T!==0?h=oi(T):p!==0?h=oi(p):a||(a=o&~e,a!==0&&(h=oi(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Bn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ph(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function su(){var e=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),e}function ui(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function hr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zh(e,n,a,o,h,f){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,j=e.hiddenUpdates;for(a=p&~a;0<a;){var F=31-me(a),Q=1<<F;T[F]=0,I[F]=-1;var B=j[F];if(B!==null)for(j[F]=null,F=0;F<B.length;F++){var H=B[F];H!==null&&(H.lane&=-536870913)}a&=~Q}o!==0&&fr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function fr(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-me(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function Ao(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-me(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function So(e,n){var a=n&-n;return a=(a&42)!==0?1:dr(a),(a&(e.suspendedLanes|n))!==0?0:a}function dr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Li(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ru(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:B_(e.type))}function qn(e,n){var a=J.p;try{return J.p=e,n()}finally{J.p=a}}var Hn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Hn,Ue="__reactProps$"+Hn,ci="__reactContainer$"+Hn,sa="__reactEvents$"+Hn,jh="__reactListeners$"+Hn,au="__reactHandles$"+Hn,ou="__reactResources$"+Hn,hi="__reactMarker$"+Hn;function ra(e){delete e[Ee],delete e[Ue],delete e[sa],delete e[jh],delete e[au]}function fi(e){var n=e[Ee];if(n)return n;for(var a=e.parentNode;a;){if(n=a[ci]||a[Ee]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=w_(e);e!==null;){if(a=e[Ee])return a;e=w_(e)}return n}e=a,a=e.parentNode}return null}function Rn(e){if(e=e[Ee]||e[ci]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function mn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function di(e){var n=e[ou];return n||(n=e[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ae(e){e[hi]=!0}var bo=new Set,wo={};function mi(e,n){gi(e,n),gi(e+"Capture",n)}function gi(e,n){for(wo[e]=n,e=0;e<n.length;e++)bo.add(n[e])}var Ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Io={},Co={};function lu(e){return ve.call(Co,e)?!0:ve.call(Io,e)?!1:Ro.test(e)?Co[e]=!0:(Io[e]=!0,!1)}function aa(e,n,a){if(lu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function gn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Se(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function No(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=hs(e)?"checked":"value";e._valueTracker=No(e,n,""+e[n])}}function mr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=hs(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function pi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gr=/[\n"\\]/g;function rn(e){return e.replace(gr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function oa(e,n,a,o,h,f,p,T){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Le(n)):e.value!==""+Le(n)&&(e.value=""+Le(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Do(e,p,Le(n)):a!=null?Do(e,p,Le(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Le(T):e.removeAttribute("name")}function uu(e,n,a,o,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}a=a!=null?""+Le(a):"",n=n!=null?""+Le(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Gt(e)}function Do(e,n,a){n==="number"&&pi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function fs(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Le(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function cu(e,n,a){if(n!=null&&(n=""+Le(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Le(a):""}function ds(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Pt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Le(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Gt(e)}function an(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xo(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||hu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Oo(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&xo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&xo(e,f,n[f])}function la(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ua(e){return ms.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Fn(){}var Mo=null;function In(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gs=null,yi=null;function pr(e){var n=Rn(e);if(n&&(e=n.stateNode)){var a=e[Ue]||null;t:switch(e=n.stateNode,n.type){case"input":if(oa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[Ue]||null;if(!h)throw Error(r(90));oa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&mr(o)}break t;case"textarea":cu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&fs(e,!!a.multiple,n,!1)}}}var ca=!1;function ps(e,n,a){if(ca)return e(n,a);ca=!0;try{var o=e(n);return o}finally{if(ca=!1,(gs!==null||yi!==null)&&(rc(),gs&&(n=gs,e=yi,yi=gs=null,pr(n),e)))for(n=0;n<e.length;n++)pr(e[n])}}function Gn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Ue]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yr=!1;if(Cn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){yr=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{yr=!1}var _i=null,Vo=null,_r=null;function ko(){if(_r)return _r;var e,n=Vo,a=n.length,o,h="value"in _i?_i.value:_i.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var p=a-e;for(o=1;o<=p&&n[a-o]===h[f-o];o++);return _r=h.slice(e,1<o?1-o:void 0)}function vr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Pi(){return!0}function Kn(){return!1}function Be(e){function n(a,o,h,f,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Pi:Kn,this.isPropagationStopped=Kn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),n}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Be(zi),ys=w({},zi,{view:0,detail:0}),Uo=Be(ys),_s,ha,Ti,fa=w({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(_s=e.screenX-Ti.screenX,ha=e.screenY-Ti.screenY):ha=_s=0,Ti=e),_s)},movementY:function(e){return"movementY"in e?e.movementY:ha}}),Lo=Be(fa),Tr=w({},fa,{dataTransfer:0}),du=Be(Tr),mu=w({},ys,{relatedTarget:0}),Er=Be(mu),Po=w({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=Be(Po),da=w({},zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pu=Be(da),yu=w({},zi,{data:0}),Ei=Be(yu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Tu[e])?!!n[e]:!1}function vs(){return Eu}var en=w({},ys,{key:function(e){if(e.key){var n=_u[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=vr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(e){return e.type==="keypress"?vr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Au=Be(en),Su=w({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ji=Be(Su),u=w({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),m=Be(u),v=w({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=Be(v),L=w({},fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Be(L),W=w({},zi,{newState:0,oldState:0}),wt=Be(W),ge=[9,13,27,32],qt=Cn&&"CompositionEvent"in window,le=null;Cn&&"documentMode"in document&&(le=document.documentMode);var Nn=Cn&&"TextEvent"in window&&!le,Ai=Cn&&(!qt||le&&8<le&&11>=le),Yn=" ",Qn=!1;function Ar(e,n){switch(e){case"keyup":return ge.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ma(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ga=!1;function PA(e,n){switch(e){case"compositionend":return ma(n);case"keypress":return n.which!==32?null:(Qn=!0,Yn);case"textInput":return e=n.data,e===Yn&&Qn?null:e;default:return null}}function zA(e,n){if(ga)return e==="compositionend"||!qt&&Ar(e,n)?(e=ko(),_r=Vo=_i=null,ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ai&&n.locale!=="ko"?null:n.data;default:return null}}var jA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!jA[e.type]:n==="textarea"}function Ng(e,n,a,o){gs?yi?yi.push(o):yi=[o]:gs=o,n=fc(n,"onChange"),0<n.length&&(a=new vi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var zo=null,jo=null;function BA(e){h_(e,0)}function bu(e){var n=mn(e);if(mr(n))return e}function Dg(e,n){if(e==="change")return n}var xg=!1;if(Cn){var Bh;if(Cn){var qh="oninput"in document;if(!qh){var Og=document.createElement("div");Og.setAttribute("oninput","return;"),qh=typeof Og.oninput=="function"}Bh=qh}else Bh=!1;xg=Bh&&(!document.documentMode||9<document.documentMode)}function Mg(){zo&&(zo.detachEvent("onpropertychange",Vg),jo=zo=null)}function Vg(e){if(e.propertyName==="value"&&bu(jo)){var n=[];Ng(n,jo,e,In(e)),ps(BA,n)}}function qA(e,n,a){e==="focusin"?(Mg(),zo=n,jo=a,zo.attachEvent("onpropertychange",Vg)):e==="focusout"&&Mg()}function HA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bu(jo)}function FA(e,n){if(e==="click")return bu(n)}function GA(e,n){if(e==="input"||e==="change")return bu(n)}function KA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pn=typeof Object.is=="function"?Object.is:KA;function Bo(e,n){if(pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ve.call(n,h)||!pn(e[h],n[h]))return!1}return!0}function kg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ug(e,n){var a=kg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=kg(a)}}function Lg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Lg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Pg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=pi(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=pi(e.document)}return n}function Hh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var YA=Cn&&"documentMode"in document&&11>=document.documentMode,pa=null,Fh=null,qo=null,Gh=!1;function zg(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gh||pa==null||pa!==pi(o)||(o=pa,"selectionStart"in o&&Hh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),qo&&Bo(qo,o)||(qo=o,o=fc(Fh,"onSelect"),0<o.length&&(n=new vi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=pa)))}function Sr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ya={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionrun:Sr("Transition","TransitionRun"),transitionstart:Sr("Transition","TransitionStart"),transitioncancel:Sr("Transition","TransitionCancel"),transitionend:Sr("Transition","TransitionEnd")},Kh={},jg={};Cn&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function br(e){if(Kh[e])return Kh[e];if(!ya[e])return e;var n=ya[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in jg)return Kh[e]=n[a];return e}var Bg=br("animationend"),qg=br("animationiteration"),Hg=br("animationstart"),QA=br("transitionrun"),XA=br("transitionstart"),$A=br("transitioncancel"),Fg=br("transitionend"),Gg=new Map,Yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yh.push("scrollEnd");function Xn(e,n){Gg.set(e,n),mi(n,[e])}var wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dn=[],_a=0,Qh=0;function Ru(){for(var e=_a,n=Qh=_a=0;n<e;){var a=Dn[n];Dn[n++]=null;var o=Dn[n];Dn[n++]=null;var h=Dn[n];Dn[n++]=null;var f=Dn[n];if(Dn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Kg(a,h,f)}}function Iu(e,n,a,o){Dn[_a++]=e,Dn[_a++]=n,Dn[_a++]=a,Dn[_a++]=o,Qh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Xh(e,n,a,o){return Iu(e,n,a,o),Cu(e)}function wr(e,n){return Iu(e,null,null,n),Cu(e)}function Kg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-me(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Cu(e){if(50<cl)throw cl=0,rd=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var va={};function JA(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,n,a,o){return new JA(e,n,a,o)}function $h(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bi(e,n){var a=e.alternate;return a===null?(a=yn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Yg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Nu(e,n,a,o,h,f){var p=0;if(o=e,typeof e=="function")$h(e)&&(p=1);else if(typeof e=="string")p=nb(e,a,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=yn(31,a,n,h),e.elementType=R,e.lanes=f,e;case nt:return Rr(a.children,h,f,n);case tt:p=8,h|=24;break;case ut:return e=yn(12,a,n,h|2),e.elementType=ut,e.lanes=f,e;case ae:return e=yn(13,a,n,h),e.elementType=ae,e.lanes=f,e;case Lt:return e=yn(19,a,n,h),e.elementType=Lt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _t:p=10;break t;case Tt:p=9;break t;case Qt:p=11;break t;case C:p=14;break t;case b:p=16,o=null;break t}p=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=yn(p,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Rr(e,n,a,o){return e=yn(7,e,o,n),e.lanes=a,e}function Jh(e,n,a){return e=yn(6,e,null,n),e.lanes=a,e}function Qg(e){var n=yn(18,null,null,0);return n.stateNode=e,n}function Zh(e,n,a){return n=yn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Xg=new WeakMap;function xn(e,n){if(typeof e=="object"&&e!==null){var a=Xg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:vo(n)},Xg.set(e,n),n)}return{value:e,source:n,stack:vo(n)}}var Ta=[],Ea=0,Du=null,Ho=0,On=[],Mn=0,Ts=null,Si=1,bi="";function qi(e,n){Ta[Ea++]=Ho,Ta[Ea++]=Du,Du=e,Ho=n}function $g(e,n,a){On[Mn++]=Si,On[Mn++]=bi,On[Mn++]=Ts,Ts=e;var o=Si;e=bi;var h=32-me(o)-1;o&=~(1<<h),a+=1;var f=32-me(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Si=1<<32-me(n)+h|a<<h|o,bi=f+e}else Si=1<<f|a<<h|o,bi=e}function Wh(e){e.return!==null&&(qi(e,1),$g(e,1,0))}function tf(e){for(;e===Du;)Du=Ta[--Ea],Ta[Ea]=null,Ho=Ta[--Ea],Ta[Ea]=null;for(;e===Ts;)Ts=On[--Mn],On[Mn]=null,bi=On[--Mn],On[Mn]=null,Si=On[--Mn],On[Mn]=null}function Jg(e,n){On[Mn++]=Si,On[Mn++]=bi,On[Mn++]=Ts,Si=n.id,bi=n.overflow,Ts=e}var qe=null,ne=null,Ut=!1,Es=null,Vn=!1,ef=Error(r(519));function As(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fo(xn(n,e)),ef}function Zg(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Ee]=e,n[Ue]=o,a){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(a=0;a<fl.length;a++)Dt(fl[a],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),uu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),ds(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||g_(n.textContent,a)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=Fn),n=!0):n=!1,n||As(e,!0)}function Wg(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:qe=qe.return}}function Aa(e){if(e!==qe)return!1;if(!Ut)return Wg(e),Ut=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Td(e.type,e.memoizedProps)),a=!a),a&&ne&&As(e),Wg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ne=b_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ne=b_(e)}else n===27?(n=ne,Us(e.type)?(e=wd,wd=null,ne=e):ne=n):ne=qe?Un(e.stateNode.nextSibling):null;return!0}function Ir(){ne=qe=null,Ut=!1}function nf(){var e=Es;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),Es=null),e}function Fo(e){Es===null?Es=[e]:Es.push(e)}var sf=x(null),Cr=null,Hi=null;function Ss(e,n,a){et(sf,n._currentValue),n._currentValue=a}function Fi(e){e._currentValue=sf.current,Y(sf)}function rf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function af(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var I=0;I<n.length;I++)if(T.context===n[I]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),rf(f.return,a,e),o||(p=null);break t}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),rf(p,a,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Sa(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var T=h.type;pn(h.pendingProps.value,p.value)||(e!==null?e.push(T):e=[T])}}else if(h===bt.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(yl):e=[yl])}h=h.return}e!==null&&af(n,e,a,o),n.flags|=262144}function xu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Nr(e){Cr=e,Hi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return tp(Cr,e)}function Ou(e,n){return Cr===null&&Nr(e),tp(e,n)}function tp(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Hi===null){if(e===null)throw Error(r(308));Hi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Hi=Hi.next=n;return a}var ZA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},WA=s.unstable_scheduleCallback,tS=s.unstable_NormalPriority,be={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function of(){return{controller:new ZA,data:new Map,refCount:0}}function Go(e){e.refCount--,e.refCount===0&&WA(tS,function(){e.controller.abort()})}var Ko=null,lf=0,ba=0,wa=null;function eS(e,n){if(Ko===null){var a=Ko=[];lf=0,ba=hd(),wa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return lf++,n.then(ep,ep),n}function ep(){if(--lf===0&&Ko!==null){wa!==null&&(wa.status="fulfilled");var e=Ko;Ko=null,ba=0,wa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function nS(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var np=P.S;P.S=function(e,n){zy=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&eS(e,n),np!==null&&np(e,n)};var Dr=x(null);function uf(){var e=Dr.current;return e!==null?e:ee.pooledCache}function Mu(e,n){n===null?et(Dr,Dr.current):et(Dr,n.pool)}function ip(){var e=uf();return e===null?null:{parent:be._currentValue,pool:e}}var Ra=Error(r(460)),cf=Error(r(474)),Vu=Error(r(542)),ku={then:function(){}};function sp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function rp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Fn,Fn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,op(e),e;default:if(typeof n.status=="string")n.then(Fn,Fn);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,op(e),e}throw Or=n,Ra}}function xr(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Or=a,Ra):a}}var Or=null;function ap(){if(Or===null)throw Error(r(459));var e=Or;return Or=null,e}function op(e){if(e===Ra||e===Vu)throw Error(r(483))}var Ia=null,Yo=0;function Uu(e){var n=Yo;return Yo+=1,Ia===null&&(Ia=[]),rp(Ia,e,n)}function Qo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Lu(e,n){throw n.$$typeof===O?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function lp(e){function n(V,D){if(e){var z=V.deletions;z===null?(V.deletions=[D],V.flags|=16):z.push(D)}}function a(V,D){if(!e)return null;for(;D!==null;)n(V,D),D=D.sibling;return null}function o(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function h(V,D){return V=Bi(V,D),V.index=0,V.sibling=null,V}function f(V,D,z){return V.index=z,e?(z=V.alternate,z!==null?(z=z.index,z<D?(V.flags|=67108866,D):z):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function p(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function T(V,D,z,G){return D===null||D.tag!==6?(D=Jh(z,V.mode,G),D.return=V,D):(D=h(D,z),D.return=V,D)}function I(V,D,z,G){var ft=z.type;return ft===nt?F(V,D,z.props.children,G,z.key):D!==null&&(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&xr(ft)===D.type)?(D=h(D,z.props),Qo(D,z),D.return=V,D):(D=Nu(z.type,z.key,z.props,null,V.mode,G),Qo(D,z),D.return=V,D)}function j(V,D,z,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=Zh(z,V.mode,G),D.return=V,D):(D=h(D,z.children||[]),D.return=V,D)}function F(V,D,z,G,ft){return D===null||D.tag!==7?(D=Rr(z,V.mode,G,ft),D.return=V,D):(D=h(D,z),D.return=V,D)}function Q(V,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Jh(""+D,V.mode,z),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case K:return z=Nu(D.type,D.key,D.props,null,V.mode,z),Qo(z,D),z.return=V,z;case Z:return D=Zh(D,V.mode,z),D.return=V,D;case b:return D=xr(D),Q(V,D,z)}if(Pt(D)||U(D))return D=Rr(D,V.mode,z,null),D.return=V,D;if(typeof D.then=="function")return Q(V,Uu(D),z);if(D.$$typeof===_t)return Q(V,Ou(V,D),z);Lu(V,D)}return null}function B(V,D,z,G){var ft=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ft!==null?null:T(V,D,""+z,G);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case K:return z.key===ft?I(V,D,z,G):null;case Z:return z.key===ft?j(V,D,z,G):null;case b:return z=xr(z),B(V,D,z,G)}if(Pt(z)||U(z))return ft!==null?null:F(V,D,z,G,null);if(typeof z.then=="function")return B(V,D,Uu(z),G);if(z.$$typeof===_t)return B(V,D,Ou(V,z),G);Lu(V,z)}return null}function H(V,D,z,G,ft){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return V=V.get(z)||null,T(D,V,""+G,ft);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case K:return V=V.get(G.key===null?z:G.key)||null,I(D,V,G,ft);case Z:return V=V.get(G.key===null?z:G.key)||null,j(D,V,G,ft);case b:return G=xr(G),H(V,D,z,G,ft)}if(Pt(G)||U(G))return V=V.get(z)||null,F(D,V,G,ft,null);if(typeof G.then=="function")return H(V,D,z,Uu(G),ft);if(G.$$typeof===_t)return H(V,D,z,Ou(D,G),ft);Lu(D,G)}return null}function at(V,D,z,G){for(var ft=null,jt=null,ot=D,It=D=0,Ot=null;ot!==null&&It<z.length;It++){ot.index>It?(Ot=ot,ot=null):Ot=ot.sibling;var Bt=B(V,ot,z[It],G);if(Bt===null){ot===null&&(ot=Ot);break}e&&ot&&Bt.alternate===null&&n(V,ot),D=f(Bt,D,It),jt===null?ft=Bt:jt.sibling=Bt,jt=Bt,ot=Ot}if(It===z.length)return a(V,ot),Ut&&qi(V,It),ft;if(ot===null){for(;It<z.length;It++)ot=Q(V,z[It],G),ot!==null&&(D=f(ot,D,It),jt===null?ft=ot:jt.sibling=ot,jt=ot);return Ut&&qi(V,It),ft}for(ot=o(ot);It<z.length;It++)Ot=H(ot,V,It,z[It],G),Ot!==null&&(e&&Ot.alternate!==null&&ot.delete(Ot.key===null?It:Ot.key),D=f(Ot,D,It),jt===null?ft=Ot:jt.sibling=Ot,jt=Ot);return e&&ot.forEach(function(Bs){return n(V,Bs)}),Ut&&qi(V,It),ft}function mt(V,D,z,G){if(z==null)throw Error(r(151));for(var ft=null,jt=null,ot=D,It=D=0,Ot=null,Bt=z.next();ot!==null&&!Bt.done;It++,Bt=z.next()){ot.index>It?(Ot=ot,ot=null):Ot=ot.sibling;var Bs=B(V,ot,Bt.value,G);if(Bs===null){ot===null&&(ot=Ot);break}e&&ot&&Bs.alternate===null&&n(V,ot),D=f(Bs,D,It),jt===null?ft=Bs:jt.sibling=Bs,jt=Bs,ot=Ot}if(Bt.done)return a(V,ot),Ut&&qi(V,It),ft;if(ot===null){for(;!Bt.done;It++,Bt=z.next())Bt=Q(V,Bt.value,G),Bt!==null&&(D=f(Bt,D,It),jt===null?ft=Bt:jt.sibling=Bt,jt=Bt);return Ut&&qi(V,It),ft}for(ot=o(ot);!Bt.done;It++,Bt=z.next())Bt=H(ot,V,It,Bt.value,G),Bt!==null&&(e&&Bt.alternate!==null&&ot.delete(Bt.key===null?It:Bt.key),D=f(Bt,D,It),jt===null?ft=Bt:jt.sibling=Bt,jt=Bt);return e&&ot.forEach(function(db){return n(V,db)}),Ut&&qi(V,It),ft}function Wt(V,D,z,G){if(typeof z=="object"&&z!==null&&z.type===nt&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case K:t:{for(var ft=z.key;D!==null;){if(D.key===ft){if(ft=z.type,ft===nt){if(D.tag===7){a(V,D.sibling),G=h(D,z.props.children),G.return=V,V=G;break t}}else if(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&xr(ft)===D.type){a(V,D.sibling),G=h(D,z.props),Qo(G,z),G.return=V,V=G;break t}a(V,D);break}else n(V,D);D=D.sibling}z.type===nt?(G=Rr(z.props.children,V.mode,G,z.key),G.return=V,V=G):(G=Nu(z.type,z.key,z.props,null,V.mode,G),Qo(G,z),G.return=V,V=G)}return p(V);case Z:t:{for(ft=z.key;D!==null;){if(D.key===ft)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){a(V,D.sibling),G=h(D,z.children||[]),G.return=V,V=G;break t}else{a(V,D);break}else n(V,D);D=D.sibling}G=Zh(z,V.mode,G),G.return=V,V=G}return p(V);case b:return z=xr(z),Wt(V,D,z,G)}if(Pt(z))return at(V,D,z,G);if(U(z)){if(ft=U(z),typeof ft!="function")throw Error(r(150));return z=ft.call(z),mt(V,D,z,G)}if(typeof z.then=="function")return Wt(V,D,Uu(z),G);if(z.$$typeof===_t)return Wt(V,D,Ou(V,z),G);Lu(V,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(a(V,D.sibling),G=h(D,z),G.return=V,V=G):(a(V,D),G=Jh(z,V.mode,G),G.return=V,V=G),p(V)):a(V,D)}return function(V,D,z,G){try{Yo=0;var ft=Wt(V,D,z,G);return Ia=null,ft}catch(ot){if(ot===Ra||ot===Vu)throw ot;var jt=yn(29,ot,null,V.mode);return jt.lanes=G,jt.return=V,jt}}}var Mr=lp(!0),up=lp(!1),bs=!1;function hf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ws(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rs(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Cu(e),Kg(e,null,a),n}return Iu(e,o,n,a),Cu(e)}function Xo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Ao(e,a)}}function df(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var mf=!1;function $o(){if(mf){var e=wa;if(e!==null)throw e}}function Jo(e,n,a,o){mf=!1;var h=e.updateQueue;bs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,j=I.next;I.next=null,p===null?f=j:p.next=j,p=I;var F=e.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==p&&(T===null?F.firstBaseUpdate=j:T.next=j,F.lastBaseUpdate=I))}if(f!==null){var Q=h.baseState;p=0,F=j=I=null,T=f;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(xt&B)===B:(o&B)===B){B!==0&&B===ba&&(mf=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var at=e,mt=T;B=n;var Wt=a;switch(mt.tag){case 1:if(at=mt.payload,typeof at=="function"){Q=at.call(Wt,Q,B);break t}Q=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=mt.payload,B=typeof at=="function"?at.call(Wt,Q,B):at,B==null)break t;Q=w({},Q,B);break t;case 2:bs=!0}}B=T.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(j=F=H,I=Q):F=F.next=H,p|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(I=Q),h.baseState=I,h.firstBaseUpdate=j,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),xs|=p,e.lanes=p,e.memoizedState=Q}}function cp(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function hp(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)cp(a[e],n)}var Ca=x(null),Pu=x(0);function fp(e,n){e=Wi,et(Pu,e),et(Ca,n),Wi=e|n.baseLanes}function gf(){et(Pu,Wi),et(Ca,Ca.current)}function pf(){Wi=Pu.current,Y(Ca),Y(Pu)}var _n=x(null),kn=null;function Is(e){var n=e.alternate;et(pe,pe.current&1),et(_n,e),kn===null&&(n===null||Ca.current!==null||n.memoizedState!==null)&&(kn=e)}function yf(e){et(pe,pe.current),et(_n,e),kn===null&&(kn=e)}function dp(e){e.tag===22?(et(pe,pe.current),et(_n,e),kn===null&&(kn=e)):Cs()}function Cs(){et(pe,pe.current),et(_n,_n.current)}function vn(e){Y(_n),kn===e&&(kn=null),Y(pe)}var pe=x(0);function zu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Sd(a)||bd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Gi=0,Rt=null,Jt=null,we=null,ju=!1,Na=!1,Vr=!1,Bu=0,Zo=0,Da=null,iS=0;function he(){throw Error(r(321))}function _f(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!pn(e[a],n[a]))return!1;return!0}function vf(e,n,a,o,h,f){return Gi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,P.H=e===null||e.memoizedState===null?$p:Vf,Vr=!1,f=a(o,h),Vr=!1,Na&&(f=gp(n,a,o,h)),mp(e),f}function mp(e){P.H=el;var n=Jt!==null&&Jt.next!==null;if(Gi=0,we=Jt=Rt=null,ju=!1,Zo=0,Da=null,n)throw Error(r(300));e===null||Re||(e=e.dependencies,e!==null&&xu(e)&&(Re=!0))}function gp(e,n,a,o){Rt=e;var h=0;do{if(Na&&(Da=null),Zo=0,Na=!1,25<=h)throw Error(r(301));if(h+=1,we=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}P.H=Jp,f=n(a,o)}while(Na);return f}function sS(){var e=P.H,n=e.useState()[0];return n=typeof n.then=="function"?Wo(n):n,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(Rt.flags|=1024),n}function Tf(){var e=Bu!==0;return Bu=0,e}function Ef(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Af(e){if(ju){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ju=!1}Gi=0,we=Jt=Rt=null,Na=!1,Zo=Bu=0,Da=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Rt.memoizedState=we=e:we=we.next=e,we}function ye(){if(Jt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var n=we===null?Rt.memoizedState:we.next;if(n!==null)we=n,Jt=e;else{if(e===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},we===null?Rt.memoizedState=we=e:we=we.next=e}return we}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(e){var n=Zo;return Zo+=1,Da===null&&(Da=[]),e=rp(Da,e,n),n=Rt,(we===null?n.memoizedState:we.next)===null&&(n=n.alternate,P.H=n===null||n.memoizedState===null?$p:Vf),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wo(e);if(e.$$typeof===_t)return He(e)}throw Error(r(438,String(e)))}function Sf(e){var n=null,a=Rt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=qu(),Rt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=M;return n.index++,a}function Ki(e,n){return typeof n=="function"?n(e):n}function Fu(e){var n=ye();return bf(n,Jt,e)}function bf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=p=null,I=null,j=n,F=!1;do{var Q=j.lane&-536870913;if(Q!==j.lane?(xt&Q)===Q:(Gi&Q)===Q){var B=j.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Q===ba&&(F=!0);else if((Gi&B)===B){j=j.next,B===ba&&(F=!0);continue}else Q={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(T=I=Q,p=f):I=I.next=Q,Rt.lanes|=B,xs|=B;Q=j.action,Vr&&a(f,Q),f=j.hasEagerState?j.eagerState:a(f,Q)}else B={lane:Q,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(T=I=B,p=f):I=I.next=B,Rt.lanes|=Q,xs|=Q;j=j.next}while(j!==null&&j!==n);if(I===null?p=f:I.next=T,!pn(f,e.memoizedState)&&(Re=!0,F&&(a=wa,a!==null)))throw a;e.memoizedState=f,e.baseState=p,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function wf(e){var n=ye(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);pn(f,n.memoizedState)||(Re=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function pp(e,n,a){var o=Rt,h=ye(),f=Ut;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!pn((Jt||h).memoizedState,a);if(p&&(h.memoizedState=a,Re=!0),h=h.queue,Cf(vp.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||we!==null&&we.memoizedState.tag&1){if(o.flags|=2048,xa(9,{destroy:void 0},_p.bind(null,o,h,a,n),null),ee===null)throw Error(r(349));f||(Gi&127)!==0||yp(o,n,a)}return a}function yp(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Rt.updateQueue,n===null?(n=qu(),Rt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function _p(e,n,a,o){n.value=a,n.getSnapshot=o,Tp(n)&&Ep(e)}function vp(e,n,a){return a(function(){Tp(n)&&Ep(e)})}function Tp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!pn(e,a)}catch{return!0}}function Ep(e){var n=wr(e,2);n!==null&&hn(n,e,2)}function Rf(e){var n=nn();if(typeof e=="function"){var a=e;if(e=a(),Vr){wn(!0);try{a()}finally{wn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},n}function Ap(e,n,a,o){return e.baseState=a,bf(e,Jt,typeof o=="function"?o:Ki)}function rS(e,n,a,o,h){if(Yu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};P.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Sp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Sp(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=P.T,p={};P.T=p;try{var T=a(h,o),I=P.S;I!==null&&I(p,T),bp(e,n,T)}catch(j){If(e,n,j)}finally{f!==null&&p.types!==null&&(f.types=p.types),P.T=f}}else try{f=a(h,o),bp(e,n,f)}catch(j){If(e,n,j)}}function bp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){wp(e,n,o)},function(o){return If(e,n,o)}):wp(e,n,a)}function wp(e,n,a){n.status="fulfilled",n.value=a,Rp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Sp(e,a)))}function If(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Rp(n),n=n.next;while(n!==o)}e.action=null}function Rp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Ip(e,n){return n}function Cp(e,n){if(Ut){var a=ee.formState;if(a!==null){t:{var o=Rt;if(Ut){if(ne){e:{for(var h=ne,f=Vn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Un(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=Un(h.nextSibling),o=h.data==="F!";break t}}As(o)}o=!1}o&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ip,lastRenderedState:n},a.queue=o,a=Yp.bind(null,Rt,o),o.dispatch=a,o=Rf(!1),f=Mf.bind(null,Rt,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=rS.bind(null,Rt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Np(e){var n=ye();return Dp(n,Jt,e)}function Dp(e,n,a){if(n=bf(e,n,Ip)[0],e=Fu(Ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Wo(n)}catch(p){throw p===Ra?Vu:p}else o=n;n=ye();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Rt.flags|=2048,xa(9,{destroy:void 0},aS.bind(null,h,a),null)),[o,f,e]}function aS(e,n){e.action=n}function xp(e){var n=ye(),a=Jt;if(a!==null)return Dp(n,a,e);ye(),n=n.memoizedState,a=ye();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function xa(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=qu(),Rt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Op(){return ye().memoizedState}function Gu(e,n,a,o){var h=nn();Rt.flags|=e,h.memoizedState=xa(1|n,{destroy:void 0},a,o===void 0?null:o)}function Ku(e,n,a,o){var h=ye();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&_f(o,Jt.memoizedState.deps)?h.memoizedState=xa(n,f,a,o):(Rt.flags|=e,h.memoizedState=xa(1|n,f,a,o))}function Mp(e,n){Gu(8390656,8,e,n)}function Cf(e,n){Ku(2048,8,e,n)}function oS(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=qu(),Rt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Vp(e){var n=ye().memoizedState;return oS({ref:n,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function kp(e,n){return Ku(4,2,e,n)}function Up(e,n){return Ku(4,4,e,n)}function Lp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Pp(e,n,a){a=a!=null?a.concat([e]):null,Ku(4,4,Lp.bind(null,n,e),a)}function Nf(){}function zp(e,n){var a=ye();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&_f(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function jp(e,n){var a=ye();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&_f(n,o[1]))return o[0];if(o=e(),Vr){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[o,n],o}function Df(e,n,a){return a===void 0||(Gi&1073741824)!==0&&(xt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=By(),Rt.lanes|=e,xs|=e,a)}function Bp(e,n,a,o){return pn(a,n)?a:Ca.current!==null?(e=Df(e,a,o),pn(e,n)||(Re=!0),e):(Gi&42)===0||(Gi&1073741824)!==0&&(xt&261930)===0?(Re=!0,e.memoizedState=a):(e=By(),Rt.lanes|=e,xs|=e,n)}function qp(e,n,a,o,h){var f=J.p;J.p=f!==0&&8>f?f:8;var p=P.T,T={};P.T=T,Mf(e,!1,n,a);try{var I=h(),j=P.S;if(j!==null&&j(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var F=nS(I,o);tl(e,n,F,An(e))}else tl(e,n,o,An(e))}catch(Q){tl(e,n,{then:function(){},status:"rejected",reason:Q},An())}finally{J.p=f,p!==null&&T.types!==null&&(p.types=T.types),P.T=p}}function lS(){}function xf(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=Hp(e).queue;qp(e,h,n,it,a===null?lS:function(){return Fp(e),a(o)})}function Hp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:it,baseState:it,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:it},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Fp(e){var n=Hp(e);n.next===null&&(n=e.alternate.memoizedState),tl(e,n.next.queue,{},An())}function Of(){return He(yl)}function Gp(){return ye().memoizedState}function Kp(){return ye().memoizedState}function uS(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=An();e=ws(a);var o=Rs(n,e,a);o!==null&&(hn(o,n,a),Xo(o,n,a)),n={cache:of()},e.payload=n;return}n=n.return}}function cS(e,n,a){var o=An();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Yu(e)?Qp(n,a):(a=Xh(e,n,a,o),a!==null&&(hn(a,e,o),Xp(a,n,o)))}function Yp(e,n,a){var o=An();tl(e,n,a,o)}function tl(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))Qp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,a);if(h.hasEagerState=!0,h.eagerState=T,pn(T,p))return Iu(e,n,h,0),ee===null&&Ru(),!1}catch{}if(a=Xh(e,n,h,o),a!==null)return hn(a,e,o),Xp(a,n,o),!0}return!1}function Mf(e,n,a,o){if(o={lane:2,revertLane:hd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Yu(e)){if(n)throw Error(r(479))}else n=Xh(e,a,o,2),n!==null&&hn(n,e,2)}function Yu(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function Qp(e,n){Na=ju=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Xp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Ao(e,a)}}var el={readContext:He,use:Hu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};el.useEffectEvent=he;var $p={readContext:He,use:Hu,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:He,useEffect:Mp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Gu(4194308,4,Lp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Gu(4194308,4,e,n)},useInsertionEffect:function(e,n){Gu(4,2,e,n)},useMemo:function(e,n){var a=nn();n=n===void 0?null:n;var o=e();if(Vr){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=nn();if(a!==void 0){var h=a(n);if(Vr){wn(!0);try{a(n)}finally{wn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=cS.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=Rf(e);var n=e.queue,a=Yp.bind(null,Rt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Nf,useDeferredValue:function(e,n){var a=nn();return Df(a,e,n)},useTransition:function(){var e=Rf(!1);return e=qp.bind(null,Rt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Rt,h=nn();if(Ut){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ee===null)throw Error(r(349));(xt&127)!==0||yp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Mp(vp.bind(null,o,f,e),[e]),o.flags|=2048,xa(9,{destroy:void 0},_p.bind(null,o,f,a,n),null),a},useId:function(){var e=nn(),n=ee.identifierPrefix;if(Ut){var a=bi,o=Si;a=(o&~(1<<32-me(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Bu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=iS++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Of,useFormState:Cp,useActionState:Cp,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Mf.bind(null,Rt,!0,a),a.dispatch=n,[e,n]},useMemoCache:Sf,useCacheRefresh:function(){return nn().memoizedState=uS.bind(null,Rt)},useEffectEvent:function(e){var n=nn(),a={impl:e};return n.memoizedState=a,function(){if((Ht&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Vf={readContext:He,use:Hu,useCallback:zp,useContext:He,useEffect:Cf,useImperativeHandle:Pp,useInsertionEffect:kp,useLayoutEffect:Up,useMemo:jp,useReducer:Fu,useRef:Op,useState:function(){return Fu(Ki)},useDebugValue:Nf,useDeferredValue:function(e,n){var a=ye();return Bp(a,Jt.memoizedState,e,n)},useTransition:function(){var e=Fu(Ki)[0],n=ye().memoizedState;return[typeof e=="boolean"?e:Wo(e),n]},useSyncExternalStore:pp,useId:Gp,useHostTransitionStatus:Of,useFormState:Np,useActionState:Np,useOptimistic:function(e,n){var a=ye();return Ap(a,Jt,e,n)},useMemoCache:Sf,useCacheRefresh:Kp};Vf.useEffectEvent=Vp;var Jp={readContext:He,use:Hu,useCallback:zp,useContext:He,useEffect:Cf,useImperativeHandle:Pp,useInsertionEffect:kp,useLayoutEffect:Up,useMemo:jp,useReducer:wf,useRef:Op,useState:function(){return wf(Ki)},useDebugValue:Nf,useDeferredValue:function(e,n){var a=ye();return Jt===null?Df(a,e,n):Bp(a,Jt.memoizedState,e,n)},useTransition:function(){var e=wf(Ki)[0],n=ye().memoizedState;return[typeof e=="boolean"?e:Wo(e),n]},useSyncExternalStore:pp,useId:Gp,useHostTransitionStatus:Of,useFormState:xp,useActionState:xp,useOptimistic:function(e,n){var a=ye();return Jt!==null?Ap(a,Jt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:Kp};Jp.useEffectEvent=Vp;function kf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:w({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Uf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=An(),h=ws(o);h.payload=n,a!=null&&(h.callback=a),n=Rs(e,h,o),n!==null&&(hn(n,e,o),Xo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=An(),h=ws(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Rs(e,h,o),n!==null&&(hn(n,e,o),Xo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=An(),o=ws(a);o.tag=2,n!=null&&(o.callback=n),n=Rs(e,o,a),n!==null&&(hn(n,e,a),Xo(n,e,a))}};function Zp(e,n,a,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Bo(a,o)||!Bo(h,f):!0}function Wp(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Uf.enqueueReplaceState(n,n.state,null)}function kr(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=w({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function ty(e){wu(e)}function ey(e){console.error(e)}function ny(e){wu(e)}function Qu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function iy(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Lf(e,n,a){return a=ws(a),a.tag=3,a.payload={element:null},a.callback=function(){Qu(e,n)},a}function sy(e){return e=ws(e),e.tag=3,e}function ry(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){iy(n,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){iy(n,a,o),typeof h!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function hS(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Sa(n,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?ac():a.alternate===null&&fe===0&&(fe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===ku?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),ld(e,o,h)),!1;case 22:return a.flags|=65536,o===ku?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),ld(e,o,h)),!1}throw Error(r(435,a.tag))}return ld(e,o,h),ac(),!1}if(Ut)return n=_n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==ef&&(e=Error(r(422),{cause:o}),Fo(xn(e,a)))):(o!==ef&&(n=Error(r(423),{cause:o}),Fo(xn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=xn(o,a),h=Lf(e.stateNode,o,h),df(e,h),fe!==4&&(fe=2)),!1;var f=Error(r(520),{cause:o});if(f=xn(f,a),ul===null?ul=[f]:ul.push(f),fe!==4&&(fe=2),n===null)return!0;o=xn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Lf(a.stateNode,o,e),df(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Os===null||!Os.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=sy(h),ry(h,e,a,o),df(a,h),!1}a=a.return}while(a!==null);return!1}var Pf=Error(r(461)),Re=!1;function Fe(e,n,a,o){n.child=e===null?up(n,null,a,o):Mr(n,e.child,a,o)}function ay(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var p={};for(var T in o)T!=="ref"&&(p[T]=o[T])}else p=o;return Nr(n),o=vf(e,n,a,p,f,h),T=Tf(),e!==null&&!Re?(Ef(e,n,h),Yi(e,n,h)):(Ut&&T&&Wh(n),n.flags|=1,Fe(e,n,o,h),n.child)}function oy(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!$h(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,ly(e,n,f,o,h)):(e=Nu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Kf(e,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:Bo,a(p,o)&&e.ref===n.ref)return Yi(e,n,h)}return n.flags|=1,e=Bi(f,o),e.ref=n.ref,e.return=n,n.child=e}function ly(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Bo(f,o)&&e.ref===n.ref)if(Re=!1,n.pendingProps=o=f,Kf(e,h))(e.flags&131072)!==0&&(Re=!0);else return n.lanes=e.lanes,Yi(e,n,h)}return zf(e,n,a,o,h)}function uy(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return cy(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mu(n,f!==null?f.cachePool:null),f!==null?fp(n,f):gf(),dp(n);else return o=n.lanes=536870912,cy(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Mu(n,f.cachePool),fp(n,f),Cs(),n.memoizedState=null):(e!==null&&Mu(n,null),gf(),Cs());return Fe(e,n,h,a),n.child}function nl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function cy(e,n,a,o,h){var f=uf();return f=f===null?null:{parent:be._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Mu(n,null),gf(),dp(n),e!==null&&Sa(e,n,o,!0),n.childLanes=h,null}function Xu(e,n){return n=Ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function hy(e,n,a){return Mr(n,e.child,null,a),e=Xu(n,n.pendingProps),e.flags|=2,vn(n),n.memoizedState=null,e}function fS(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=Xu(n,o),n.lanes=536870912,nl(null,e);if(yf(n),(e=ne)?(e=S_(e,Vn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ts!==null?{id:Si,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Qg(e),a.return=n,n.child=a,qe=n,ne=null)):e=null,e===null)throw As(n);return n.lanes=536870912,null}return Xu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(yf(n),h)if(n.flags&256)n.flags&=-257,n=hy(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Re||Sa(e,n,a,!1),h=(a&e.childLanes)!==0,Re||h){if(o=ee,o!==null&&(p=So(o,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,wr(e,p),hn(o,e,p),Pf;ac(),n=hy(e,n,a)}else e=f.treeContext,ne=Un(p.nextSibling),qe=n,Ut=!0,Es=null,Vn=!1,e!==null&&Jg(n,e),n=Xu(n,o),n.flags|=4096;return n}return e=Bi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function $u(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function zf(e,n,a,o,h){return Nr(n),a=vf(e,n,a,o,void 0,h),o=Tf(),e!==null&&!Re?(Ef(e,n,h),Yi(e,n,h)):(Ut&&o&&Wh(n),n.flags|=1,Fe(e,n,a,h),n.child)}function fy(e,n,a,o,h,f){return Nr(n),n.updateQueue=null,a=gp(n,o,a,h),mp(e),o=Tf(),e!==null&&!Re?(Ef(e,n,f),Yi(e,n,f)):(Ut&&o&&Wh(n),n.flags|=1,Fe(e,n,a,f),n.child)}function dy(e,n,a,o,h){if(Nr(n),n.stateNode===null){var f=va,p=a.contextType;typeof p=="object"&&p!==null&&(f=He(p)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},hf(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?He(p):va,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(kf(n,a,p,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Uf.enqueueReplaceState(f,f.state,null),Jo(n,o,f,h),$o(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,I=kr(a,T);f.props=I;var j=f.context,F=a.contextType;p=va,typeof F=="object"&&F!==null&&(p=He(F));var Q=a.getDerivedStateFromProps;F=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||j!==p)&&Wp(n,f,o,p),bs=!1;var B=n.memoizedState;f.state=B,Jo(n,o,f,h),$o(),j=n.memoizedState,T||B!==j||bs?(typeof Q=="function"&&(kf(n,a,Q,o),j=n.memoizedState),(I=bs||Zp(n,a,I,o,B,j,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=p,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,ff(e,n),p=n.memoizedProps,F=kr(a,p),f.props=F,Q=n.pendingProps,B=f.context,j=a.contextType,I=va,typeof j=="object"&&j!==null&&(I=He(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Q||B!==I)&&Wp(n,f,o,I),bs=!1,B=n.memoizedState,f.state=B,Jo(n,o,f,h),$o();var H=n.memoizedState;p!==Q||B!==H||bs||e!==null&&e.dependencies!==null&&xu(e.dependencies)?(typeof T=="function"&&(kf(n,a,T,o),H=n.memoizedState),(F=bs||Zp(n,a,F,o,B,H,I)||e!==null&&e.dependencies!==null&&xu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=I,o=F):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,$u(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Mr(n,e.child,null,h),n.child=Mr(n,null,a,h)):Fe(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Yi(e,n,h),e}function my(e,n,a,o){return Ir(),n.flags|=256,Fe(e,n,a,o),n.child}var jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bf(e){return{baseLanes:e,cachePool:ip()}}function qf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=En),e}function gy(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(h?Is(n):Cs(),(e=ne)?(e=S_(e,Vn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ts!==null?{id:Si,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Qg(e),a.return=n,n.child=a,qe=n,ne=null)):e=null,e===null)throw As(n);return bd(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Cs(),h=n.mode,T=Ju({mode:"hidden",children:T},h),o=Rr(o,h,a,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Bf(a),o.childLanes=qf(e,p,a),n.memoizedState=jf,nl(null,o)):(Is(n),Hf(n,T))}var I=e.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(f)n.flags&256?(Is(n),n.flags&=-257,n=Ff(e,n,a)):n.memoizedState!==null?(Cs(),n.child=e.child,n.flags|=128,n=null):(Cs(),T=o.fallback,h=n.mode,o=Ju({mode:"visible",children:o.children},h),T=Rr(T,h,a,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Mr(n,e.child,null,a),o=n.child,o.memoizedState=Bf(a),o.childLanes=qf(e,p,a),n.memoizedState=jf,n=nl(null,o));else if(Is(n),bd(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var j=p.dgst;p=j,o=Error(r(419)),o.stack="",o.digest=p,Fo({value:o,source:null,stack:null}),n=Ff(e,n,a)}else if(Re||Sa(e,n,a,!1),p=(a&e.childLanes)!==0,Re||p){if(p=ee,p!==null&&(o=So(p,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,wr(e,o),hn(p,e,o),Pf;Sd(T)||ac(),n=Ff(e,n,a)}else Sd(T)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ne=Un(T.nextSibling),qe=n,Ut=!0,Es=null,Vn=!1,e!==null&&Jg(n,e),n=Hf(n,o.children),n.flags|=4096);return n}return h?(Cs(),T=o.fallback,h=n.mode,I=e.child,j=I.sibling,o=Bi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,j!==null?T=Bi(j,T):(T=Rr(T,h,a,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,nl(null,o),o=n.child,T=e.child.memoizedState,T===null?T=Bf(a):(h=T.cachePool,h!==null?(I=be._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=ip(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=qf(e,p,a),n.memoizedState=jf,nl(e.child,o)):(Is(n),a=e.child,e=a.sibling,a=Bi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=a,n.memoizedState=null,a)}function Hf(e,n){return n=Ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ju(e,n){return e=yn(22,e,null,n),e.lanes=0,e}function Ff(e,n,a){return Mr(n,e.child,null,a),e=Hf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function py(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),rf(e.return,n,a)}function Gf(e,n,a,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function yy(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=pe.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,et(pe,p),Fe(e,n,o,a),o=Ut?Ho:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&py(e,a,n);else if(e.tag===19)py(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&zu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Gf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&zu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Gf(n,!0,a,null,f,o);break;case"together":Gf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Yi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),xs|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Sa(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=Bi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Bi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Kf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&xu(e)))}function dS(e,n,a){switch(n.tag){case 3:Xt(n,n.stateNode.containerInfo),Ss(n,be,e.memoizedState.cache),Ir();break;case 27:case 5:or(n);break;case 4:Xt(n,n.stateNode.containerInfo);break;case 10:Ss(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,yf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Is(n),n.flags|=128,null):(a&n.child.childLanes)!==0?gy(e,n,a):(Is(n),e=Yi(e,n,a),e!==null?e.sibling:null);Is(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Sa(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return yy(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(pe,pe.current),o)break;return null;case 22:return n.lanes=0,uy(e,n,a,n.pendingProps);case 24:Ss(n,be,e.memoizedState.cache)}return Yi(e,n,a)}function _y(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Re=!0;else{if(!Kf(e,a)&&(n.flags&128)===0)return Re=!1,dS(e,n,a);Re=(e.flags&131072)!==0}else Re=!1,Ut&&(n.flags&1048576)!==0&&$g(n,Ho,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=xr(n.elementType),n.type=e,typeof e=="function")$h(e)?(o=kr(e,o),n.tag=1,n=dy(null,n,e,o,a)):(n.tag=0,n=zf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Qt){n.tag=11,n=ay(null,n,e,o,a);break t}else if(h===C){n.tag=14,n=oy(null,n,e,o,a);break t}}throw n=ht(e)||e,Error(r(306,n,""))}}return n;case 0:return zf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=kr(o,n.pendingProps),dy(e,n,o,h,a);case 3:t:{if(Xt(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,ff(e,n),Jo(n,o,null,a);var p=n.memoizedState;if(o=p.cache,Ss(n,be,o),o!==f.cache&&af(n,[be],a,!0),$o(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=my(e,n,o,a);break t}else if(o!==h){h=xn(Error(r(424)),n),Fo(h),n=my(e,n,o,a);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ne=Un(e.firstChild),qe=n,Ut=!0,Es=null,Vn=!0,a=up(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ir(),o===h){n=Yi(e,n,a);break t}Fe(e,n,o,a)}n=n.child}return n;case 26:return $u(e,n),e===null?(a=N_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ut||(a=n.type,e=n.pendingProps,o=dc(ct.current).createElement(a),o[Ee]=n,o[Ue]=e,Ge(o,a,e),Ae(o),n.stateNode=o):n.memoizedState=N_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return or(n),e===null&&Ut&&(o=n.stateNode=R_(n.type,n.pendingProps,ct.current),qe=n,Vn=!0,h=ne,Us(n.type)?(wd=h,ne=Un(o.firstChild)):ne=h),Fe(e,n,n.pendingProps.children,a),$u(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((h=o=ne)&&(o=HS(o,n.type,n.pendingProps,Vn),o!==null?(n.stateNode=o,qe=n,ne=Un(o.firstChild),Vn=!1,h=!0):h=!1),h||As(n)),or(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,Td(h,f)?o=null:p!==null&&Td(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=vf(e,n,sS,null,null,a),yl._currentValue=h),$u(e,n),Fe(e,n,o,a),n.child;case 6:return e===null&&Ut&&((e=a=ne)&&(a=FS(a,n.pendingProps,Vn),a!==null?(n.stateNode=a,qe=n,ne=null,e=!0):e=!1),e||As(n)),null;case 13:return gy(e,n,a);case 4:return Xt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Mr(n,null,o,a):Fe(e,n,o,a),n.child;case 11:return ay(e,n,n.type,n.pendingProps,a);case 7:return Fe(e,n,n.pendingProps,a),n.child;case 8:return Fe(e,n,n.pendingProps.children,a),n.child;case 12:return Fe(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ss(n,n.type,o.value),Fe(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Nr(n),h=He(h),o=o(h),n.flags|=1,Fe(e,n,o,a),n.child;case 14:return oy(e,n,n.type,n.pendingProps,a);case 15:return ly(e,n,n.type,n.pendingProps,a);case 19:return yy(e,n,a);case 31:return fS(e,n,a);case 22:return uy(e,n,a,n.pendingProps);case 24:return Nr(n),o=He(be),e===null?(h=uf(),h===null&&(h=ee,f=of(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},hf(n),Ss(n,be,h)):((e.lanes&a)!==0&&(ff(e,n),Jo(n,null,null,a),$o()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ss(n,be,o)):(o=f.cache,Ss(n,be,o),o!==h.cache&&af(n,[be],a,!0))),Fe(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Qi(e){e.flags|=4}function Yf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Gy())e.flags|=8192;else throw Or=ku,cf}else e.flags&=-16777217}function vy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!V_(n))if(Gy())e.flags|=8192;else throw Or=ku,cf}function Zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?su():536870912,e.lanes|=n,ka|=n)}function il(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function mS(e,n,a){var o=n.pendingProps;switch(tf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Fi(be),oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Aa(n)?Qi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,nf())),ie(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Qi(n),f!==null?(ie(n),vy(n,f)):(ie(n),Yf(n,h,null,o,a))):f?f!==e.memoizedState?(Qi(n),ie(n),vy(n,f)):(ie(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Qi(n),ie(n),Yf(n,h,e,o,a)),null;case 27:if(ta(n),a=ct.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Qi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ie(n),null}e=st.current,Aa(n)?Zg(n):(e=R_(h,o,a),n.stateNode=e,Qi(n))}return ie(n),null;case 5:if(ta(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Qi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ie(n),null}if(f=st.current,Aa(n))Zg(n);else{var p=dc(ct.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Ee]=n,f[Ue]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Qi(n)}}return ie(n),Yf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Qi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=ct.current,Aa(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||g_(e.nodeValue,a)),e||As(n,!0)}else e=dc(e).createTextNode(o),e[Ee]=n,n.stateNode=e}return ie(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Aa(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Ee]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),e=!1}else a=nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Aa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ee]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Zu(n,n.updateQueue),ie(n),null);case 4:return oe(),e===null&&gd(n.stateNode.containerInfo),ie(n),null;case 10:return Fi(n.type),ie(n),null;case 19:if(Y(pe),o=n.memoizedState,o===null)return ie(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)il(o,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=zu(e),f!==null){for(n.flags|=128,il(o,!1),e=f.updateQueue,n.updateQueue=e,Zu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Yg(a,e),a=a.sibling;return et(pe,pe.current&1|2),Ut&&qi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&tn()>ic&&(n.flags|=128,h=!0,il(o,!1),n.lanes=4194304)}else{if(!h)if(e=zu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Zu(n,e),il(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ut)return ie(n),null}else 2*tn()-o.renderingStartTime>ic&&a!==536870912&&(n.flags|=128,h=!0,il(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,a=pe.current,et(pe,h?a&1|2:a&1),Ut&&qi(n,o.treeForkCount),e):(ie(n),null);case 22:case 23:return vn(n),pf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&Zu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&Y(Dr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Fi(be),ie(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function gS(e,n){switch(tf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Fi(be),oe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ta(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(r(340));Ir()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(vn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ir()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(pe),null;case 4:return oe(),null;case 10:return Fi(n.type),null;case 22:case 23:return vn(n),pf(),e!==null&&Y(Dr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Fi(be),null;case 25:return null;default:return null}}function Ty(e,n){switch(tf(n),n.tag){case 3:Fi(be),oe();break;case 26:case 27:case 5:ta(n);break;case 4:oe();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:Y(pe);break;case 10:Fi(n.type);break;case 22:case 23:vn(n),pf(),e!==null&&Y(Dr);break;case 24:Fi(be)}}function sl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,p=a.inst;o=f(),p.destroy=o}a=a.next}while(a!==h)}}catch(T){Yt(n,n.return,T)}}function Ns(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var I=a,j=T;try{j()}catch(F){Yt(h,I,F)}}}o=o.next}while(o!==f)}}catch(F){Yt(n,n.return,F)}}function Ey(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{hp(n,a)}catch(o){Yt(e,e.return,o)}}}function Ay(e,n,a){a.props=kr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Yt(e,n,o)}}function rl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Yt(e,n,h)}}function wi(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,n,h)}else a.current=null}function Sy(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function Qf(e,n,a){try{var o=e.stateNode;LS(o,e.type,a,n),o[Ue]=n}catch(h){Yt(e,e.return,h)}}function by(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Us(e.type)||e.tag===4}function Xf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||by(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Us(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $f(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Fn));else if(o!==4&&(o===27&&Us(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for($f(e,n,a),e=e.sibling;e!==null;)$f(e,n,a),e=e.sibling}function Wu(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Us(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Wu(e,n,a),e=e.sibling;e!==null;)Wu(e,n,a),e=e.sibling}function wy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,o,a),n[Ee]=e,n[Ue]=a}catch(f){Yt(e,e.return,f)}}var Xi=!1,Ie=!1,Jf=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function pS(e,n){if(e=e.containerInfo,_d=Tc,e=Pg(e),Hh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var p=0,T=-1,I=-1,j=0,F=0,Q=e,B=null;e:for(;;){for(var H;Q!==a||h!==0&&Q.nodeType!==3||(T=p+h),Q!==f||o!==0&&Q.nodeType!==3||(I=p+o),Q.nodeType===3&&(p+=Q.nodeValue.length),(H=Q.firstChild)!==null;)B=Q,Q=H;for(;;){if(Q===e)break e;if(B===a&&++j===h&&(T=p),B===f&&++F===o&&(I=p),(H=Q.nextSibling)!==null)break;Q=B,B=Q.parentNode}Q=H}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(vd={focusedElem:e,selectionRange:a},Tc=!1,Pe=n;Pe!==null;)if(n=Pe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Pe=e;else for(;Pe!==null;){switch(n=Pe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var at=kr(a.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Yt(a,a.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Ad(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ad(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Pe=e;break}Pe=n.return}}function Iy(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ji(e,a),o&4&&sl(5,a);break;case 1:if(Ji(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(p){Yt(a,a.return,p)}else{var h=kr(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Yt(a,a.return,p)}}o&64&&Ey(a),o&512&&rl(a,a.return);break;case 3:if(Ji(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{hp(e,n)}catch(p){Yt(a,a.return,p)}}break;case 27:n===null&&o&4&&wy(a);case 26:case 5:Ji(e,a),n===null&&o&4&&Sy(a),o&512&&rl(a,a.return);break;case 12:Ji(e,a);break;case 31:Ji(e,a),o&4&&Dy(e,a);break;case 13:Ji(e,a),o&4&&xy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=wS.bind(null,a),GS(e,a))));break;case 22:if(o=a.memoizedState!==null||Xi,!o){n=n!==null&&n.memoizedState!==null||Ie,h=Xi;var f=Ie;Xi=o,(Ie=n)&&!f?Zi(e,a,(a.subtreeFlags&8772)!==0):Ji(e,a),Xi=h,Ie=f}break;case 30:break;default:Ji(e,a)}}function Cy(e){var n=e.alternate;n!==null&&(e.alternate=null,Cy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ra(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ue=null,on=!1;function $i(e,n,a){for(a=a.child;a!==null;)Ny(e,n,a),a=a.sibling}function Ny(e,n,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(jn,a)}catch{}switch(a.tag){case 26:Ie||wi(a,n),$i(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ie||wi(a,n);var o=ue,h=on;Us(a.type)&&(ue=a.stateNode,on=!1),$i(e,n,a),ml(a.stateNode),ue=o,on=h;break;case 5:Ie||wi(a,n);case 6:if(o=ue,h=on,ue=null,$i(e,n,a),ue=o,on=h,ue!==null)if(on)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(a.stateNode)}catch(f){Yt(a,n,f)}else try{ue.removeChild(a.stateNode)}catch(f){Yt(a,n,f)}break;case 18:ue!==null&&(on?(e=ue,E_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ha(e)):E_(ue,a.stateNode));break;case 4:o=ue,h=on,ue=a.stateNode.containerInfo,on=!0,$i(e,n,a),ue=o,on=h;break;case 0:case 11:case 14:case 15:Ns(2,a,n),Ie||Ns(4,a,n),$i(e,n,a);break;case 1:Ie||(wi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ay(a,n,o)),$i(e,n,a);break;case 21:$i(e,n,a);break;case 22:Ie=(o=Ie)||a.memoizedState!==null,$i(e,n,a),Ie=o;break;default:$i(e,n,a)}}function Dy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ha(e)}catch(a){Yt(n,n.return,a)}}}function xy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ha(e)}catch(a){Yt(n,n.return,a)}}function yS(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ry),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ry),n;default:throw Error(r(435,e.tag))}}function tc(e,n){var a=yS(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=RS.bind(null,e,o);o.then(h,h)}})}function ln(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,p=n,T=p;t:for(;T!==null;){switch(T.tag){case 27:if(Us(T.type)){ue=T.stateNode,on=!1;break t}break;case 5:ue=T.stateNode,on=!1;break t;case 3:case 4:ue=T.stateNode.containerInfo,on=!0;break t}T=T.return}if(ue===null)throw Error(r(160));Ny(f,p,h),ue=null,on=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Oy(n,e),n=n.sibling}var $n=null;function Oy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),un(e),o&4&&(Ns(3,e,e.return),sl(3,e),Ns(5,e,e.return));break;case 1:ln(n,e),un(e),o&512&&(Ie||a===null||wi(a,a.return)),o&64&&Xi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=$n;if(ln(n,e),un(e),o&512&&(Ie||a===null||wi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[hi]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,a),f[Ee]=e,Ae(f),o=f;break t;case"link":var p=O_("link","href",h).get(o+(a.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(T,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;case"meta":if(p=O_("meta","content",h).get(o+(a.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(T,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Ee]=e,Ae(f),o=f}e.stateNode=o}else M_(h,e.type,e.stateNode);else e.stateNode=x_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?M_(h,e.type,e.stateNode):x_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Qf(e,e.memoizedProps,a.memoizedProps)}break;case 27:ln(n,e),un(e),o&512&&(Ie||a===null||wi(a,a.return)),a!==null&&o&4&&Qf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ln(n,e),un(e),o&512&&(Ie||a===null||wi(a,a.return)),e.flags&32){h=e.stateNode;try{an(h,"")}catch(at){Yt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Qf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Jf=!0);break;case 6:if(ln(n,e),un(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(at){Yt(e,e.return,at)}}break;case 3:if(pc=null,h=$n,$n=mc(n.containerInfo),ln(n,e),$n=h,un(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ha(n.containerInfo)}catch(at){Yt(e,e.return,at)}Jf&&(Jf=!1,My(e));break;case 4:o=$n,$n=mc(e.stateNode.containerInfo),ln(n,e),un(e),$n=o;break;case 12:ln(n,e),un(e);break;case 31:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 13:ln(n,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(nc=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,j=Xi,F=Ie;if(Xi=j||h,Ie=F||I,ln(n,e),Ie=F,Xi=j,un(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||I||Xi||Ie||Ur(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=I.stateNode;var Q=I.memoizedProps.style,B=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(at){Yt(I,I.return,at)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(at){Yt(I,I.return,at)}}}else if(n.tag===18){if(a===null){I=n;try{var H=I.stateNode;h?A_(H,!0):A_(I.stateNode,!1)}catch(at){Yt(I,I.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,tc(e,a))));break;case 19:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 30:break;case 21:break;default:ln(n,e),un(e)}}function un(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(by(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Xf(e);Wu(e,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(an(p,""),a.flags&=-33);var T=Xf(e);Wu(e,T,p);break;case 3:case 4:var I=a.stateNode.containerInfo,j=Xf(e);$f(e,j,I);break;default:throw Error(r(161))}}catch(F){Yt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function My(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;My(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ji(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Iy(e,n.alternate,n),n=n.sibling}function Ur(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ns(4,n,n.return),Ur(n);break;case 1:wi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ay(n,n.return,a),Ur(n);break;case 27:ml(n.stateNode);case 26:case 5:wi(n,n.return),Ur(n);break;case 22:n.memoizedState===null&&Ur(n);break;case 30:Ur(n);break;default:Ur(n)}e=e.sibling}}function Zi(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Zi(h,f,a),sl(4,f);break;case 1:if(Zi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Yt(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)cp(I[h],T)}catch(j){Yt(o,o.return,j)}}a&&p&64&&Ey(f),rl(f,f.return);break;case 27:wy(f);case 26:case 5:Zi(h,f,a),a&&o===null&&p&4&&Sy(f),rl(f,f.return);break;case 12:Zi(h,f,a);break;case 31:Zi(h,f,a),a&&p&4&&Dy(h,f);break;case 13:Zi(h,f,a),a&&p&4&&xy(h,f);break;case 22:f.memoizedState===null&&Zi(h,f,a),rl(f,f.return);break;case 30:break;default:Zi(h,f,a)}n=n.sibling}}function Zf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Go(a))}function Wf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Go(e))}function Jn(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Vy(e,n,a,o),n=n.sibling}function Vy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(e,n,a,o),h&2048&&sl(9,n);break;case 1:Jn(e,n,a,o);break;case 3:Jn(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Go(e)));break;case 12:if(h&2048){Jn(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Yt(n,n.return,I)}}else Jn(e,n,a,o);break;case 31:Jn(e,n,a,o);break;case 13:Jn(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(e,n,a,o):al(e,n):f._visibility&2?Jn(e,n,a,o):(f._visibility|=2,Oa(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Zf(p,n);break;case 24:Jn(e,n,a,o),h&2048&&Wf(n.alternate,n);break;default:Jn(e,n,a,o)}}function Oa(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,T=a,I=o,j=p.flags;switch(p.tag){case 0:case 11:case 15:Oa(f,p,T,I,h),sl(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?Oa(f,p,T,I,h):al(f,p):(F._visibility|=2,Oa(f,p,T,I,h)),h&&j&2048&&Zf(p.alternate,p);break;case 24:Oa(f,p,T,I,h),h&&j&2048&&Wf(p.alternate,p);break;default:Oa(f,p,T,I,h)}n=n.sibling}}function al(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:al(a,o),h&2048&&Zf(o.alternate,o);break;case 24:al(a,o),h&2048&&Wf(o.alternate,o);break;default:al(a,o)}n=n.sibling}}var ol=8192;function Ma(e,n,a){if(e.subtreeFlags&ol)for(e=e.child;e!==null;)ky(e,n,a),e=e.sibling}function ky(e,n,a){switch(e.tag){case 26:Ma(e,n,a),e.flags&ol&&e.memoizedState!==null&&ib(a,$n,e.memoizedState,e.memoizedProps);break;case 5:Ma(e,n,a);break;case 3:case 4:var o=$n;$n=mc(e.stateNode.containerInfo),Ma(e,n,a),$n=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ol,ol=16777216,Ma(e,n,a),ol=o):Ma(e,n,a));break;default:Ma(e,n,a)}}function Uy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ll(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Pe=o,Py(o,e)}Uy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ly(e),e=e.sibling}function Ly(e){switch(e.tag){case 0:case 11:case 15:ll(e),e.flags&2048&&Ns(9,e,e.return);break;case 3:ll(e);break;case 12:ll(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ec(e)):ll(e);break;default:ll(e)}}function ec(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Pe=o,Py(o,e)}Uy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ns(8,n,n.return),ec(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ec(n));break;default:ec(n)}e=e.sibling}}function Py(e,n){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:Ns(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Go(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Pe=o;else t:for(a=e;Pe!==null;){o=Pe;var h=o.sibling,f=o.return;if(Cy(o),o===a){Pe=null;break t}if(h!==null){h.return=f,Pe=h;break t}Pe=f}}}var _S={getCacheForType:function(e){var n=He(be),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return He(be).controller.signal}},vS=typeof WeakMap=="function"?WeakMap:Map,Ht=0,ee=null,Nt=null,xt=0,Kt=0,Tn=null,Ds=!1,Va=!1,td=!1,Wi=0,fe=0,xs=0,Lr=0,ed=0,En=0,ka=0,ul=null,cn=null,nd=!1,nc=0,zy=0,ic=1/0,sc=null,Os=null,Oe=0,Ms=null,Ua=null,ts=0,id=0,sd=null,jy=null,cl=0,rd=null;function An(){return(Ht&2)!==0&&xt!==0?xt&-xt:P.T!==null?hd():ru()}function By(){if(En===0)if((xt&536870912)===0||Ut){var e=cr;cr<<=1,(cr&3932160)===0&&(cr=262144),En=e}else En=536870912;return e=_n.current,e!==null&&(e.flags|=32),En}function hn(e,n,a){(e===ee&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(La(e,0),Vs(e,xt,En,!1)),hr(e,a),((Ht&2)===0||e!==ee)&&(e===ee&&((Ht&2)===0&&(Lr|=a),fe===4&&Vs(e,xt,En,!1)),Ri(e))}function qy(e,n,a){if((Ht&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Bn(e,n),h=o?AS(e,n):od(e,n,!0),f=o;do{if(h===0){Va&&!o&&Vs(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!TS(a)){h=od(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var T=e;h=ul;var I=T.current.memoizedState.isDehydrated;if(I&&(La(T,p).flags|=256),p=od(T,p,!1),p!==2){if(td&&!I){T.errorRecoveryDisabledLanes|=f,Lr|=f,h=4;break t}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){La(e,0),Vs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Vs(o,n,En,!Ds);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=nc+300-tn(),10<h)){if(Vs(o,n,En,!Ds),li(o,0,!0)!==0)break t;ts=n,o.timeoutHandle=v_(Hy.bind(null,o,a,cn,sc,nd,n,En,Lr,ka,Ds,f,"Throttled",-0,0),h);break t}Hy(o,a,cn,sc,nd,n,En,Lr,ka,Ds,f,null,-0,0)}}break}while(!0);Ri(e)}function Hy(e,n,a,o,h,f,p,T,I,j,F,Q,B,H){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},ky(n,f,Q);var at=(f&62914560)===f?nc-tn():(f&4194048)===f?zy-tn():0;if(at=sb(Q,at),at!==null){ts=f,e.cancelPendingCommit=at(Jy.bind(null,e,n,f,a,o,h,p,T,I,F,Q,null,B,H)),Vs(e,f,p,!j);return}}Jy(e,n,f,a,o,h,p,T,I)}function TS(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Vs(e,n,a,o){n&=~ed,n&=~Lr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-me(h),p=1<<f;o[f]=-1,h&=~p}a!==0&&fr(e,a,n)}function rc(){return(Ht&6)===0?(hl(0),!1):!0}function ad(){if(Nt!==null){if(Kt===0)var e=Nt.return;else e=Nt,Hi=Cr=null,Af(e),Ia=null,Yo=0,e=Nt;for(;e!==null;)Ty(e.alternate,e),e=e.return;Nt=null}}function La(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,jS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ts=0,ad(),ee=e,Nt=a=Bi(e.current,null),xt=n,Kt=0,Tn=null,Ds=!1,Va=Bn(e,n),td=!1,ka=En=ed=Lr=xs=fe=0,cn=ul=null,nd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-me(o),f=1<<h;n|=e[h],o&=~f}return Wi=n,Ru(),a}function Fy(e,n){Rt=null,P.H=el,n===Ra||n===Vu?(n=ap(),Kt=3):n===cf?(n=ap(),Kt=4):Kt=n===Pf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Tn=n,Nt===null&&(fe=1,Qu(e,xn(n,e.current)))}function Gy(){var e=_n.current;return e===null?!0:(xt&4194048)===xt?kn===null:(xt&62914560)===xt||(xt&536870912)!==0?e===kn:!1}function Ky(){var e=P.H;return P.H=el,e===null?el:e}function Yy(){var e=P.A;return P.A=_S,e}function ac(){fe=4,Ds||(xt&4194048)!==xt&&_n.current!==null||(Va=!0),(xs&134217727)===0&&(Lr&134217727)===0||ee===null||Vs(ee,xt,En,!1)}function od(e,n,a){var o=Ht;Ht|=2;var h=Ky(),f=Yy();(ee!==e||xt!==n)&&(sc=null,La(e,n)),n=!1;var p=fe;t:do try{if(Kt!==0&&Nt!==null){var T=Nt,I=Tn;switch(Kt){case 8:ad(),p=6;break t;case 3:case 2:case 9:case 6:_n.current===null&&(n=!0);var j=Kt;if(Kt=0,Tn=null,Pa(e,T,I,j),a&&Va){p=0;break t}break;default:j=Kt,Kt=0,Tn=null,Pa(e,T,I,j)}}ES(),p=fe;break}catch(F){Fy(e,F)}while(!0);return n&&e.shellSuspendCounter++,Hi=Cr=null,Ht=o,P.H=h,P.A=f,Nt===null&&(ee=null,xt=0,Ru()),p}function ES(){for(;Nt!==null;)Qy(Nt)}function AS(e,n){var a=Ht;Ht|=2;var o=Ky(),h=Yy();ee!==e||xt!==n?(sc=null,ic=tn()+500,La(e,n)):Va=Bn(e,n);t:do try{if(Kt!==0&&Nt!==null){n=Nt;var f=Tn;e:switch(Kt){case 1:Kt=0,Tn=null,Pa(e,n,f,1);break;case 2:case 9:if(sp(f)){Kt=0,Tn=null,Xy(n);break}n=function(){Kt!==2&&Kt!==9||ee!==e||(Kt=7),Ri(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:sp(f)?(Kt=0,Tn=null,Xy(n)):(Kt=0,Tn=null,Pa(e,n,f,7));break;case 5:var p=null;switch(Nt.tag){case 26:p=Nt.memoizedState;case 5:case 27:var T=Nt;if(p?V_(p):T.stateNode.complete){Kt=0,Tn=null;var I=T.sibling;if(I!==null)Nt=I;else{var j=T.return;j!==null?(Nt=j,oc(j)):Nt=null}break e}}Kt=0,Tn=null,Pa(e,n,f,5);break;case 6:Kt=0,Tn=null,Pa(e,n,f,6);break;case 8:ad(),fe=6;break t;default:throw Error(r(462))}}SS();break}catch(F){Fy(e,F)}while(!0);return Hi=Cr=null,P.H=o,P.A=h,Ht=a,Nt!==null?0:(ee=null,xt=0,Ru(),fe)}function SS(){for(;Nt!==null&&!Uh();)Qy(Nt)}function Qy(e){var n=_y(e.alternate,e,Wi);e.memoizedProps=e.pendingProps,n===null?oc(e):Nt=n}function Xy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=fy(a,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=fy(a,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:Af(n);default:Ty(a,n),n=Nt=Yg(n,Wi),n=_y(a,n,Wi)}e.memoizedProps=e.pendingProps,n===null?oc(e):Nt=n}function Pa(e,n,a,o){Hi=Cr=null,Af(n),Ia=null,Yo=0;var h=n.return;try{if(hS(e,h,n,a,xt)){fe=1,Qu(e,xn(a,e.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;fe=1,Qu(e,xn(a,e.current)),Nt=null;return}n.flags&32768?(Ut||o===1?e=!0:Va||(xt&536870912)!==0?e=!1:(Ds=e=!0,(o===2||o===9||o===3||o===6)&&(o=_n.current,o!==null&&o.tag===13&&(o.flags|=16384))),$y(n,e)):oc(n)}function oc(e){var n=e;do{if((n.flags&32768)!==0){$y(n,Ds);return}e=n.return;var a=mS(n.alternate,n,Wi);if(a!==null){Nt=a;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);fe===0&&(fe=5)}function $y(e,n){do{var a=gS(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);fe=6,Nt=null}function Jy(e,n,a,o,h,f,p,T,I){e.cancelPendingCommit=null;do lc();while(Oe!==0);if((Ht&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Qh,zh(e,a,f,p,T,I),e===ee&&(Nt=ee=null,xt=0),Ua=n,Ms=e,ts=a,id=f,sd=h,jy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,IS(cs,function(){return n_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=P.T,P.T=null,h=J.p,J.p=2,p=Ht,Ht|=4;try{pS(e,n,a)}finally{Ht=p,J.p=h,P.T=o}}Oe=1,Zy(),Wy(),t_()}}function Zy(){if(Oe===1){Oe=0;var e=Ms,n=Ua,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=P.T,P.T=null;var o=J.p;J.p=2;var h=Ht;Ht|=4;try{Oy(n,e);var f=vd,p=Pg(e.containerInfo),T=f.focusedElem,I=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&Lg(T.ownerDocument.documentElement,T)){if(I!==null&&Hh(T)){var j=I.start,F=I.end;if(F===void 0&&(F=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(F,T.value.length);else{var Q=T.ownerDocument||document,B=Q&&Q.defaultView||window;if(B.getSelection){var H=B.getSelection(),at=T.textContent.length,mt=Math.min(I.start,at),Wt=I.end===void 0?mt:Math.min(I.end,at);!H.extend&&mt>Wt&&(p=Wt,Wt=mt,mt=p);var V=Ug(T,mt),D=Ug(T,Wt);if(V&&D&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var z=Q.createRange();z.setStart(V.node,V.offset),H.removeAllRanges(),mt>Wt?(H.addRange(z),H.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),H.addRange(z))}}}}for(Q=[],H=T;H=H.parentNode;)H.nodeType===1&&Q.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Q.length;T++){var G=Q[T];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Tc=!!_d,vd=_d=null}finally{Ht=h,J.p=o,P.T=a}}e.current=n,Oe=2}}function Wy(){if(Oe===2){Oe=0;var e=Ms,n=Ua,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=P.T,P.T=null;var o=J.p;J.p=2;var h=Ht;Ht|=4;try{Iy(e,n.alternate,n)}finally{Ht=h,J.p=o,P.T=a}}Oe=3}}function t_(){if(Oe===4||Oe===3){Oe=0,Zl();var e=Ms,n=Ua,a=ts,o=jy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Ua=Ms=null,e_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Os=null),Li(a),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(jn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=P.T,h=J.p,J.p=2,P.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var T=o[p];f(T.value,{componentStack:T.stack})}}finally{P.T=n,J.p=h}}(ts&3)!==0&&lc(),Ri(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===rd?cl++:(cl=0,rd=e):cl=0,hl(0)}}function e_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Go(n)))}function lc(){return Zy(),Wy(),t_(),n_()}function n_(){if(Oe!==5)return!1;var e=Ms,n=id;id=0;var a=Li(ts),o=P.T,h=J.p;try{J.p=32>a?32:a,P.T=null,a=sd,sd=null;var f=Ms,p=ts;if(Oe=0,Ua=Ms=null,ts=0,(Ht&6)!==0)throw Error(r(331));var T=Ht;if(Ht|=4,Ly(f.current),Vy(f,f.current,p,a),Ht=T,hl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(jn,f)}catch{}return!0}finally{J.p=h,P.T=o,e_(e,n)}}function i_(e,n,a){n=xn(a,n),n=Lf(e.stateNode,n,2),e=Rs(e,n,2),e!==null&&(hr(e,2),Ri(e))}function Yt(e,n,a){if(e.tag===3)i_(e,e,a);else for(;n!==null;){if(n.tag===3){i_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Os===null||!Os.has(o))){e=xn(a,e),a=sy(2),o=Rs(n,a,2),o!==null&&(ry(a,o,n,e),hr(o,2),Ri(o));break}}n=n.return}}function ld(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new vS;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(td=!0,h.add(a),e=bS.bind(null,e,n,a),n.then(e,e))}function bS(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ee===e&&(xt&a)===a&&(fe===4||fe===3&&(xt&62914560)===xt&&300>tn()-nc?(Ht&2)===0&&La(e,0):ed|=a,ka===xt&&(ka=0)),Ri(e)}function s_(e,n){n===0&&(n=su()),e=wr(e,n),e!==null&&(hr(e,n),Ri(e))}function wS(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),s_(e,a)}function RS(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),s_(e,a)}function IS(e,n){return xe(e,n)}var uc=null,za=null,ud=!1,cc=!1,cd=!1,ks=0;function Ri(e){e!==za&&e.next===null&&(za===null?uc=za=e:za=za.next=e),cc=!0,ud||(ud=!0,NS())}function hl(e,n){if(!cd&&cc){cd=!0;do for(var a=!1,o=uc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-me(42|e)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,l_(o,f))}else f=xt,f=li(o,o===ee?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Bn(o,f)||(a=!0,l_(o,f));o=o.next}while(a);cd=!1}}function CS(){r_()}function r_(){cc=ud=!1;var e=0;ks!==0&&zS()&&(e=ks);for(var n=tn(),a=null,o=uc;o!==null;){var h=o.next,f=a_(o,n);f===0?(o.next=null,a===null?uc=h:a.next=h,h===null&&(za=a)):(a=o,(e!==0||(f&3)!==0)&&(cc=!0)),o=h}Oe!==0&&Oe!==5||hl(e),ks!==0&&(ks=0)}function a_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-me(f),T=1<<p,I=h[p];I===-1?((T&a)===0||(T&o)!==0)&&(h[p]=Ph(T,n)):I<=n&&(e.expiredLanes|=T),f&=~T}if(n=ee,a=xt,a=li(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&us(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Bn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&us(o),Li(a)){case 2:case 8:a=Eo;break;case 32:a=cs;break;case 268435456:a=Wl;break;default:a=cs}return o=o_.bind(null,e),a=xe(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&us(o),e.callbackPriority=2,e.callbackNode=null,2}function o_(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(lc()&&e.callbackNode!==a)return null;var o=xt;return o=li(e,e===ee?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(qy(e,o,n),a_(e,tn()),e.callbackNode!=null&&e.callbackNode===a?o_.bind(null,e):null)}function l_(e,n){if(lc())return null;qy(e,n,!0)}function NS(){BS(function(){(Ht&6)!==0?xe(To,CS):r_()})}function hd(){if(ks===0){var e=ba;e===0&&(e=ai,ai<<=1,(ai&261888)===0&&(ai=256)),ks=e}return ks}function u_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ua(""+e)}function c_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function DS(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=u_((h[Ue]||null).action),p=o.submitter;p&&(n=(n=p[Ue]||null)?u_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new vi("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ks!==0){var I=p?c_(h,p):new FormData(h);xf(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=p?c_(h,p):new FormData(h),xf(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var fd=0;fd<Yh.length;fd++){var dd=Yh[fd],xS=dd.toLowerCase(),OS=dd[0].toUpperCase()+dd.slice(1);Xn(xS,"on"+OS)}Xn(Bg,"onAnimationEnd"),Xn(qg,"onAnimationIteration"),Xn(Hg,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(QA,"onTransitionRun"),Xn(XA,"onTransitionStart"),Xn($A,"onTransitionCancel"),Xn(Fg,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function h_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var T=o[p],I=T.instance,j=T.currentTarget;if(T=T.listener,I!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=j;try{f(h)}catch(F){wu(F)}h.currentTarget=null,f=I}else for(p=0;p<o.length;p++){if(T=o[p],I=T.instance,j=T.currentTarget,T=T.listener,I!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=j;try{f(h)}catch(F){wu(F)}h.currentTarget=null,f=I}}}}function Dt(e,n){var a=n[sa];a===void 0&&(a=n[sa]=new Set);var o=e+"__bubble";a.has(o)||(f_(n,e,2,!1),a.add(o))}function md(e,n,a){var o=0;n&&(o|=4),f_(a,e,o,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function gd(e){if(!e[hc]){e[hc]=!0,bo.forEach(function(a){a!=="selectionchange"&&(MS.has(a)||md(a,!1,e),md(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hc]||(n[hc]=!0,md("selectionchange",!1,n))}}function f_(e,n,a,o){switch(B_(n)){case 2:var h=ob;break;case 8:h=lb;break;default:h=Dd}a=h.bind(null,n,a,e),h=void 0,!yr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function pd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var T=o.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=o.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=fi(T),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){o=f=p;continue t}T=T.parentNode}}o=o.return}ps(function(){var j=f,F=In(a),Q=[];t:{var B=Gg.get(e);if(B!==void 0){var H=vi,at=e;switch(e){case"keypress":if(vr(a)===0)break t;case"keydown":case"keyup":H=Au;break;case"focusin":at="focus",H=Er;break;case"focusout":at="blur",H=Er;break;case"beforeblur":case"afterblur":H=Er;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Bg:case qg:case Hg:H=gu;break;case Fg:H=E;break;case"scroll":case"scrollend":H=Uo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ji;break;case"toggle":case"beforetoggle":H=wt}var mt=(n&4)!==0,Wt=!mt&&(e==="scroll"||e==="scrollend"),V=mt?B!==null?B+"Capture":null:B;mt=[];for(var D=j,z;D!==null;){var G=D;if(z=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||z===null||V===null||(G=Gn(D,V),G!=null&&mt.push(dl(D,G,z))),Wt)break;D=D.return}0<mt.length&&(B=new H(B,at,null,a,F),Q.push({event:B,listeners:mt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==Mo&&(at=a.relatedTarget||a.fromElement)&&(fi(at)||at[ci]))break t;if((H||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,H?(at=a.relatedTarget||a.toElement,H=j,at=at?fi(at):null,at!==null&&(Wt=c(at),mt=at.tag,at!==Wt||mt!==5&&mt!==27&&mt!==6)&&(at=null)):(H=null,at=j),H!==at)){if(mt=Lo,G="onMouseLeave",V="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(mt=ji,G="onPointerLeave",V="onPointerEnter",D="pointer"),Wt=H==null?B:mn(H),z=at==null?B:mn(at),B=new mt(G,D+"leave",H,a,F),B.target=Wt,B.relatedTarget=z,G=null,fi(F)===j&&(mt=new mt(V,D+"enter",at,a,F),mt.target=z,mt.relatedTarget=Wt,G=mt),Wt=G,H&&at)e:{for(mt=VS,V=H,D=at,z=0,G=V;G;G=mt(G))z++;G=0;for(var ft=D;ft;ft=mt(ft))G++;for(;0<z-G;)V=mt(V),z--;for(;0<G-z;)D=mt(D),G--;for(;z--;){if(V===D||D!==null&&V===D.alternate){mt=V;break e}V=mt(V),D=mt(D)}mt=null}else mt=null;H!==null&&d_(Q,B,H,mt,!1),at!==null&&Wt!==null&&d_(Q,Wt,at,mt,!0)}}t:{if(B=j?mn(j):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var jt=Dg;else if(Cg(B))if(xg)jt=GA;else{jt=HA;var ot=qA}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&la(j.elementType)&&(jt=Dg):jt=FA;if(jt&&(jt=jt(e,j))){Ng(Q,jt,a,F);break t}ot&&ot(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Do(B,"number",B.value)}switch(ot=j?mn(j):window,e){case"focusin":(Cg(ot)||ot.contentEditable==="true")&&(pa=ot,Fh=j,qo=null);break;case"focusout":qo=Fh=pa=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,zg(Q,a,F);break;case"selectionchange":if(YA)break;case"keydown":case"keyup":zg(Q,a,F)}var It;if(qt)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else ga?Ar(e,a)&&(Ot="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ot="onCompositionStart");Ot&&(Ai&&a.locale!=="ko"&&(ga||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&ga&&(It=ko()):(_i=F,Vo="value"in _i?_i.value:_i.textContent,ga=!0)),ot=fc(j,Ot),0<ot.length&&(Ot=new Ei(Ot,e,null,a,F),Q.push({event:Ot,listeners:ot}),It?Ot.data=It:(It=ma(a),It!==null&&(Ot.data=It)))),(It=Nn?PA(e,a):zA(e,a))&&(Ot=fc(j,"onBeforeInput"),0<Ot.length&&(ot=new Ei("onBeforeInput","beforeinput",null,a,F),Q.push({event:ot,listeners:Ot}),ot.data=It)),DS(Q,e,j,a,F)}h_(Q,n)})}function dl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function fc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Gn(e,a),h!=null&&o.unshift(dl(e,h,f)),h=Gn(e,n),h!=null&&o.push(dl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function VS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function d_(e,n,a,o,h){for(var f=n._reactName,p=[];a!==null&&a!==o;){var T=a,I=T.alternate,j=T.stateNode;if(T=T.tag,I!==null&&I===o)break;T!==5&&T!==26&&T!==27||j===null||(I=j,h?(j=Gn(a,f),j!=null&&p.unshift(dl(a,j,I))):h||(j=Gn(a,f),j!=null&&p.push(dl(a,j,I)))),a=a.return}p.length!==0&&e.push({event:n,listeners:p})}var kS=/\r\n?/g,US=/\u0000|\uFFFD/g;function m_(e){return(typeof e=="string"?e:""+e).replace(kS,`
`).replace(US,"")}function g_(e,n){return n=m_(n),m_(e)===n}function Zt(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||an(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&an(e,""+o);break;case"className":gn(e,"class",o);break;case"tabIndex":gn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(e,a,o);break;case"style":Oo(e,o,f);break;case"data":if(n!=="object"){gn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ua(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ua(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Fn);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ua(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),aa(e,"popover",o);break;case"xlinkActuate":Se(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Se(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Se(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Se(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Se(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Se(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Se(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Se(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Se(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":aa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=fu.get(a)||a,aa(e,a,o))}}function yd(e,n,a,o,h,f){switch(a){case"style":Oo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?an(e,o):(typeof o=="number"||typeof o=="bigint")&&an(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[Ue]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):aa(e,a,o)}}}function Ge(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(e,n,f,p,a,null)}}h&&Zt(e,n,"srcSet",a.srcSet,a,null),o&&Zt(e,n,"src",a.src,a,null);return;case"input":Dt("invalid",e);var T=f=p=h=null,I=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":p=F;break;case"checked":I=F;break;case"defaultChecked":j=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:Zt(e,n,o,F,a,null)}}uu(e,f,T,I,j,p,h,!1);return;case"select":Dt("invalid",e),o=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":o=T;default:Zt(e,n,h,T,a,null)}n=f,a=p,e.multiple=!!o,n!=null?fs(e,!!o,n,!1):a!=null&&fs(e,!!o,a,!0);return;case"textarea":Dt("invalid",e),f=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(T=a[p],T!=null))switch(p){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Zt(e,n,p,T,a,null)}ds(e,o,h,f);return;case"option":for(I in a)a.hasOwnProperty(I)&&(o=a[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Zt(e,n,I,o,a,null));return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<fl.length;o++)Dt(fl[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(e,n,j,o,a,null)}return;default:if(la(n)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&yd(e,n,F,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&Zt(e,n,T,o,a,null))}function LS(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,I=null,j=null,F=null;for(H in a){var Q=a[H];if(a.hasOwnProperty(H)&&Q!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=Q;default:o.hasOwnProperty(H)||Zt(e,n,H,null,o,Q)}}for(var B in o){var H=o[B];if(Q=a[B],o.hasOwnProperty(B)&&(H!=null||Q!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":F=H;break;case"value":p=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==Q&&Zt(e,n,B,H,o,Q)}}oa(e,p,T,I,j,F,f,h);return;case"select":H=p=T=B=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:o.hasOwnProperty(f)||Zt(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=a[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==I&&Zt(e,n,h,f,o,I)}n=T,a=p,o=H,B!=null?fs(e,!!a,B,!1):!!o!=!!a&&(n!=null?fs(e,!!a,n,!0):fs(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Zt(e,n,T,null,o,h)}for(p in o)if(h=o[p],f=a[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Zt(e,n,p,h,o,f)}cu(e,B,H);return;case"option":for(var at in a)B=a[at],a.hasOwnProperty(at)&&B!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:Zt(e,n,at,null,o,B));for(I in o)B=o[I],H=a[I],o.hasOwnProperty(I)&&B!==H&&(B!=null||H!=null)&&(I==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":Zt(e,n,I,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)B=a[mt],a.hasOwnProperty(mt)&&B!=null&&!o.hasOwnProperty(mt)&&Zt(e,n,mt,null,o,B);for(j in o)if(B=o[j],H=a[j],o.hasOwnProperty(j)&&B!==H&&(B!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:Zt(e,n,j,B,o,H)}return;default:if(la(n)){for(var Wt in a)B=a[Wt],a.hasOwnProperty(Wt)&&B!==void 0&&!o.hasOwnProperty(Wt)&&yd(e,n,Wt,void 0,o,B);for(F in o)B=o[F],H=a[F],!o.hasOwnProperty(F)||B===H||B===void 0&&H===void 0||yd(e,n,F,B,o,H);return}}for(var V in a)B=a[V],a.hasOwnProperty(V)&&B!=null&&!o.hasOwnProperty(V)&&Zt(e,n,V,null,o,B);for(Q in o)B=o[Q],H=a[Q],!o.hasOwnProperty(Q)||B===H||B==null&&H==null||Zt(e,n,Q,B,o,H)}function p_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function PS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&p_(p)){for(p=0,T=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],j=I.startTime;if(j>T)break;var F=I.transferSize,Q=I.initiatorType;F&&p_(Q)&&(I=I.responseEnd,p+=F*(I<T?1:(T-j)/(I-j)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var _d=null,vd=null;function dc(e){return e.nodeType===9?e:e.ownerDocument}function y_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function __(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Td(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ed=null;function zS(){var e=window.event;return e&&e.type==="popstate"?e===Ed?!1:(Ed=e,!0):(Ed=null,!1)}var v_=typeof setTimeout=="function"?setTimeout:void 0,jS=typeof clearTimeout=="function"?clearTimeout:void 0,T_=typeof Promise=="function"?Promise:void 0,BS=typeof queueMicrotask=="function"?queueMicrotask:typeof T_<"u"?function(e){return T_.resolve(null).then(e).catch(qS)}:v_;function qS(e){setTimeout(function(){throw e})}function Us(e){return e==="head"}function E_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Ha(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")ml(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ml(a);for(var f=a.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[hi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&ml(e.ownerDocument.body);a=h}while(a);Ha(n)}function A_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Ad(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ad(a),ra(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function HS(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[hi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function FS(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Un(e.nextSibling),e===null))return null;return e}function S_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Un(e.nextSibling),e===null))return null;return e}function Sd(e){return e.data==="$?"||e.data==="$~"}function bd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function GS(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Un(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var wd=null;function b_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Un(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function w_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function R_(e,n,a){switch(n=dc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ml(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ra(e)}var Ln=new Map,I_=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var es=J.d;J.d={f:KS,r:YS,D:QS,C:XS,L:$S,m:JS,X:WS,S:ZS,M:tb};function KS(){var e=es.f(),n=rc();return e||n}function YS(e){var n=Rn(e);n!==null&&n.tag===5&&n.type==="form"?Fp(n):es.r(e)}var ja=typeof document>"u"?null:document;function C_(e,n,a){var o=ja;if(o&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),I_.has(h)||(I_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ge(n,"link",e),Ae(n),o.head.appendChild(n)))}}function QS(e){es.D(e),C_("dns-prefetch",e,null)}function XS(e,n){es.C(e,n),C_("preconnect",e,n)}function $S(e,n,a){es.L(e,n,a);var o=ja;if(o&&e&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var f=h;switch(n){case"style":f=Ba(e);break;case"script":f=qa(e)}Ln.has(f)||(e=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Ln.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(gl(f))||n==="script"&&o.querySelector(pl(f))||(n=o.createElement("link"),Ge(n,"link",e),Ae(n),o.head.appendChild(n)))}}function JS(e,n){es.m(e,n);var a=ja;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=qa(e)}if(!Ln.has(f)&&(e=w({rel:"modulepreload",href:e},n),Ln.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(pl(f)))return}o=a.createElement("link"),Ge(o,"link",e),Ae(o),a.head.appendChild(o)}}}function ZS(e,n,a){es.S(e,n,a);var o=ja;if(o&&e){var h=di(o).hoistableStyles,f=Ba(e);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=o.querySelector(gl(f)))T.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Ln.get(f))&&Rd(e,a);var I=p=o.createElement("link");Ae(I),Ge(I,"link",e),I._p=new Promise(function(j,F){I.onload=j,I.onerror=F}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,gc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function WS(e,n){es.X(e,n);var a=ja;if(a&&e){var o=di(a).hoistableScripts,h=qa(e),f=o.get(h);f||(f=a.querySelector(pl(h)),f||(e=w({src:e,async:!0},n),(n=Ln.get(h))&&Id(e,n),f=a.createElement("script"),Ae(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function tb(e,n){es.M(e,n);var a=ja;if(a&&e){var o=di(a).hoistableScripts,h=qa(e),f=o.get(h);f||(f=a.querySelector(pl(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=Ln.get(h))&&Id(e,n),f=a.createElement("script"),Ae(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function N_(e,n,a,o){var h=(h=ct.current)?mc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ba(a.href),a=di(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ba(a.href);var f=di(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(gl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(e,a),f||eb(h,e,a,p.state))),n&&o===null)throw Error(r(528,""));return p}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=qa(a),a=di(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ba(e){return'href="'+rn(e)+'"'}function gl(e){return'link[rel="stylesheet"]['+e+"]"}function D_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function eb(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ge(n,"link",a),Ae(n),e.head.appendChild(n))}function qa(e){return'[src="'+rn(e)+'"]'}function pl(e){return"script[async]"+e}function x_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+rn(a.href)+'"]');if(o)return n.instance=o,Ae(o),o;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ae(o),Ge(o,"style",h),gc(o,a.precedence,e),n.instance=o;case"stylesheet":h=Ba(a.href);var f=e.querySelector(gl(h));if(f)return n.state.loading|=4,n.instance=f,Ae(f),f;o=D_(a),(h=Ln.get(h))&&Rd(o,h),f=(e.ownerDocument||e).createElement("link"),Ae(f);var p=f;return p._p=new Promise(function(T,I){p.onload=T,p.onerror=I}),Ge(f,"link",o),n.state.loading|=4,gc(f,a.precedence,e),n.instance=f;case"script":return f=qa(a.src),(h=e.querySelector(pl(f)))?(n.instance=h,Ae(h),h):(o=a,(h=Ln.get(f))&&(o=w({},a),Id(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ae(h),Ge(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,gc(o,a.precedence,e));return n.instance}function gc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var T=o[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Rd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Id(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var pc=null;function O_(e,n,a){if(pc===null){var o=new Map,h=pc=new Map;h.set(a,o)}else h=pc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[hi]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var T=o.get(p);T?T.push(f):o.set(p,[f])}}return o}function M_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function nb(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function V_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ib(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ba(o.href),f=n.querySelector(gl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=yc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Ae(f);return}f=n.ownerDocument||n,o=D_(o),(h=Ln.get(h))&&Rd(o,h),f=f.createElement("link"),Ae(f);var p=f;p._p=new Promise(function(T,I){p.onload=T,p.onerror=I}),Ge(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=yc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Cd=0;function sb(e,n){return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Cd===0&&(Cd=62500*PS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Cd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _c=null;function vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_c=new Map,n.forEach(rb,e),_c=null,yc.call(e))}function rb(e,n){if(!(n.state.loading&4)){var a=_c.get(e);if(a)var o=a.get(null);else{a=new Map,_c.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||o,f===o&&a.set(null,h),a.set(p,h),this.count++,o=yc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var yl={$$typeof:_t,Provider:null,Consumer:null,_currentValue:it,_currentValue2:it,_threadCount:0};function ab(e,n,a,o,h,f,p,T,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function k_(e,n,a,o,h,f,p,T,I,j,F,Q){return e=new ab(e,n,a,p,I,j,F,Q,T),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),e.current=f,f.stateNode=e,n=of(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},hf(f),e}function U_(e){return e?(e=va,e):va}function L_(e,n,a,o,h,f){h=U_(h),o.context===null?o.context=h:o.pendingContext=h,o=ws(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Rs(e,o,n),a!==null&&(hn(a,e,n),Xo(a,e,n))}function P_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Nd(e,n){P_(e,n),(e=e.alternate)&&P_(e,n)}function z_(e){if(e.tag===13||e.tag===31){var n=wr(e,67108864);n!==null&&hn(n,e,67108864),Nd(e,67108864)}}function j_(e){if(e.tag===13||e.tag===31){var n=An();n=dr(n);var a=wr(e,n);a!==null&&hn(a,e,n),Nd(e,n)}}var Tc=!0;function ob(e,n,a,o){var h=P.T;P.T=null;var f=J.p;try{J.p=2,Dd(e,n,a,o)}finally{J.p=f,P.T=h}}function lb(e,n,a,o){var h=P.T;P.T=null;var f=J.p;try{J.p=8,Dd(e,n,a,o)}finally{J.p=f,P.T=h}}function Dd(e,n,a,o){if(Tc){var h=xd(o);if(h===null)pd(e,n,o,Ec,a),q_(e,o);else if(cb(h,e,n,a,o))o.stopPropagation();else if(q_(e,o),n&4&&-1<ub.indexOf(e)){for(;h!==null;){var f=Rn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=oi(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var I=1<<31-me(p);T.entanglements[1]|=I,p&=~I}Ri(f),(Ht&6)===0&&(ic=tn()+500,hl(0))}}break;case 31:case 13:T=wr(f,2),T!==null&&hn(T,f,2),rc(),Nd(f,2)}if(f=xd(o),f===null&&pd(e,n,o,Ec,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else pd(e,n,o,null,a)}}function xd(e){return e=In(e),Od(e)}var Ec=null;function Od(e){if(Ec=null,e=fi(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=g(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ec=e,null}function B_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ur()){case To:return 2;case Eo:return 8;case cs:case Lh:return 32;case Wl:return 268435456;default:return 32}default:return 32}}var Md=!1,Ls=null,Ps=null,zs=null,_l=new Map,vl=new Map,js=[],ub="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q_(e,n){switch(e){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":_l.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(n.pointerId)}}function Tl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Rn(n),n!==null&&z_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function cb(e,n,a,o,h){switch(n){case"focusin":return Ls=Tl(Ls,e,n,a,o,h),!0;case"dragenter":return Ps=Tl(Ps,e,n,a,o,h),!0;case"mouseover":return zs=Tl(zs,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return _l.set(f,Tl(_l.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,vl.set(f,Tl(vl.get(f)||null,e,n,a,o,h)),!0}return!1}function H_(e){var n=fi(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,qn(e.priority,function(){j_(a)});return}}else if(n===31){if(n=g(a),n!==null){e.blockedOn=n,qn(e.priority,function(){j_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ac(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=xd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Mo=o,a.target.dispatchEvent(o),Mo=null}else return n=Rn(a),n!==null&&z_(n),e.blockedOn=a,!1;n.shift()}return!0}function F_(e,n,a){Ac(e)&&a.delete(n)}function hb(){Md=!1,Ls!==null&&Ac(Ls)&&(Ls=null),Ps!==null&&Ac(Ps)&&(Ps=null),zs!==null&&Ac(zs)&&(zs=null),_l.forEach(F_),vl.forEach(F_)}function Sc(e,n){e.blockedOn===n&&(e.blockedOn=null,Md||(Md=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,hb)))}var bc=null;function G_(e){bc!==e&&(bc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){bc===e&&(bc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Od(o||a)===null)continue;break}var f=Rn(a);f!==null&&(e.splice(n,3),n-=3,xf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ha(e){function n(I){return Sc(I,e)}Ls!==null&&Sc(Ls,e),Ps!==null&&Sc(Ps,e),zs!==null&&Sc(zs,e),_l.forEach(n),vl.forEach(n);for(var a=0;a<js.length;a++){var o=js[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<js.length&&(a=js[0],a.blockedOn===null);)H_(a),a.blockedOn===null&&js.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],p=h[Ue]||null;if(typeof f=="function")p||G_(a);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ue]||null)T=p.formAction;else if(Od(h)!==null)continue}else T=p.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),G_(a)}}}function K_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Vd(e){this._internalRoot=e}wc.prototype.render=Vd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=An();L_(a,o,e,n,null,null)},wc.prototype.unmount=Vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;L_(e.current,2,null,e,null,null),rc(),n[ci]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ru();e={blockedOn:null,target:e,priority:n};for(var a=0;a<js.length&&n!==0&&n<js[a].priority;a++);js.splice(a,0,e),a===0&&H_(e)}};var Y_=t.version;if(Y_!=="19.2.4")throw Error(r(527,Y_,"19.2.4"));J.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var fb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{jn=Rc.inject(fb),je=Rc}catch{}}return Al.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=ty,f=ey,p=ny;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=k_(e,1,!1,null,null,a,o,null,h,f,p,K_),e[ci]=n.current,gd(e),new Vd(n)},Al.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=ty,p=ey,T=ny,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),n=k_(e,1,!0,n,a??null,o,h,I,f,p,T,K_),n.context=U_(null),a=n.current,o=An(),o=dr(o),h=ws(o),h.callback=null,Rs(a,h,o),a=o,n.current.lanes=a,hr(n,a),Ri(n),e[ci]=n.current,gd(e),new wc(n)},Al.version="19.2.4",Al}var iv;function Ab(){if(iv)return Ld.exports;iv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ld.exports=Eb(),Ld.exports}var Sb=Ab();const bb=()=>{};var sv={};const Q0=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},wb=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},X0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,A=c>>2,w=(c&3)<<4|g>>4;let O=(g&15)<<2|y>>6,K=y&63;_||(K=64,d||(O=64)),r.push(i[A],i[w],i[O],i[K])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Q0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):wb(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const w=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||y==null||w==null)throw new Rb;const O=c<<2|g>>4;if(r.push(O),y!==64){const K=g<<4&240|y>>2;if(r.push(K),w!==64){const Z=y<<6&192|w;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Rb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ib=function(s){const t=Q0(s);return X0.encodeByteArray(t,!0)},Gc=function(s){return Ib(s).replace(/\./g,"")},$0=function(s){try{return X0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Cb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Nb=()=>Cb().__FIREBASE_DEFAULTS__,Db=()=>{if(typeof process>"u"||typeof sv>"u")return;const s=sv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},xb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&$0(s[1]);return t&&JSON.parse(t)},dh=()=>{try{return bb()||Nb()||Db()||xb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},J0=s=>dh()?.emulatorHosts?.[s],Ob=s=>{const t=J0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},Z0=()=>dh()?.config,W0=s=>dh()?.[`_${s}`];class Mb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function uo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tT(s){return(await fetch(s,{credentials:"include"})).ok}function Vb(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Gc(JSON.stringify(i)),Gc(JSON.stringify(d)),""].join(".")}const Cl={};function kb(){const s={prod:[],emulator:[]};for(const t of Object.keys(Cl))Cl[t]?s.emulator.push(t):s.prod.push(t);return s}function Ub(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let rv=!1;function eT(s,t){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||Cl[s]===t||Cl[s]||rv)return;Cl[s]=t;function i(O){return`__firebase__banner__${O}`}const r="__firebase__banner",c=kb().prod.length>0;function d(){const O=document.getElementById(r);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function _(O,K){O.setAttribute("width","24"),O.setAttribute("id",K),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function y(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{rv=!0,d()},O}function A(O,K){O.setAttribute("id",K),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function w(){const O=Ub(r),K=i("text"),Z=document.getElementById(K)||document.createElement("span"),nt=i("learnmore"),tt=document.getElementById(nt)||document.createElement("a"),ut=i("preprendIcon"),Tt=document.getElementById(ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const _t=O.element;g(_t),A(tt,nt);const Qt=y();_(Tt,ut),_t.append(Tt,Z,tt,Qt),document.body.appendChild(_t)}c?(Z.innerText="Preview backend disconnected.",Tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function Pb(){const s=dh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nT(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function jb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bb(){const s=We();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function qb(){return!Pb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iT(){try{return typeof indexedDB=="object"}catch{return!1}}function sT(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}function Hb(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Fb="FirebaseError";class si extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=Fb,Object.setPrototypeOf(this,si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$r.prototype.create)}}class $r{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?Gb(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new si(l,g,r)}}function Gb(s,t){return s.replace(Kb,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const Kb=/\{\$([^}]+)}/g;function Yb(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Zs(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(av(c)&&av(d)){if(!Zs(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function av(s){return s!==null&&typeof s=="object"}function Hl(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Qb(s,t){const i=new Xb(s,t);return i.subscribe.bind(i)}class Xb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");$b(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Bd),l.error===void 0&&(l.error=Bd),l.complete===void 0&&(l.complete=Bd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $b(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Bd(){}const Jb=1e3,Zb=2,Wb=14400*1e3,t1=.5;function ov(s,t=Jb,i=Zb){const r=t*Math.pow(i,s),l=Math.round(t1*r*(Math.random()-.5)*2);return Math.min(Wb,r+l)}function De(s){return s&&s._delegate?s._delegate:s}class ii{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Pr="[DEFAULT]";class e1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new Mb;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(i1(t))try{this.getOrInitializeService({instanceIdentifier:Pr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=Pr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Pr){return this.instances.has(t)}getOptions(t=Pr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:n1(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Pr){return this.component?this.component.multipleInstances?t:Pr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function n1(s){return s===Pr?void 0:s}function i1(s){return s.instantiationMode==="EAGER"}class s1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new e1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Mt||(Mt={}));const r1={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},a1=Mt.INFO,o1={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},l1=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=o1[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class mh{constructor(t){this.name=t,this._logLevel=a1,this._logHandler=l1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?r1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const u1=(s,t)=>t.some(i=>s instanceof i);let lv,uv;function c1(){return lv||(lv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function h1(){return uv||(uv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rT=new WeakMap,sm=new WeakMap,aT=new WeakMap,qd=new WeakMap,xm=new WeakMap;function f1(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Ys(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&rT.set(i,s)}).catch(()=>{}),xm.set(t,s),t}function d1(s){if(sm.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});sm.set(s,t)}let rm={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return sm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||aT.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ys(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function m1(s){rm=s(rm)}function g1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Hd(this),t,...i);return aT.set(r,t.sort?t.sort():[t]),Ys(r)}:h1().includes(s)?function(...t){return s.apply(Hd(this),t),Ys(rT.get(this))}:function(...t){return Ys(s.apply(Hd(this),t))}}function p1(s){return typeof s=="function"?g1(s):(s instanceof IDBTransaction&&d1(s),u1(s,c1())?new Proxy(s,rm):s)}function Ys(s){if(s instanceof IDBRequest)return f1(s);if(qd.has(s))return qd.get(s);const t=p1(s);return t!==s&&(qd.set(s,t),xm.set(t,s)),t}const Hd=s=>xm.get(s);function oT(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=Ys(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Ys(d.result),_.oldVersion,_.newVersion,Ys(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const y1=["get","getKey","getAll","getAllKeys","count"],_1=["put","add","delete","clear"],Fd=new Map;function cv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Fd.get(t))return Fd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=_1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||y1.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&_.done]))[0]};return Fd.set(t,c),c}m1(s=>({...s,get:(t,i,r)=>cv(t,i)||s.get(t,i,r),has:(t,i)=>!!cv(t,i)||s.has(t,i)}));class v1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(T1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function T1(s){return s.getComponent()?.type==="VERSION"}const am="@firebase/app",hv="0.14.7";const rs=new mh("@firebase/app"),E1="@firebase/app-compat",A1="@firebase/analytics-compat",S1="@firebase/analytics",b1="@firebase/app-check-compat",w1="@firebase/app-check",R1="@firebase/auth",I1="@firebase/auth-compat",C1="@firebase/database",N1="@firebase/data-connect",D1="@firebase/database-compat",x1="@firebase/functions",O1="@firebase/functions-compat",M1="@firebase/installations",V1="@firebase/installations-compat",k1="@firebase/messaging",U1="@firebase/messaging-compat",L1="@firebase/performance",P1="@firebase/performance-compat",z1="@firebase/remote-config",j1="@firebase/remote-config-compat",B1="@firebase/storage",q1="@firebase/storage-compat",H1="@firebase/firestore",F1="@firebase/ai",G1="@firebase/firestore-compat",K1="firebase",Y1="12.8.0";const om="[DEFAULT]",Q1={[am]:"fire-core",[E1]:"fire-core-compat",[S1]:"fire-analytics",[A1]:"fire-analytics-compat",[w1]:"fire-app-check",[b1]:"fire-app-check-compat",[R1]:"fire-auth",[I1]:"fire-auth-compat",[C1]:"fire-rtdb",[N1]:"fire-data-connect",[D1]:"fire-rtdb-compat",[x1]:"fire-fn",[O1]:"fire-fn-compat",[M1]:"fire-iid",[V1]:"fire-iid-compat",[k1]:"fire-fcm",[U1]:"fire-fcm-compat",[L1]:"fire-perf",[P1]:"fire-perf-compat",[z1]:"fire-rc",[j1]:"fire-rc-compat",[B1]:"fire-gcs",[q1]:"fire-gcs-compat",[H1]:"fire-fst",[G1]:"fire-fst-compat",[F1]:"fire-vertex","fire-js":"fire-js",[K1]:"fire-js-all"};const Kc=new Map,X1=new Map,lm=new Map;function fv(s,t){try{s.container.addComponent(t)}catch(i){rs.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Oi(s){const t=s.name;if(lm.has(t))return rs.debug(`There were multiple attempts to register component ${t}.`),!1;lm.set(t,s);for(const i of Kc.values())fv(i,s);for(const i of X1.values())fv(i,s);return!0}function Jr(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Zn(s){return s==null?!1:s.settings!==void 0}const $1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new $r("app","Firebase",$1);class J1{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}const co=Y1;function lT(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:om,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Qs.create("bad-app-name",{appName:String(l)});if(i||(i=Z0()),!i)throw Qs.create("no-options");const c=Kc.get(l);if(c){if(Zs(i,c.options)&&Zs(r,c.config))return c;throw Qs.create("duplicate-app",{appName:l})}const d=new s1(l);for(const _ of lm.values())d.addComponent(_);const g=new J1(i,r,d);return Kc.set(l,g),g}function Om(s=om){const t=Kc.get(s);if(!t&&s===om&&Z0())return lT();if(!t)throw Qs.create("no-app",{appName:s});return t}function zn(s,t,i){let r=Q1[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),rs.warn(d.join(" "));return}Oi(new ii(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const Z1="firebase-heartbeat-database",W1=1,Vl="firebase-heartbeat-store";let Gd=null;function uT(){return Gd||(Gd=oT(Z1,W1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Vl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Qs.create("idb-open",{originalErrorMessage:s.message})})),Gd}async function tw(s){try{const i=(await uT()).transaction(Vl),r=await i.objectStore(Vl).get(cT(s));return await i.done,r}catch(t){if(t instanceof si)rs.warn(t.message);else{const i=Qs.create("idb-get",{originalErrorMessage:t?.message});rs.warn(i.message)}}}async function dv(s,t){try{const r=(await uT()).transaction(Vl,"readwrite");await r.objectStore(Vl).put(t,cT(s)),await r.done}catch(i){if(i instanceof si)rs.warn(i.message);else{const r=Qs.create("idb-set",{originalErrorMessage:i?.message});rs.warn(r.message)}}}function cT(s){return`${s.name}!${s.options.appId}`}const ew=1024,nw=30;class iw{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new rw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=mv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>nw){const l=aw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){rs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=mv(),{heartbeatsToSend:i,unsentEntries:r}=sw(this._heartbeatsCache.heartbeats),l=Gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return rs.warn(t),""}}}function mv(){return new Date().toISOString().substring(0,10)}function sw(s,t=ew){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),gv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),gv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class rw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iT()?sT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await tw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return dv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return dv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function gv(s){return Gc(JSON.stringify({version:2,heartbeats:s})).length}function aw(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}function ow(s){Oi(new ii("platform-logger",t=>new v1(t),"PRIVATE")),Oi(new ii("heartbeat",t=>new iw(t),"PRIVATE")),zn(am,hv,s),zn(am,hv,"esm2020"),zn("fire-js","")}ow("");var lw="firebase",uw="12.8.0";zn(lw,uw,"app");function hT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cw=hT,fT=new $r("auth","Firebase",hT());const Yc=new mh("@firebase/auth");function hw(s,...t){Yc.logLevel<=Mt.WARN&&Yc.warn(`Auth (${co}): ${s}`,...t)}function Vc(s,...t){Yc.logLevel<=Mt.ERROR&&Yc.error(`Auth (${co}): ${s}`,...t)}function Mi(s,...t){throw Vm(s,...t)}function ti(s,...t){return Vm(s,...t)}function Mm(s,t,i){const r={...cw(),[t]:i};return new $r("auth","Firebase",r).create(t,{appName:s.name})}function qr(s){return Mm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fw(s,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&Mi(s,"argument-error"),Mm(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vm(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return fT.create(s,...t)}function vt(s,t,...i){if(!s)throw Vm(t,...i)}function is(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Vc(t),new Error(t)}function as(s,t){s||is(t)}function um(){return typeof self<"u"&&self.location?.href||""}function dw(){return pv()==="http:"||pv()==="https:"}function pv(){return typeof self<"u"&&self.location?.protocol||null}function mw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dw()||nT()||"connection"in navigator)?navigator.onLine:!0}function gw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Fl{constructor(t,i){this.shortDelay=t,this.longDelay=i,as(i>t,"Short delay should be less than long delay!"),this.isMobile=Lb()||jb()}get(){return mw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function km(s,t){as(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class dT{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const yw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_w=new Fl(3e4,6e4);function Um(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function ho(s,t,i,r,l={}){return mT(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const g=Hl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return zb()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&uo(s.emulatorConfig.host)&&(y.credentials="include"),dT.fetch()(await gT(s,s.config.apiHost,i,g),y)})}async function mT(s,t,i){s._canInitEmulator=!1;const r={...pw,...t};try{const l=new Tw(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ic(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Ic(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Ic(s,"user-disabled",d);const A=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Mm(s,A,y);Mi(s,A)}}catch(l){if(l instanceof si)throw l;Mi(s,"network-request-failed",{message:String(l)})}}async function vw(s,t,i,r,l={}){const c=await ho(s,t,i,r,l);return"mfaPendingCredential"in c&&Mi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function gT(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?km(s.config,l):`${s.config.apiScheme}://${l}`;return yw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class Tw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(ti(this.auth,"network-request-failed")),_w.get())})}}function Ic(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=ti(s,t,r);return l.customData._tokenResponse=i,l}async function Ew(s,t){return ho(s,"POST","/v1/accounts:delete",t)}async function Qc(s,t){return ho(s,"POST","/v1/accounts:lookup",t)}function Nl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Aw(s,t=!1){const i=De(s),r=await i.getIdToken(t),l=Lm(r);vt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Nl(Kd(l.auth_time)),issuedAtTime:Nl(Kd(l.iat)),expirationTime:Nl(Kd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Kd(s){return Number(s)*1e3}function Lm(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const l=$0(i);return l?JSON.parse(l):(Vc("Failed to decode base64 JWT payload"),null)}catch(l){return Vc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function yv(s){const t=Lm(s);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function kl(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof si&&Sw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Sw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class bw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class cm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xc(s){const t=s.auth,i=await s.getIdToken(),r=await kl(s,Qc(t,{idToken:i}));vt(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?pT(l.providerUserInfo):[],d=Rw(s.providerData,c),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=g?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new cm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,A)}async function ww(s){const t=De(s);await Xc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Rw(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function pT(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Iw(s,t){const i=await mT(s,{},async()=>{const r=Hl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await gT(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:r};return s.emulatorConfig&&uo(s.emulatorConfig.host)&&(_.credentials="include"),dT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Cw(s,t){return ho(s,"POST","/v2/accounts:revokeToken",Um(s,t))}class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):yv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const i=yv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await Iw(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new Qa;return r&&(vt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(vt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(vt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return is("not implemented")}}function qs(s,t){vt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Wn{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new bw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new cm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await kl(this,this.stsTokenManager.getToken(this.auth,t));return vt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Aw(this,t)}reload(){return ww(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Wn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Xc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(qr(this.auth));const t=await this.getIdToken();return await kl(this,Ew(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:w,emailVerified:O,isAnonymous:K,providerData:Z,stsTokenManager:nt}=i;vt(w&&nt,t,"internal-error");const tt=Qa.fromJSON(this.name,nt);vt(typeof w=="string",t,"internal-error"),qs(r,t.name),qs(l,t.name),vt(typeof O=="boolean",t,"internal-error"),vt(typeof K=="boolean",t,"internal-error"),qs(c,t.name),qs(d,t.name),qs(g,t.name),qs(_,t.name),qs(y,t.name),qs(A,t.name);const ut=new Wn({uid:w,auth:t,email:l,emailVerified:O,displayName:r,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:tt,createdAt:y,lastLoginAt:A});return Z&&Array.isArray(Z)&&(ut.providerData=Z.map(Tt=>({...Tt}))),_&&(ut._redirectEventId=_),ut}static async _fromIdTokenResponse(t,i,r=!1){const l=new Qa;l.updateFromServerResponse(i);const c=new Wn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await Xc(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];vt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?pT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Qa;g.updateFromIdToken(r);const _=new Wn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new cm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const _v=new Map;function ss(s){as(s instanceof Function,"Expected a class definition");let t=_v.get(s);return t?(as(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,_v.set(s,t),t)}class yT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}yT.type="NONE";const vv=yT;function kc(s,t,i){return`firebase:${s}:${t}:${i}`}class Xa{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=kc(this.userKey,l.apiKey,c),this.fullPersistenceKey=kc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Qc(this.auth,{idToken:t}).catch(()=>{});return i?Wn._fromGetAccountInfoResponse(this.auth,i,t):null}return Wn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Xa(ss(vv),t,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||ss(vv);const d=kc(r,t.config.apiKey,t.name);let g=null;for(const y of i)try{const A=await y._get(d);if(A){let w;if(typeof A=="string"){const O=await Qc(t,{idToken:A}).catch(()=>{});if(!O)break;w=await Wn._fromGetAccountInfoResponse(t,O,A)}else w=Wn._fromJSON(t,A);y!==c&&(g=w),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Xa(c,t,r):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Xa(c,t,r))}}function Tv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ET(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_T(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ST(t))return"Blackberry";if(bT(t))return"Webos";if(vT(t))return"Safari";if((t.includes("chrome/")||TT(t))&&!t.includes("edge/"))return"Chrome";if(AT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function _T(s=We()){return/firefox\//i.test(s)}function vT(s=We()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function TT(s=We()){return/crios\//i.test(s)}function ET(s=We()){return/iemobile/i.test(s)}function AT(s=We()){return/android/i.test(s)}function ST(s=We()){return/blackberry/i.test(s)}function bT(s=We()){return/webos/i.test(s)}function Pm(s=We()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Nw(s=We()){return Pm(s)&&!!window.navigator?.standalone}function Dw(){return Bb()&&document.documentMode===10}function wT(s=We()){return Pm(s)||AT(s)||bT(s)||ST(s)||/windows phone/i.test(s)||ET(s)}function RT(s,t=[]){let i;switch(s){case"Browser":i=Tv(We());break;case"Worker":i=`${Tv(We())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${co}/${r}`}class xw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,g)=>{try{const _=t(c);d(_)}catch(_){g(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Ow(s,t={}){return ho(s,"GET","/v2/passwordPolicy",Um(s,t))}const Mw=6;class Vw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Mw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class kw{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ev(this),this.idTokenSubscription=new Ev(this),this.beforeStateQueue=new xw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ss(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Qc(this,{idToken:t}),r=await Wn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Zn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Xc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=gw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Zn(this.app))return Promise.reject(qr(this));const i=t?De(t):null;return i&&vt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Zn(this.app)?Promise.reject(qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ss(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Ow(this),i=new Vw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new $r("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await Cw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ss(t)||this._popupRedirectResolver;vt(i,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[ss(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=RT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&hw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function gh(s){return De(s)}class Ev{constructor(t){this.auth=t,this.observer=null,this.addObserver=Qb(i=>this.observer=i)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Uw(s){zm=s}function Lw(s){return zm.loadJS(s)}function Pw(){return zm.gapiScript}function zw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function jw(s,t){const i=Jr(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Zs(c,t??{}))return l;Mi(l,"already-initialized")}return i.initialize({options:t})}function Bw(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ss);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function qw(s,t,i){const r=gh(s);vt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=IT(t),{host:d,port:g}=Hw(t),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){vt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),vt(Zs(y,r.config.emulator)&&Zs(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,uo(d)?(tT(`${c}//${d}${_}`),eT("Auth",!0)):Fw()}function IT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Hw(s){const t=IT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Av(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Av(d)}}}function Av(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Fw(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class CT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return is("not implemented")}_getIdTokenResponse(t){return is("not implemented")}_linkToIdToken(t,i){return is("not implemented")}_getReauthenticationResolver(t){return is("not implemented")}}async function $a(s,t){return vw(s,"POST","/v1/accounts:signInWithIdp",Um(s,t))}const Gw="http://localhost";class Gr extends CT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Gr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Mi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new Gr(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return $a(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,$a(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,$a(t,i)}buildRequest(){const t={requestUri:Gw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Hl(i)}return t}}class jm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Gl extends jm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Hs extends Gl{constructor(){super("facebook.com")}static credential(t){return Gr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hs.credential(t.oauthAccessToken)}catch{return null}}}Hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hs.PROVIDER_ID="facebook.com";class ns extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Gr._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ns.credentialFromTaggedObject(t)}static credentialFromError(t){return ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return ns.credential(i,r)}catch{return null}}}ns.GOOGLE_SIGN_IN_METHOD="google.com";ns.PROVIDER_ID="google.com";class Fs extends Gl{constructor(){super("github.com")}static credential(t){return Gr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fs.credential(t.oauthAccessToken)}catch{return null}}}Fs.GITHUB_SIGN_IN_METHOD="github.com";Fs.PROVIDER_ID="github.com";class Gs extends Gl{constructor(){super("twitter.com")}static credential(t,i){return Gr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Gs.credential(i,r)}catch{return null}}}Gs.TWITTER_SIGN_IN_METHOD="twitter.com";Gs.PROVIDER_ID="twitter.com";class eo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await Wn._fromIdTokenResponse(t,r,l),d=Sv(r);return new eo({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=Sv(r);return new eo({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function Sv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class $c extends si{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,$c.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new $c(t,i,r,l)}}function NT(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?$c._fromErrorAndOperation(s,c,t,r):c})}async function Kw(s,t,i=!1){const r=await kl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return eo._forOperation(s,"link",r)}async function Yw(s,t,i=!1){const{auth:r}=s;if(Zn(r.app))return Promise.reject(qr(r));const l="reauthenticate";try{const c=await kl(s,NT(r,l,t,s),i);vt(c.idToken,r,"internal-error");const d=Lm(c.idToken);vt(d,r,"internal-error");const{sub:g}=d;return vt(s.uid===g,r,"user-mismatch"),eo._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Mi(r,"user-mismatch"),c}}async function Qw(s,t,i=!1){if(Zn(s.app))return Promise.reject(qr(s));const r="signIn",l=await NT(s,r,t),c=await eo._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}function Xw(s,t){return De(s).setPersistence(t)}function $w(s,t,i,r){return De(s).onIdTokenChanged(t,i,r)}function Jw(s,t,i){return De(s).beforeAuthStateChanged(t,i)}function Zw(s,t,i,r){return De(s).onAuthStateChanged(t,i,r)}const Jc="__sak";class DT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Jc,"1"),this.storage.removeItem(Jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ww=1e3,tR=10;class xT extends DT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);Dw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,tR):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},Ww)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}xT.type="LOCAL";const OT=xT;class MT extends DT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}MT.type="SESSION";const VT=MT;function eR(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ph{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new ph(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await eR(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ph.receivers=[];function Bm(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}class nR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=Bm("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(w){const O=w;if(O.data.eventId===y)switch(O.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(O.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ci(){return window}function iR(s){Ci().location.href=s}function kT(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function sR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rR(){return navigator?.serviceWorker?.controller||null}function aR(){return kT()?self:null}const UT="firebaseLocalStorageDb",oR=1,Zc="firebaseLocalStorage",LT="fbase_key";class Kl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function yh(s,t){return s.transaction([Zc],t?"readwrite":"readonly").objectStore(Zc)}function lR(){const s=indexedDB.deleteDatabase(UT);return new Kl(s).toPromise()}function hm(){const s=indexedDB.open(UT,oR);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Zc,{keyPath:LT})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Zc)?t(r):(r.close(),await lR(),t(await hm()))})})}async function bv(s,t,i){const r=yh(s,!0).put({[LT]:t,value:i});return new Kl(r).toPromise()}async function uR(s,t){const i=yh(s,!1).get(t),r=await new Kl(i).toPromise();return r===void 0?null:r.value}function wv(s,t){const i=yh(s,!0).delete(t);return new Kl(i).toPromise()}const cR=800,hR=3;class PT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>hR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ph._getInstance(aR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await sR(),!this.activeServiceWorker)return;this.sender=new nR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||rR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await hm();return await bv(t,Jc,"1"),await wv(t,Jc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>bv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>uR(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>wv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=yh(l,!1).getAll();return new Kl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PT.type="LOCAL";const fR=PT;new Fl(3e4,6e4);function zT(s,t){return t?ss(t):(vt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class qm extends CT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $a(t,this._buildIdpRequest())}_linkToIdToken(t,i){return $a(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return $a(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function dR(s){return Qw(s.auth,new qm(s),s.bypassAuthState)}function mR(s){const{auth:t,user:i}=s;return vt(i,t,"internal-error"),Yw(i,new qm(s),s.bypassAuthState)}async function gR(s){const{auth:t,user:i}=s;return vt(i,t,"internal-error"),Kw(i,new qm(s),s.bypassAuthState)}class jT{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return dR;case"linkViaPopup":case"linkViaRedirect":return gR;case"reauthViaPopup":case"reauthViaRedirect":return mR;default:Mi(this.auth,"internal-error")}}resolve(t){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pR=new Fl(2e3,1e4);async function yR(s,t,i){if(Zn(s.app))return Promise.reject(ti(s,"operation-not-supported-in-this-environment"));const r=gh(s);fw(s,t,jm);const l=zT(r,i);return new zr(r,"signInViaPopup",t,l).executeNotNull()}class zr extends jT{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,zr.currentPopupAction&&zr.currentPopupAction.cancel(),zr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){as(this.filter.length===1,"Popup operations only handle one event");const t=Bm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zr.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,pR.get())};t()}}zr.currentPopupAction=null;const _R="pendingRedirect",Uc=new Map;class vR extends jT{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Uc.get(this.auth._key());if(!t){try{const r=await TR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Uc.set(this.auth._key(),t)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TR(s,t){const i=SR(t),r=AR(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function ER(s,t){Uc.set(s._key(),t)}function AR(s){return ss(s._redirectPersistence)}function SR(s){return kc(_R,s.config.apiKey,s.name)}async function bR(s,t,i=!1){if(Zn(s.app))return Promise.reject(qr(s));const r=gh(s),l=zT(r,t),d=await new vR(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const wR=600*1e3;class RR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!IR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!BT(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ti(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=wR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rv(t))}saveEventToCache(t){this.cachedEventUids.add(Rv(t)),this.lastProcessedEventTime=Date.now()}}function Rv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function BT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function IR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BT(s);default:return!1}}async function CR(s,t={}){return ho(s,"GET","/v1/projects",t)}const NR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DR=/^https?/;async function xR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await CR(s);for(const i of t)try{if(OR(i))return}catch{}Mi(s,"unauthorized-domain")}function OR(s){const t=um(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!DR.test(i))return!1;if(NR.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const MR=new Fl(3e4,6e4);function Iv(){const s=Ci().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function VR(s){return new Promise((t,i)=>{function r(){Iv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Iv(),i(ti(s,"network-request-failed"))},timeout:MR.get()})}if(Ci().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ci().gapi?.load)r();else{const l=zw("iframefcb");return Ci()[l]=()=>{gapi.load?r():i(ti(s,"network-request-failed"))},Lw(`${Pw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Lc=null,t})}let Lc=null;function kR(s){return Lc=Lc||VR(s),Lc}const UR=new Fl(5e3,15e3),LR="__/auth/iframe",PR="emulator/auth/iframe",zR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BR(s){const t=s.config;vt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?km(t,PR):`https://${s.config.authDomain}/${LR}`,r={apiKey:t.apiKey,appName:s.name,v:co},l=jR.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Hl(r).slice(1)}`}async function qR(s){const t=await kR(s),i=Ci().gapi;return vt(i,s,"internal-error"),t.open({where:document.body,url:BR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zR,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=ti(s,"network-request-failed"),g=Ci().setTimeout(()=>{c(d)},UR.get());function _(){Ci().clearTimeout(g),l(r)}r.ping(_).then(_,()=>{c(d)})}))}const HR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FR=500,GR=600,KR="_blank",YR="http://localhost";class Cv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QR(s,t,i,r=FR,l=GR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const _={...HR,width:r.toString(),height:l.toString(),top:c,left:d},y=We().toLowerCase();i&&(g=TT(y)?KR:i),_T(y)&&(t=t||YR,_.scrollbars="yes");const A=Object.entries(_).reduce((O,[K,Z])=>`${O}${K}=${Z},`,"");if(Nw(y)&&g!=="_self")return XR(t||"",g),new Cv(null);const w=window.open(t||"",g,A);vt(w,s,"popup-blocked");try{w.focus()}catch{}return new Cv(w)}function XR(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const $R="__/auth/handler",JR="emulator/auth/handler",ZR=encodeURIComponent("fac");async function Nv(s,t,i,r,l,c){vt(s.config.authDomain,s,"auth-domain-config-required"),vt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:co,eventId:l};if(t instanceof jm){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",Yb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,w]of Object.entries({}))d[A]=w}if(t instanceof Gl){const A=t.getScopes().filter(w=>w!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const _=await s._getAppCheckToken(),y=_?`#${ZR}=${encodeURIComponent(_)}`:"";return`${WR(s)}?${Hl(g).slice(1)}${y}`}function WR({config:s}){return s.emulator?km(s,JR):`https://${s.authDomain}/${$R}`}const Yd="webStorageSupport";class tI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VT,this._completeRedirectFn=bR,this._overrideRedirectResult=ER}async _openPopup(t,i,r,l){as(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Nv(t,i,r,um(),l);return QR(t,c,Bm())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await Nv(t,i,r,um(),l);return iR(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(as(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await qR(t),r=new RR(t);return i.register("authEvent",l=>(vt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Yd,{type:Yd},l=>{const c=l?.[0]?.[Yd];c!==void 0&&i(!!c),Mi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=xR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return wT()||vT()||Pm()}}const eI=tI;var Dv="@firebase/auth",xv="1.12.0";class nI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function iI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sI(s){Oi(new ii("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RT(s)},y=new kw(r,l,c,_);return Bw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Oi(new ii("auth-internal",t=>{const i=gh(t.getProvider("auth").getImmediate());return(r=>new nI(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),zn(Dv,xv,iI(s)),zn(Dv,xv,"esm2020")}const rI=300,aI=W0("authIdTokenMaxAge")||rI;let Ov=null;const oI=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>aI)return;const l=i?.token;Ov!==l&&(Ov=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function lI(s=Om()){const t=Jr(s,"auth");if(t.isInitialized())return t.getImmediate();const i=jw(s,{popupRedirectResolver:eI,persistence:[fR,OT,VT]}),r=W0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=oI(c.toString());Jw(i,d,()=>d(i.currentUser)),$w(i,g=>d(g))}}const l=J0("auth");return l&&qw(i,`http://${l}`),i}function uI(){return document.getElementsByTagName("head")?.[0]??document}Uw({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=ti("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",uI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sI("Browser");var Mv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xs,qT;(function(){var s;function t(C,b){function R(){}R.prototype=b.prototype,C.F=b.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(M,N,U){for(var S=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)S[ht-2]=arguments[ht];return b.prototype[N].apply(M,S)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,R){R||(R=0);const M=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)M[N]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(N=0;N<16;++N)M[N]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=C.g[0],R=C.g[1],N=C.g[2];let U=C.g[3],S;S=b+(U^R&(N^U))+M[0]+3614090360&4294967295,b=R+(S<<7&4294967295|S>>>25),S=U+(N^b&(R^N))+M[1]+3905402710&4294967295,U=b+(S<<12&4294967295|S>>>20),S=N+(R^U&(b^R))+M[2]+606105819&4294967295,N=U+(S<<17&4294967295|S>>>15),S=R+(b^N&(U^b))+M[3]+3250441966&4294967295,R=N+(S<<22&4294967295|S>>>10),S=b+(U^R&(N^U))+M[4]+4118548399&4294967295,b=R+(S<<7&4294967295|S>>>25),S=U+(N^b&(R^N))+M[5]+1200080426&4294967295,U=b+(S<<12&4294967295|S>>>20),S=N+(R^U&(b^R))+M[6]+2821735955&4294967295,N=U+(S<<17&4294967295|S>>>15),S=R+(b^N&(U^b))+M[7]+4249261313&4294967295,R=N+(S<<22&4294967295|S>>>10),S=b+(U^R&(N^U))+M[8]+1770035416&4294967295,b=R+(S<<7&4294967295|S>>>25),S=U+(N^b&(R^N))+M[9]+2336552879&4294967295,U=b+(S<<12&4294967295|S>>>20),S=N+(R^U&(b^R))+M[10]+4294925233&4294967295,N=U+(S<<17&4294967295|S>>>15),S=R+(b^N&(U^b))+M[11]+2304563134&4294967295,R=N+(S<<22&4294967295|S>>>10),S=b+(U^R&(N^U))+M[12]+1804603682&4294967295,b=R+(S<<7&4294967295|S>>>25),S=U+(N^b&(R^N))+M[13]+4254626195&4294967295,U=b+(S<<12&4294967295|S>>>20),S=N+(R^U&(b^R))+M[14]+2792965006&4294967295,N=U+(S<<17&4294967295|S>>>15),S=R+(b^N&(U^b))+M[15]+1236535329&4294967295,R=N+(S<<22&4294967295|S>>>10),S=b+(N^U&(R^N))+M[1]+4129170786&4294967295,b=R+(S<<5&4294967295|S>>>27),S=U+(R^N&(b^R))+M[6]+3225465664&4294967295,U=b+(S<<9&4294967295|S>>>23),S=N+(b^R&(U^b))+M[11]+643717713&4294967295,N=U+(S<<14&4294967295|S>>>18),S=R+(U^b&(N^U))+M[0]+3921069994&4294967295,R=N+(S<<20&4294967295|S>>>12),S=b+(N^U&(R^N))+M[5]+3593408605&4294967295,b=R+(S<<5&4294967295|S>>>27),S=U+(R^N&(b^R))+M[10]+38016083&4294967295,U=b+(S<<9&4294967295|S>>>23),S=N+(b^R&(U^b))+M[15]+3634488961&4294967295,N=U+(S<<14&4294967295|S>>>18),S=R+(U^b&(N^U))+M[4]+3889429448&4294967295,R=N+(S<<20&4294967295|S>>>12),S=b+(N^U&(R^N))+M[9]+568446438&4294967295,b=R+(S<<5&4294967295|S>>>27),S=U+(R^N&(b^R))+M[14]+3275163606&4294967295,U=b+(S<<9&4294967295|S>>>23),S=N+(b^R&(U^b))+M[3]+4107603335&4294967295,N=U+(S<<14&4294967295|S>>>18),S=R+(U^b&(N^U))+M[8]+1163531501&4294967295,R=N+(S<<20&4294967295|S>>>12),S=b+(N^U&(R^N))+M[13]+2850285829&4294967295,b=R+(S<<5&4294967295|S>>>27),S=U+(R^N&(b^R))+M[2]+4243563512&4294967295,U=b+(S<<9&4294967295|S>>>23),S=N+(b^R&(U^b))+M[7]+1735328473&4294967295,N=U+(S<<14&4294967295|S>>>18),S=R+(U^b&(N^U))+M[12]+2368359562&4294967295,R=N+(S<<20&4294967295|S>>>12),S=b+(R^N^U)+M[5]+4294588738&4294967295,b=R+(S<<4&4294967295|S>>>28),S=U+(b^R^N)+M[8]+2272392833&4294967295,U=b+(S<<11&4294967295|S>>>21),S=N+(U^b^R)+M[11]+1839030562&4294967295,N=U+(S<<16&4294967295|S>>>16),S=R+(N^U^b)+M[14]+4259657740&4294967295,R=N+(S<<23&4294967295|S>>>9),S=b+(R^N^U)+M[1]+2763975236&4294967295,b=R+(S<<4&4294967295|S>>>28),S=U+(b^R^N)+M[4]+1272893353&4294967295,U=b+(S<<11&4294967295|S>>>21),S=N+(U^b^R)+M[7]+4139469664&4294967295,N=U+(S<<16&4294967295|S>>>16),S=R+(N^U^b)+M[10]+3200236656&4294967295,R=N+(S<<23&4294967295|S>>>9),S=b+(R^N^U)+M[13]+681279174&4294967295,b=R+(S<<4&4294967295|S>>>28),S=U+(b^R^N)+M[0]+3936430074&4294967295,U=b+(S<<11&4294967295|S>>>21),S=N+(U^b^R)+M[3]+3572445317&4294967295,N=U+(S<<16&4294967295|S>>>16),S=R+(N^U^b)+M[6]+76029189&4294967295,R=N+(S<<23&4294967295|S>>>9),S=b+(R^N^U)+M[9]+3654602809&4294967295,b=R+(S<<4&4294967295|S>>>28),S=U+(b^R^N)+M[12]+3873151461&4294967295,U=b+(S<<11&4294967295|S>>>21),S=N+(U^b^R)+M[15]+530742520&4294967295,N=U+(S<<16&4294967295|S>>>16),S=R+(N^U^b)+M[2]+3299628645&4294967295,R=N+(S<<23&4294967295|S>>>9),S=b+(N^(R|~U))+M[0]+4096336452&4294967295,b=R+(S<<6&4294967295|S>>>26),S=U+(R^(b|~N))+M[7]+1126891415&4294967295,U=b+(S<<10&4294967295|S>>>22),S=N+(b^(U|~R))+M[14]+2878612391&4294967295,N=U+(S<<15&4294967295|S>>>17),S=R+(U^(N|~b))+M[5]+4237533241&4294967295,R=N+(S<<21&4294967295|S>>>11),S=b+(N^(R|~U))+M[12]+1700485571&4294967295,b=R+(S<<6&4294967295|S>>>26),S=U+(R^(b|~N))+M[3]+2399980690&4294967295,U=b+(S<<10&4294967295|S>>>22),S=N+(b^(U|~R))+M[10]+4293915773&4294967295,N=U+(S<<15&4294967295|S>>>17),S=R+(U^(N|~b))+M[1]+2240044497&4294967295,R=N+(S<<21&4294967295|S>>>11),S=b+(N^(R|~U))+M[8]+1873313359&4294967295,b=R+(S<<6&4294967295|S>>>26),S=U+(R^(b|~N))+M[15]+4264355552&4294967295,U=b+(S<<10&4294967295|S>>>22),S=N+(b^(U|~R))+M[6]+2734768916&4294967295,N=U+(S<<15&4294967295|S>>>17),S=R+(U^(N|~b))+M[13]+1309151649&4294967295,R=N+(S<<21&4294967295|S>>>11),S=b+(N^(R|~U))+M[4]+4149444226&4294967295,b=R+(S<<6&4294967295|S>>>26),S=U+(R^(b|~N))+M[11]+3174756917&4294967295,U=b+(S<<10&4294967295|S>>>22),S=N+(b^(U|~R))+M[2]+718787259&4294967295,N=U+(S<<15&4294967295|S>>>17),S=R+(U^(N|~b))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(N+(S<<21&4294967295|S>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+U&4294967295}r.prototype.v=function(C,b){b===void 0&&(b=C.length);const R=b-this.blockSize,M=this.C;let N=this.h,U=0;for(;U<b;){if(N==0)for(;U<=R;)l(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<b;)if(M[N++]=C.charCodeAt(U++),N==this.blockSize){l(this,M),N=0;break}}else for(;U<b;)if(M[N++]=C[U++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=b},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)C[b++]=this.g[R]>>>M&255;return C};function c(C,b){var R=g;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=b(C)}function d(C,b){this.h=b;const R=[];let M=!0;for(let N=C.length-1;N>=0;N--){const U=C[N]|0;M&&U==b||(R[N]=U,M=!1)}this.g=R}var g={};function _(C){return-128<=C&&C<128?c(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return w;if(C<0)return tt(y(-C));const b=[];let R=1;for(let M=0;C>=R;M++)b[M]=C/R|0,R*=4294967296;return new d(b,0)}function A(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return tt(A(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(b,8));let M=w;for(let U=0;U<C.length;U+=8){var N=Math.min(8,C.length-U);const S=parseInt(C.substring(U,U+N),b);N<8?(N=y(Math.pow(b,N)),M=M.j(N).add(y(S))):(M=M.j(R),M=M.add(y(S)))}return M}var w=_(0),O=_(1),K=_(16777216);s=d.prototype,s.m=function(){if(nt(this))return-tt(this).m();let C=0,b=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);C+=(M>=0?M:4294967296+M)*b,b*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(nt(this))return"-"+tt(this).toString(C);const b=y(Math.pow(C,6));var R=this;let M="";for(;;){const N=Qt(R,b).g;R=ut(R,N.j(b));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=N,Z(R))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function nt(C){return C.h==-1}s.l=function(C){return C=ut(this,C),nt(C)?-1:Z(C)?0:1};function tt(C){const b=C.g.length,R=[];for(let M=0;M<b;M++)R[M]=~C.g[M];return new d(R,~C.h).add(O)}s.abs=function(){return nt(this)?tt(this):this},s.add=function(C){const b=Math.max(this.g.length,C.g.length),R=[];let M=0;for(let N=0;N<=b;N++){let U=M+(this.i(N)&65535)+(C.i(N)&65535),S=(U>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);M=S>>>16,U&=65535,S&=65535,R[N]=S<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ut(C,b){return C.add(tt(b))}s.j=function(C){if(Z(this)||Z(C))return w;if(nt(this))return nt(C)?tt(this).j(tt(C)):tt(tt(this).j(C));if(nt(C))return tt(this.j(tt(C)));if(this.l(K)<0&&C.l(K)<0)return y(this.m()*C.m());const b=this.g.length+C.g.length,R=[];for(var M=0;M<2*b;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<C.g.length;N++){const U=this.i(M)>>>16,S=this.i(M)&65535,ht=C.i(N)>>>16,Pt=C.i(N)&65535;R[2*M+2*N]+=S*Pt,Tt(R,2*M+2*N),R[2*M+2*N+1]+=U*Pt,Tt(R,2*M+2*N+1),R[2*M+2*N+1]+=S*ht,Tt(R,2*M+2*N+1),R[2*M+2*N+2]+=U*ht,Tt(R,2*M+2*N+2)}for(C=0;C<b;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=b;C<2*b;C++)R[C]=0;return new d(R,0)};function Tt(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function _t(C,b){this.g=C,this.h=b}function Qt(C,b){if(Z(b))throw Error("division by zero");if(Z(C))return new _t(w,w);if(nt(C))return b=Qt(tt(C),b),new _t(tt(b.g),tt(b.h));if(nt(b))return b=Qt(C,tt(b)),new _t(tt(b.g),b.h);if(C.g.length>30){if(nt(C)||nt(b))throw Error("slowDivide_ only works with positive integers.");for(var R=O,M=b;M.l(C)<=0;)R=ae(R),M=ae(M);var N=Lt(R,1),U=Lt(M,1);for(M=Lt(M,2),R=Lt(R,2);!Z(M);){var S=U.add(M);S.l(C)<=0&&(N=N.add(R),U=S),M=Lt(M,1),R=Lt(R,1)}return b=ut(C,N.j(b)),new _t(N,b)}for(N=w;C.l(b)>=0;){for(R=Math.max(1,Math.floor(C.m()/b.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=y(R),S=U.j(b);nt(S)||S.l(C)>0;)R-=M,U=y(R),S=U.j(b);Z(U)&&(U=O),N=N.add(U),C=ut(C,S)}return new _t(N,C)}s.B=function(C){return Qt(this,C).h},s.and=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)&C.i(M);return new d(R,this.h&C.h)},s.or=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)|C.i(M);return new d(R,this.h|C.h)},s.xor=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)^C.i(M);return new d(R,this.h^C.h)};function ae(C){const b=C.g.length+1,R=[];for(let M=0;M<b;M++)R[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(R,C.h)}function Lt(C,b){const R=b>>5;b%=32;const M=C.g.length-R,N=[];for(let U=0;U<M;U++)N[U]=b>0?C.i(U+R)>>>b|C.i(U+R+1)<<32-b:C.i(U+R);return new d(N,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,qT=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Xs=d}).apply(typeof Mv<"u"?Mv:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var HT,bl,FT,Pc,fm,GT,KT,YT;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var E=0;E<u.length-1;E++){var L=u[E];if(!(L in v))break t;v=v[L]}u=u[u.length-1],E=v[u],m=m(E),m!=E&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],E;for(E in m)Object.prototype.hasOwnProperty.call(m,E)&&v.push([E,m[E]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var E=v.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(E,L,q){for(var W=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)W[wt-2]=arguments[wt];return m.prototype[L].apply(E,W)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const v=Array(m);for(let E=0;E<m;E++)v[E]=u[E];return v}return[]}function Z(u,m){for(let E=1;E<arguments.length;E++){const L=arguments[E];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const q=L.length||0;u.length=v+q;for(let W=0;W<q;W++)u[v+W]=L[W]}else u.push(L)}}class nt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function ut(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Tt{constructor(){this.h=this.g=null}add(m,v){const E=_t.get();E.set(m,v),this.h?this.h.next=E:this.g=E,this.h=E}}var _t=new nt(()=>new Qt,u=>u.reset());class Qt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,Lt=!1,C=new Tt,b=()=>{const u=Promise.resolve(void 0);ae=()=>{u.then(R)}};function R(){for(var u;u=ut();){try{u.h.call(u.g)}catch(v){tt(v)}var m=_t;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Lt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function S(u){return/^[\s\xa0]*$/.test(u)}function ht(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(ht,N),ht.prototype.init=function(u,m){const v=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ht.Z.h.call(this)},ht.prototype.h=function(){ht.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Pt="closure_listenable_"+(Math.random()*1e6|0),P=0;function J(u,m,v,E,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!E,this.ha=L,this.key=++P,this.da=this.fa=!1}function it(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function gt(u,m,v){for(const E in u)m.call(v,u[E],E,u)}function Ct(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function x(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let v,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(v in E)u[v]=E[v];for(let q=0;q<Y.length;q++)v=Y[q],Object.prototype.hasOwnProperty.call(E,v)&&(u[v]=E[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,E,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const W=ct(u,m,E,L);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new J(m,this.src,q,!!E,L),m.fa=v,u.push(m)),m};function yt(u,m){const v=m.type;if(v in u.g){var E=u.g[v],L=Array.prototype.indexOf.call(E,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(E,L,1),q&&(it(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ct(u,m,v,E){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==E)return L}return-1}var bt="closure_lm_"+(Math.random()*1e6|0),Xt={};function oe(u,m,v,E,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)oe(u,m[q],v,E,L);return null}return v=vo(v),u&&u[Pt]?u.J(m,v,g(E)?!!E.capture:!1,L):or(u,m,v,!1,E,L)}function or(u,m,v,E,L,q){if(!m)throw Error("Invalid event type");const W=g(L)?!!L.capture:!!L;let wt=lr(u);if(wt||(u[bt]=wt=new st(u)),v=wt.add(m,v,E,W,q),v.proxy)return v;if(E=ta(),v.proxy=E,E.src=u,E.listener=v,u.addEventListener)U||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),E,L);else if(u.attachEvent)u.attachEvent(ri(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ta(){function u(v){return m.call(u.src,u.listener,v)}const m=yo;return u}function ea(u,m,v,E,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)ea(u,m[q],v,E,L);else E=g(E)?!!E.capture:!!E,v=vo(v),u&&u[Pt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=ct(m,v,E,L),v>-1&&(it(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=lr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ct(m,v,E,L)),(v=u>-1?m[u]:null)&&na(v))}function na(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Pt])yt(m.i,u);else{var v=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(v,E,u.capture):m.detachEvent?m.detachEvent(ri(v),E):m.addListener&&m.removeListener&&m.removeListener(E),(v=lr(m))?(yt(v,u),v.h==0&&(v.src=null,m[bt]=null)):it(u)}}}function ri(u){return u in Xt?Xt[u]:Xt[u]="on"+u}function yo(u,m){if(u.da)u=!0;else{m=new ht(m,this);const v=u.listener,E=u.ha||u.src;u.fa&&na(u),u=v.call(E,m)}return u}function lr(u){return u=u[bt],u instanceof st?u:null}var _o="__closure_events_fn_"+(Math.random()*1e9>>>0);function vo(u){return typeof u=="function"?u:(u[_o]||(u[_o]=function(m){return u.handleEvent(m)}),u[_o])}function ve(){M.call(this),this.i=new st(this),this.M=this,this.G=null}w(ve,M),ve.prototype[Pt]=!0,ve.prototype.removeEventListener=function(u,m,v,E){ea(this,u,m,v,E)};function xe(u,m){var v,E=u.G;if(E)for(v=[];E;E=E.G)v.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(E,u),et(m,L)}L=!0;let q,W;if(v)for(W=v.length-1;W>=0;W--)q=m.g=v[W],L=us(q,E,!0,m)&&L;if(q=m.g=u,L=us(q,E,!0,m)&&L,L=us(q,E,!1,m)&&L,v)for(W=0;W<v.length;W++)q=m.g=v[W],L=us(q,E,!1,m)&&L}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let E=0;E<v.length;E++)it(v[E]);delete u.g[m],u.h--}}this.G=null},ve.prototype.J=function(u,m,v,E){return this.i.add(String(u),m,!1,v,E)},ve.prototype.K=function(u,m,v,E){return this.i.add(String(u),m,!0,v,E)};function us(u,m,v,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const W=m[q];if(W&&!W.da&&W.capture==v){const wt=W.listener,ge=W.ha||W.src;W.fa&&yt(u.i,W),L=wt.call(ge,E)!==!1&&L}}return L&&!E.defaultPrevented}function Uh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Zl(u){u.g=Uh(()=>{u.g=null,u.i&&(u.i=!1,Zl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Zl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(u){M.call(this),this.h=u,this.g={}}w(ur,M);var To=[];function Eo(u){gt(u.g,function(m,v){this.g.hasOwnProperty(v)&&na(m)},u),u.g={}}ur.prototype.N=function(){ur.Z.N.call(this),Eo(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cs=d.JSON.stringify,Lh=d.JSON.parse,Wl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function tu(){}function eu(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){N.call(this,"d")}w(je,N);function wn(){N.call(this,"c")}w(wn,N);var me={},nu=null;function ia(){return nu=nu||new ve}me.Ia="serverreachability";function iu(u){N.call(this,me.Ia,u)}w(iu,N);function ai(u){const m=ia();xe(m,new iu(m))}me.STAT_EVENT="statevent";function cr(u,m){N.call(this,me.STAT_EVENT,u),this.stat=m}w(cr,N);function Te(u){const m=ia();xe(m,new cr(m,u))}me.Ja="timingevent";function oi(u,m){N.call(this,me.Ja,u),this.size=m}w(oi,N);function li(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function Ph(u,m,v,E,L,q){u.info(function(){if(u.g)if(q){var W="",wt=q.split("&");for(let qt=0;qt<wt.length;qt++){var ge=wt[qt].split("=");if(ge.length>1){const le=ge[0];ge=ge[1];const Nn=le.split("_");W=Nn.length>=2&&Nn[1]=="type"?W+(le+"="+ge+"&"):W+(le+"=redacted&")}}}else W=null;else W=q;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+m+`
`+v+`
`+W})}function su(u,m,v,E,L,q,W){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+W})}function ui(u,m,v,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+zh(u,v)+(E?" "+E:"")})}function hr(u,m){u.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function zh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var E=v[1];if(Array.isArray(E)&&!(E.length<1)){var L=E[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<E.length;W++)E[W]=""}}}}return cs(q)}catch{return m}}var fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ao={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},So;function dr(){}w(dr,tu),dr.prototype.g=function(){return new XMLHttpRequest},So=new dr;function Li(u){return encodeURIComponent(String(u))}function ru(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function qn(u,m,v,E){this.j=u,this.i=m,this.l=v,this.S=E||1,this.V=new ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var Ee={},Ue={};function ci(u,m,v){u.M=1,u.A=mr(Se(m)),u.u=v,u.R=!0,sa(u,null)}function sa(u,m){u.F=Date.now(),hi(u),u.B=Se(u.A);var v=u.B,E=u.S;Array.isArray(E)||(E=[String(E)]),la(v.i,"t",E),u.C=0,v=u.j.L,u.h=new Hn,u.g=Tu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,E=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(To[0]=L.toString()),L=To);for(let q=0;q<L.length;q++){const W=oe(v,L[q],E||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ai(),Ph(u.i,u.v,u.B,u.l,u.S,u.u)}qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Kn(u)==3?m.j():this.Y(u)},qn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Kn(this.g),ge=this.g.ya(),qt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||wt!=4||ge==7||(ge==8||qt<=0?ai(3):ai(2)),fi(this);var m=this.g.ca();this.X=m;var v=jh(this);if(this.o=m==200,su(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var E,L=this.g;if((E=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(E)){var q=E;break e}}q=null}if(u=q)ui(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,u);else{this.o=!1,this.m=3,Te(12),mn(this),Rn(this);break t}}if(this.R){u=!0;let le;for(;!this.K&&this.C<v.length;)if(le=ou(this,v),le==Ue){wt==4&&(this.m=4,Te(14),u=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Ee){this.m=4,Te(15),ui(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ui(this.i,this.l,le,null),di(this,le);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,Te(16),u=!1),this.o=this.o&&u,!u)ui(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Po(W),W.P=!0,Te(11))}}else ui(this.i,this.l,v,null),di(this,v);wt==4&&mn(this),this.o&&!this.K&&(wt==4?pu(this.j,this):(this.o=!1,hi(this)))}else zi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),mn(this),Rn(this)}}}catch{}};function jh(u){if(!au(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let v="";const E=m.length,L=Kn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),Rn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<E;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(L&&q==E-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function au(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ou(u,m){var v=u.C,E=m.indexOf(`
`,v);return E==-1?Ue:(v=Number(m.substring(v,E)),isNaN(v)?Ee:(E+=1,E+v>m.length?Ue:(m=m.slice(E,E+v),u.C=E+v,m)))}qn.prototype.cancel=function(){this.K=!0,mn(this)};function hi(u){u.T=Date.now()+u.H,ra(u,u.H)}function ra(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=li(y(u.aa,u),m)}function fi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(hr(this.i,this.B),this.M!=2&&(ai(),Te(17)),mn(this),this.m=2,Rn(this)):ra(this,this.T-u)};function Rn(u){u.j.I==0||u.K||pu(u.j,u)}function mn(u){fi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Eo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function di(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||gi(v.h,u))){if(!u.L&&gi(v.h,u)&&v.I==3){try{var E=v.Ba.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)da(v),_s(v);else break t;Er(v),Te(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=li(y(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ei(v,11)}else if((u.L||v.g==u)&&da(v),!S(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let qt=L[m];const le=qt[0];if(!(le<=v.K))if(v.K=le,qt=qt[1],v.I==2)if(qt[0]=="c"){v.M=qt[1],v.ba=qt[2];const Nn=qt[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const Ai=qt[4];Ai!=null&&(v.za=Ai,v.j.info("SVER="+v.za));const Yn=qt[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(E=1.5*Yn,v.O=E,v.j.info("backChannelRequestTimeoutMs_="+E)),E=v;const Qn=u.g;if(Qn){const Ar=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ar){var q=E.h;q.g||Ar.indexOf("spdy")==-1&&Ar.indexOf("quic")==-1&&Ar.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ro(q,q.h),q.h=null))}if(E.G){const ma=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;ma&&(E.wa=ma,Gt(E.J,E.G,ma))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),E=v;var W=u;if(E.na=vu(E,E.L?E.ba:null,E.W),W.L){Io(E.h,W);var wt=W,ge=E.O;ge&&(wt.H=ge),wt.D&&(fi(wt),hi(wt)),E.g=W}else mu(E);v.i.length>0&&Ti(v)}else qt[0]!="stop"&&qt[0]!="close"||Ei(v,7);else v.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?Ei(v,7):Uo(v):qt[0]!="noop"&&v.l&&v.l.qa(qt),v.A=0)}}ai(4)}catch{}}var Ae=class{constructor(u,m){this.g=u,this.map=m}};function bo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function mi(u){return u.h?1:u.g?u.g.size:0}function gi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ro(u,m){u.g?u.g.add(m):u.h=m}function Io(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}bo.prototype.cancel=function(){if(this.i=Co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Co(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return K(u.i)}var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const E=u[v].indexOf("=");let L,q=null;E>=0?(L=u[v].substring(0,E),q=u[v].substring(E+1)):L=u[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function gn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof gn?(this.l=u.l,Le(this,u.j),this.o=u.o,this.g=u.g,hs(this,u.u),this.h=u.h,No(this,fu(u.i)),this.m=u.m):u&&(m=String(u).match(lu))?(this.l=!1,Le(this,m[1]||"",!0),this.o=pi(m[2]||""),this.g=pi(m[3]||"",!0),hs(this,m[4]),this.h=pi(m[5]||"",!0),No(this,m[6]||"",!0),this.m=pi(m[7]||"")):(this.l=!1,this.i=new ds(null,this.l))}gn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(gr(m,oa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(gr(m,oa,!0),"@"),u.push(Li(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(gr(v,v.charAt(0)=="/"?Do:uu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",gr(v,cu)),u.join("")},gn.prototype.resolve=function(u){const m=Se(this);let v=!!u.j;v?Le(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var E=u.h;if(v)hs(m,u.u);else if(v=!!u.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var L=m.h.lastIndexOf("/");L!=-1&&(E=m.h.slice(0,L+1)+E)}if(L=E,L==".."||L==".")E="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){E=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let W=0;W<L.length;){const wt=L[W++];wt=="."?E&&W==L.length&&q.push(""):wt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),E&&W==L.length&&q.push("")):(q.push(wt),E=!0)}E=q.join("/")}else E=L}return v?m.h=E:v=u.i.toString()!=="",v?No(m,fu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Se(u){return new gn(u)}function Le(u,m,v){u.j=v?pi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function hs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function No(u,m,v){m instanceof ds?(u.i=m,ua(u.i,u.l)):(v||(m=gr(m,fs)),u.i=new ds(m,u.l))}function Gt(u,m,v){u.i.set(m,v)}function mr(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function pi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function gr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var oa=/[#\/\?@]/g,uu=/[#\?:]/g,Do=/[#\?]/g,fs=/[#\?@]/g,cu=/#/g;function ds(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&aa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ds.prototype,s.add=function(u,m){an(this),this.i=null,u=ms(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function hu(u,m){an(u),m=ms(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function xo(u,m){return an(u),m=ms(u,m),u.g.has(m)}s.forEach=function(u,m){an(this),this.g.forEach(function(v,E){v.forEach(function(L){u.call(m,L,E,this)},this)},this)};function Oo(u,m){an(u);let v=[];if(typeof m=="string")xo(u,m)&&(v=v.concat(u.g.get(ms(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return an(this),this.i=null,u=ms(this,u),xo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Oo(this,u),u.length>0?String(u[0]):m):m};function la(u,m,v){hu(u,m),v.length>0&&(u.i=null,u.g.set(ms(u,m),K(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let E=0;E<m.length;E++){var v=m[E];const L=Li(v);v=Oo(this,v);for(let q=0;q<v.length;q++){let W=L;v[q]!==""&&(W+="="+Li(v[q])),u.push(W)}}return this.i=u.join("&")};function fu(u){const m=new ds;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ms(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ua(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,E){const L=E.toLowerCase();E!=L&&(hu(this,E),la(this,L,v))},u)),u.j=m}function Fn(u,m){const v=new Bn;if(d.Image){const E=new Image;E.onload=A(In,v,"TestLoadImage: loaded",!0,m,E),E.onerror=A(In,v,"TestLoadImage: error",!1,m,E),E.onabort=A(In,v,"TestLoadImage: abort",!1,m,E),E.ontimeout=A(In,v,"TestLoadImage: timeout",!1,m,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function Mo(u,m){const v=new Bn,E=new AbortController,L=setTimeout(()=>{E.abort(),In(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(q=>{clearTimeout(L),q.ok?In(v,"TestPingServer: ok",!0,m):In(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),In(v,"TestPingServer: error",!1,m)})}function In(u,m,v,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(v)}catch{}}function gs(){this.g=new Wl}function yi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(yi,tu),yi.prototype.g=function(){return new pr(this.i,this.h)};function pr(u,m){ve.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(pr,ve),s=pr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Gn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ps(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ca(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ca(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ps(this):Gn(this),this.readyState==3&&ca(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ps(this))},s.Na=function(u){this.g&&(this.response=u,ps(this))},s.ga=function(){this.g&&ps(this)};function ps(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Gn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Cn(u){let m="";return gt(u,function(v,E){m+=E,m+=":",m+=v,m+=`\r
`}),m}function yr(u,m,v){t:{for(E in v){var E=!1;break t}E=!0}E||(v=Cn(v),typeof u=="string"?v!=null&&Li(v):Gt(u,m,v))}function $t(u){ve.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w($t,ve);var _i=/^https?$/i,Vo=["POST","PUT"];s=$t.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():So.g(),this.g.onreadystatechange=O(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){_r(this,q);return}if(u=v||"",v=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)v.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const q of E.keys())v.set(q,E.get(q));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Vo,m,void 0)>=0)||E||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of v)this.g.setRequestHeader(q,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){_r(this,q)}};function _r(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,ko(u),Pi(u)}function ko(u){u.A||(u.A=!0,xe(u,"complete"),xe(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,xe(this,"complete"),xe(this,"abort"),Pi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pi(this,!0)),$t.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?vr(this):this.Xa())},s.Xa=function(){vr(this)};function vr(u){if(u.h&&typeof c<"u"){if(u.v&&Kn(u)==4)setTimeout(u.Ca.bind(u),0);else if(xe(u,"readystatechange"),Kn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var E;if(E=q===0){let W=String(u.D).match(lu)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),E=!_i.test(W?W.toLowerCase():"")}v=E}if(v)xe(u,"complete"),xe(u,"success");else{u.o=6;try{var L=Kn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",ko(u)}}finally{Pi(u)}}}}function Pi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||xe(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Kn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Lh(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function zi(u){const m={};u=(u.g&&Kn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(S(u[E]))continue;var v=ru(u[E]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}Ct(m,function(E){return E.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ys(u){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,u),this.Za=vi("retryDelaySeedMs",1e4,u),this.Ta=vi("forwardChannelMaxRetries",2,u),this.va=vi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new bo(u&&u.concurrentRequestLimit),this.Ba=new gs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ys.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,E){Te(0),this.W=u,this.H=m||{},v&&E!==void 0&&(this.H.OSID=v,this.H.OAID=E),this.F=this.X,this.J=vu(this,null,this.W),Ti(this)};function Uo(u){if(ha(u),u.I==3){var m=u.V++,v=Se(u.J);if(Gt(v,"SID",u.M),Gt(v,"RID",m),Gt(v,"TYPE","terminate"),Tr(u,v),m=new qn(u,u.j,m),m.M=2,m.A=mr(Se(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),hi(m)}_u(u)}function _s(u){u.g&&(Po(u),u.g.cancel(),u.g=null)}function ha(u){_s(u),u.v&&(d.clearTimeout(u.v),u.v=null),da(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ti(u){if(!wo(u.h)&&!u.m){u.m=!0;var m=u.Ea;ae||b(),Lt||(ae(),Lt=!0),C.add(m,u),u.D=0}}function fa(u,m){return mi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=li(y(u.Ea,u,m),yu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new qn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=x(q),et(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var E=this.i[v];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break e}E=void 0}if(E===void 0)break;if(m+=E,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=du(this,L,m),v=Se(this.J),Gt(v,"RID",u),Gt(v,"CVER",22),this.G&&Gt(v,"X-HTTP-Session-Id",this.G),Tr(this,v),q&&(this.R?m="headers="+Li(Cn(q))+"&"+m:this.u&&yr(v,this.u,q)),Ro(this.h,L),this.Ra&&Gt(v,"TYPE","init"),this.S?(Gt(v,"$req",m),Gt(v,"SID","null"),L.U=!0,ci(L,v,null)):ci(L,v,m),this.I=2}}else this.I==3&&(u?Lo(this,u):this.i.length==0||wo(this.h)||Lo(this))};function Lo(u,m){var v;m?v=m.l:v=u.V++;const E=Se(u.J);Gt(E,"SID",u.M),Gt(E,"RID",v),Gt(E,"AID",u.K),Tr(u,E),u.u&&u.o&&yr(E,u.u,u.o),v=new qn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=du(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ro(u.h,v),ci(v,E,m)}function Tr(u,m){u.H&&gt(u.H,function(v,E){Gt(m,E,v)}),u.l&&gt({},function(v,E){Gt(m,E,v)})}function du(u,m,v){v=Math.min(u.i.length,v);const E=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let wt=-1;for(;;){const ge=["count="+v];wt==-1?v>0?(wt=L[0].g,ge.push("ofs="+wt)):wt=0:ge.push("ofs="+wt);let qt=!0;for(let le=0;le<v;le++){var q=L[le].g;const Nn=L[le].map;if(q-=wt,q<0)wt=Math.max(0,L[le].g-100),qt=!1;else try{q="req"+q+"_"||"";try{var W=Nn instanceof Map?Nn:Object.entries(Nn);for(const[Ai,Yn]of W){let Qn=Yn;g(Yn)&&(Qn=cs(Yn)),ge.push(q+Ai+"="+encodeURIComponent(Qn))}}catch(Ai){throw ge.push(q+"type="+encodeURIComponent("_badmap")),Ai}}catch{E&&E(Nn)}}if(qt){W=ge.join("&");break t}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ae||b(),Lt||(ae(),Lt=!0),C.add(m,u),u.A=0}}function Er(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=li(y(u.Da,u),yu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=li(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),_s(this),gu(this))};function Po(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function gu(u){u.g=new qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Se(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),Tr(u,m),u.u&&u.o&&yr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=mr(Se(m)),v.u=null,v.R=!0,sa(v,u)}s.Va=function(){this.C!=null&&(this.C=null,_s(this),Er(this),Te(19))};function da(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function pu(u,m){var v=null;if(u.g==m){da(u),Po(u),u.g=null;var E=2}else if(gi(u.h,m))v=m.G,Io(u.h,m),E=1;else return;if(u.I!=0){if(m.o)if(E==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;E=ia(),xe(E,new oi(E,v)),Ti(u)}else mu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(E==1&&fa(u,m)||E==2&&Er(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function yu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),E=u.Ua;const L=!E;E=new gn(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Le(E,"https"),mr(E),L?Fn(E.toString(),v):Mo(E.toString(),v)}else Te(2);u.I=0,u.l&&u.l.pa(m),_u(u),ha(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const m=Co(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function vu(u,m,v){var E=v instanceof gn?Se(v):new gn(v);if(E.g!="")m&&(E.g=m+"."+E.g),hs(E,E.u);else{var L=d.location;E=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new gn(null);E&&Le(q,E),m&&(q.g=m),L&&hs(q,L),v&&(q.h=v),E=q}return v=u.G,m=u.wa,v&&m&&Gt(E,v,m),Gt(E,"VER",u.ka),Tr(u,E),E}function Tu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $t(new yi({ab:v})):new $t(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}s=Eu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function vs(){}vs.prototype.g=function(u,m){return new en(u,m)};function en(u,m){ve.call(this),this.g=new ys(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!S(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!S(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ji(this)}w(en,ve),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Uo(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=cs(u),u=v);m.i.push(new Ae(m.Ya++,u)),m.I==3&&Ti(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,en.Z.N.call(this)};function Au(u){je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Au,je);function Su(){wn.call(this),this.status=1}w(Su,wn);function ji(u){this.g=u}w(ji,Eu),ji.prototype.ra=function(){xe(this.g,"a")},ji.prototype.qa=function(u){xe(this.g,new Au(u))},ji.prototype.pa=function(u){xe(this.g,new Su)},ji.prototype.oa=function(){xe(this.g,"b")},vs.prototype.createWebChannel=vs.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,YT=function(){return new vs},KT=function(){return ia()},GT=me,fm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,Pc=fr,Ao.COMPLETE="complete",FT=Ao,eu.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",ve.prototype.listen=ve.prototype.J,bl=eu,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,HT=$t}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let fo="12.8.0";function cI(s){fo=s}const Kr=new mh("@firebase/firestore");function Fa(){return Kr.logLevel}function rt(s,...t){if(Kr.logLevel<=Mt.DEBUG){const i=t.map(Hm);Kr.debug(`Firestore (${fo}): ${s}`,...i)}}function os(s,...t){if(Kr.logLevel<=Mt.ERROR){const i=t.map(Hm);Kr.error(`Firestore (${fo}): ${s}`,...i)}}function no(s,...t){if(Kr.logLevel<=Mt.WARN){const i=t.map(Hm);Kr.warn(`Firestore (${fo}): ${s}`,...i)}}function Hm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function pt(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,QT(s,r,i)}function QT(s,t,i){let r=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw os(r),new Error(r)}function Ft(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||QT(t,l,r)}function St(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends si{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class XT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class hI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Je.UNAUTHENTICATED)))}shutdown(){}}class fI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class dI{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Hr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Hr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft(typeof r.accessToken=="string",31837,{l:r}),new XT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class mI{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class gI{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new mI(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Vv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pI{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0,3512);const r=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Vv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Vv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function yI(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Fm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=yI(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function Vt(s,t){return s<t?-1:s>t?1:0}function dm(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return Qd(l)===Qd(c)?Vt(l,c):Qd(l)?1:-1}return Vt(s.length,t.length)}const _I=55296,vI=57343;function Qd(s){const t=s.charCodeAt(0);return t>=_I&&t<=vI}function io(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}const kv="__name__";class Ii{constructor(t,i,r){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&pt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Ii.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ii?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=Ii.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Vt(t.length,i.length)}static compareSegments(t,i){const r=Ii.isNumericId(t),l=Ii.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Ii.extractNumericId(t).compare(Ii.extractNumericId(i)):dm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Xs.fromString(t.substring(4,t.length-2))}}class se extends Ii{construct(t,i,r){return new se(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new lt($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new se(i)}static emptyPath(){return new se([])}}const TI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends Ii{construct(t,i,r){return new Ye(t,i,r)}static isValidIdentifier(t){return TI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kv}static keyField(){return new Ye([kv])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new lt($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new lt($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new lt($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new lt($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(i)}static emptyPath(){return new Ye([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(se.fromString(t))}static fromName(t){return new dt(se.fromString(t).popFirst(5))}static empty(){return new dt(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return se.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new se(t.slice()))}}function $T(s,t,i){if(!i)throw new lt($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function EI(s,t,i,r){if(t===!0&&r===!0)throw new lt($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Uv(s){if(!dt.isDocumentKey(s))throw new lt($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Lv(s){if(dt.isDocumentKey(s))throw new lt($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function JT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Gm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":pt(12329,{type:typeof s})}function $s(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new lt($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Gm(s);throw new lt($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ne(s,t){const i={typeString:s};return t&&(i.value=t),i}function Yl(s,t){if(!JT(s))throw new lt($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new lt($.INVALID_ARGUMENT,i);return!0}const Pv=-62135596800,zv=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*zv);return new re(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Pv)throw new lt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zv}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Yl(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Pv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ne("string",re._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new re(0,0))}static max(){return new Et(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ul=-1;function AI(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(r===1e9?new re(i+1,0):new re(i,r));return new Ws(l,dt.empty(),t)}function SI(s){return new Ws(s.readTime,s.key,Ul)}class Ws{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Ws(Et.min(),dt.empty(),Ul)}static max(){return new Ws(Et.max(),dt.empty(),Ul)}}function bI(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(s.documentKey,t.documentKey),i!==0?i:Vt(s.largestBatchId,t.largestBatchId))}const wI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function mo(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==wI)throw s;rt("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,r)=>{i(t)}))}static reject(t){return new X(((i,r)=>{r(t)}))}static waitFor(t){return new X(((i,r)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>r(_)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const r of t)i=i.next((l=>l?X.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new X(((r,l)=>{const c=t.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((A=>{d[y]=A,++g,g===c&&r(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function II(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function go(s){return s.name==="IndexedDbTransactionError"}class _h{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}_h.ce=-1;const Km=-1;function vh(s){return s==null}function Wc(s){return s===0&&1/s==-1/0}function CI(s){return typeof s=="number"&&Number.isInteger(s)&&!Wc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const ZT="";function NI(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=jv(t)),t=DI(s.get(i),t);return jv(t)}function DI(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case ZT:i+="";break;default:i+=c}}return i}function jv(s){return s+ZT+""}function Bv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function rr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function WT(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ce{constructor(t,i){this.comparator=t,this.root=i||Ke.EMPTY}insert(t,i){return new ce(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nc(this.root,t,this.comparator,!0)}}class Nc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??Ke.RED,this.left=l??Ke.EMPTY,this.right=c??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new Ke(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ke.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new Ke(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ke{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new qv(this.data.getIterator())}getIteratorFrom(t){return new qv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new ke(this.comparator);return i.data=t,i}}class qv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new Sn([])}unionWith(t){let i=new ke(Ye.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Sn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return io(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class tE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new tE("Invalid base64 string: "+c):c}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const xI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tr(s){if(Ft(!!s,39018),typeof s=="string"){let t=0;const i=xI.exec(s);if(Ft(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:_e(s.seconds),nanos:_e(s.nanos)}}function _e(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function er(s){return typeof s=="string"?Qe.fromBase64String(s):Qe.fromUint8Array(s)}const eE="server_timestamp",nE="__type__",iE="__previous_value__",sE="__local_write_time__";function Ym(s){return(s?.mapValue?.fields||{})[nE]?.stringValue===eE}function Th(s){const t=s.mapValue.fields[iE];return Ym(t)?Th(t):t}function Ll(s){const t=tr(s.mapValue.fields[sE].timestampValue);return new re(t.seconds,t.nanos)}class OI{constructor(t,i,r,l,c,d,g,_,y,A,w){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A,this.apiKey=w}}const th="(default)";class Pl{constructor(t,i){this.projectId=t,this.database=i||th}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===th}isEqual(t){return t instanceof Pl&&t.projectId===this.projectId&&t.database===this.database}}function MI(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new lt($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(s.options.projectId,t)}const rE="__type__",VI="__max__",Dc={mapValue:{}},aE="__vector__",eh="value";function nr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Ym(s)?4:UI(s)?9007199254740991:kI(s)?10:11:pt(28295,{value:s})}function Vi(s,t){if(s===t)return!0;const i=nr(s);if(i!==nr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ll(s).isEqual(Ll(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=tr(l.timestampValue),g=tr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return er(l.bytesValue).isEqual(er(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return _e(l.geoPointValue.latitude)===_e(c.geoPointValue.latitude)&&_e(l.geoPointValue.longitude)===_e(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return _e(l.integerValue)===_e(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=_e(l.doubleValue),g=_e(c.doubleValue);return d===g?Wc(d)===Wc(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return io(s.arrayValue.values||[],t.arrayValue.values||[],Vi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Bv(d)!==Bv(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Vi(d[_],g[_])))return!1;return!0})(s,t);default:return pt(52216,{left:s})}}function zl(s,t){return(s.values||[]).find((i=>Vi(i,t)))!==void 0}function so(s,t){if(s===t)return 0;const i=nr(s),r=nr(t);if(i!==r)return Vt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=_e(c.integerValue||c.doubleValue),_=_e(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,t);case 3:return Hv(s.timestampValue,t.timestampValue);case 4:return Hv(Ll(s),Ll(t));case 5:return dm(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=er(c),_=er(d);return g.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const A=Vt(g[y],_[y]);if(A!==0)return A}return Vt(g.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Vt(_e(c.latitude),_e(d.latitude));return g!==0?g:Vt(_e(c.longitude),_e(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Fv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[eh]?.arrayValue,A=_[eh]?.arrayValue,w=Vt(y?.values?.length||0,A?.values?.length||0);return w!==0?w:Fv(y,A)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let w=0;w<_.length&&w<A.length;++w){const O=dm(_[w],A[w]);if(O!==0)return O;const K=so(g[_[w]],y[A[w]]);if(K!==0)return K}return Vt(_.length,A.length)})(s.mapValue,t.mapValue);default:throw pt(23264,{he:i})}}function Hv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Vt(s,t);const i=tr(s),r=tr(t),l=Vt(i.seconds,r.seconds);return l!==0?l:Vt(i.nanos,r.nanos)}function Fv(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=so(i[l],r[l]);if(c)return c}return Vt(i.length,r.length)}function ro(s){return mm(s)}function mm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=tr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return er(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return dt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=mm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${mm(i.fields[d])}`;return l+"}"})(s.mapValue):pt(61005,{value:s})}function zc(s){switch(nr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Th(s);return t?16+zc(t):16;case 5:return 2*s.stringValue.length;case 6:return er(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+zc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return rr(r.fields,((c,d)=>{l+=c.length+zc(d)})),l})(s.mapValue);default:throw pt(13486,{value:s})}}function gm(s){return!!s&&"integerValue"in s}function Qm(s){return!!s&&"arrayValue"in s}function Gv(s){return!!s&&"nullValue"in s}function Kv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function jc(s){return!!s&&"mapValue"in s}function kI(s){return(s?.mapValue?.fields||{})[rE]?.stringValue===aE}function Dl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return rr(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Dl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Dl(s.arrayValue.values[i]);return t}return{...s}}function UI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===VI}class dn{constructor(t){this.value=t}static empty(){return new dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!jc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Dl(i)}setAll(t){let i=Ye.emptyPath(),r={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=Dl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Vi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){rr(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new dn(Dl(this.value))}}function oE(s){const t=[];return rr(s.fields,((i,r)=>{const l=new Ye([i]);if(jc(r)){const c=oE(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Sn(t)}class Ze{constructor(t,i,r,l,c,d,g){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Ze(t,0,Et.min(),Et.min(),Et.min(),dn.empty(),0)}static newFoundDocument(t,i,r,l){return new Ze(t,1,i,Et.min(),r,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,Et.min(),Et.min(),dn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,Et.min(),Et.min(),dn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nh{constructor(t,i){this.position=t,this.inclusive=i}}function Yv(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=dt.comparator(dt.fromName(d.referenceValue),i.key):r=so(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Qv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Vi(s.position[i],t.position[i]))return!1;return!0}class ih{constructor(t,i="asc"){this.field=t,this.dir=i}}function LI(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class lE{}class Me extends lE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new zI(t,i,r):i==="array-contains"?new qI(t,r):i==="in"?new HI(t,r):i==="not-in"?new FI(t,r):i==="array-contains-any"?new GI(t,r):new Me(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new jI(t,r):new BI(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(so(i,this.value)):i!==null&&nr(this.value)===nr(i)&&this.matchesComparison(so(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ki extends lE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ki(t,i)}matches(t){return uE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uE(s){return s.op==="and"}function cE(s){return PI(s)&&uE(s)}function PI(s){for(const t of s.filters)if(t instanceof ki)return!1;return!0}function pm(s){if(s instanceof Me)return s.field.canonicalString()+s.op.toString()+ro(s.value);if(cE(s))return s.filters.map((t=>pm(t))).join(",");{const t=s.filters.map((i=>pm(i))).join(",");return`${s.op}(${t})`}}function hE(s,t){return s instanceof Me?(function(r,l){return l instanceof Me&&r.op===l.op&&r.field.isEqual(l.field)&&Vi(r.value,l.value)})(s,t):s instanceof ki?(function(r,l){return l instanceof ki&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,g)=>c&&hE(d,l.filters[g])),!0):!1})(s,t):void pt(19439)}function fE(s){return s instanceof Me?(function(i){return`${i.field.canonicalString()} ${i.op} ${ro(i.value)}`})(s):s instanceof ki?(function(i){return i.op.toString()+" {"+i.getFilters().map(fE).join(" ,")+"}"})(s):"Filter"}class zI extends Me{constructor(t,i,r){super(t,i,r),this.key=dt.fromName(r.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class jI extends Me{constructor(t,i){super(t,"in",i),this.keys=dE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class BI extends Me{constructor(t,i){super(t,"not-in",i),this.keys=dE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function dE(s,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class qI extends Me{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Qm(i)&&zl(i.arrayValue,this.value)}}class HI extends Me{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&zl(this.value.arrayValue,i)}}class FI extends Me{constructor(t,i){super(t,"not-in",i)}matches(t){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!zl(this.value.arrayValue,i)}}class GI extends Me{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Qm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>zl(this.value.arrayValue,r)))}}class KI{constructor(t,i=null,r=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Xv(s,t=null,i=[],r=[],l=null,c=null,d=null){return new KI(s,t,i,r,l,c,d)}function Xm(s){const t=St(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>pm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),vh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>ro(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>ro(r))).join(",")),t.Te=i}return t.Te}function $m(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!LI(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!hE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Qv(s.startAt,t.startAt)&&Qv(s.endAt,t.endAt)}function ym(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Eh{constructor(t,i=null,r=[],l=[],c=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function YI(s,t,i,r,l,c,d,g){return new Eh(s,t,i,r,l,c,d,g)}function Jm(s){return new Eh(s)}function $v(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function QI(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function XI(s){return s.collectionGroup!==null}function xl(s){const t=St(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new ke(Ye.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new ih(c,r))})),i.has(Ye.keyField().canonicalString())||t.Ie.push(new ih(Ye.keyField(),r))}return t.Ie}function Ni(s){const t=St(s);return t.Ee||(t.Ee=$I(t,xl(s))),t.Ee}function $I(s,t){if(s.limitType==="F")return Xv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ih(l.field,c)}));const i=s.endAt?new nh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new nh(s.startAt.position,s.startAt.inclusive):null;return Xv(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function _m(s,t,i){return new Eh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Ah(s,t){return $m(Ni(s),Ni(t))&&s.limitType===t.limitType}function mE(s){return`${Xm(Ni(s))}|lt:${s.limitType}`}function Ga(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>fE(l))).join(", ")}]`),vh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>ro(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>ro(l))).join(",")),`Target(${r})`})(Ni(s))}; limitType=${s.limitType})`}function Sh(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):dt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of xl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,g,_){const y=Yv(d,g,_);return d.inclusive?y<=0:y<0})(r.startAt,xl(r),l)||r.endAt&&!(function(d,g,_){const y=Yv(d,g,_);return d.inclusive?y>=0:y>0})(r.endAt,xl(r),l))})(s,t)}function JI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function gE(s){return(t,i)=>{let r=!1;for(const l of xl(s)){const c=ZI(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function ZI(s,t,i){const r=s.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?so(_,y):pt(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return pt(19790,{direction:s.dir})}}class Zr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){rr(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return WT(this.inner)}size(){return this.innerSize}}const WI=new ce(dt.comparator);function ls(){return WI}const pE=new ce(dt.comparator);function wl(...s){let t=pE;for(const i of s)t=t.insert(i.key,i);return t}function yE(s){let t=pE;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function jr(){return Ol()}function _E(){return Ol()}function Ol(){return new Zr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const t2=new ce(dt.comparator),e2=new ke(dt.comparator);function kt(...s){let t=e2;for(const i of s)t=t.add(i);return t}const n2=new ke(Vt);function i2(){return n2}function Zm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(t)?"-0":t}}function vE(s){return{integerValue:""+s}}function s2(s,t){return CI(t)?vE(t):Zm(s,t)}class bh{constructor(){this._=void 0}}function r2(s,t,i){return s instanceof sh?(function(l,c){const d={fields:{[nE]:{stringValue:eE},[sE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Ym(c)&&(c=Th(c)),c&&(d.fields[iE]=c),{mapValue:d}})(i,t):s instanceof jl?EE(s,t):s instanceof Bl?AE(s,t):(function(l,c){const d=TE(l,c),g=Jv(d)+Jv(l.Ae);return gm(d)&&gm(l.Ae)?vE(g):Zm(l.serializer,g)})(s,t)}function a2(s,t,i){return s instanceof jl?EE(s,t):s instanceof Bl?AE(s,t):i}function TE(s,t){return s instanceof rh?(function(r){return gm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class sh extends bh{}class jl extends bh{constructor(t){super(),this.elements=t}}function EE(s,t){const i=SE(t);for(const r of s.elements)i.some((l=>Vi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Bl extends bh{constructor(t){super(),this.elements=t}}function AE(s,t){let i=SE(t);for(const r of s.elements)i=i.filter((l=>!Vi(l,r)));return{arrayValue:{values:i}}}class rh extends bh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Jv(s){return _e(s.integerValue||s.doubleValue)}function SE(s){return Qm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function o2(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof jl&&l instanceof jl||r instanceof Bl&&l instanceof Bl?io(r.elements,l.elements,Vi):r instanceof rh&&l instanceof rh?Vi(r.Ae,l.Ae):r instanceof sh&&l instanceof sh})(s.transform,t.transform)}class l2{constructor(t,i){this.version=t,this.transformResults=i}}class ei{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ei}static exists(t){return new ei(void 0,t)}static updateTime(t){return new ei(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class wh{}function bE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Wm(s.key,ei.none()):new Ql(s.key,s.data,ei.none());{const i=s.data,r=dn.empty();let l=new ke(Ye.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new ar(s.key,r,new Sn(l.toArray()),ei.none())}}function u2(s,t,i){s instanceof Ql?(function(l,c,d){const g=l.value.clone(),_=Wv(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof ar?(function(l,c,d){if(!Bc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Wv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(wE(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ml(s,t,i,r){return s instanceof Ql?(function(c,d,g,_){if(!Bc(c.precondition,d))return g;const y=c.value.clone(),A=t0(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,r):s instanceof ar?(function(c,d,g,_){if(!Bc(c.precondition,d))return g;const y=t0(c.fieldTransforms,_,d),A=d.data;return A.setAll(wE(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,t,i,r):(function(c,d,g){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function c2(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=TE(r.transform,l||null);c!=null&&(i===null&&(i=dn.empty()),i.set(r.field,c))}return i||null}function Zv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&io(r,l,((c,d)=>o2(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Ql extends wh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ar extends wh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function wE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function Wv(s,t,i){const r=new Map;Ft(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);r.set(c.field,a2(d,g,i[l]))}return r}function t0(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,r2(c,d,t))}return r}class Wm extends wh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class h2 extends wh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class f2{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&u2(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Ml(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Ml(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=_E();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=bE(d,g);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Et.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),kt())}isEqual(t){return this.batchId===t.batchId&&io(this.mutations,t.mutations,((i,r)=>Zv(i,r)))&&io(this.baseMutations,t.baseMutations,((i,r)=>Zv(i,r)))}}class tg{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Ft(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return t2})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new tg(t,i,r,l)}}class d2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class m2{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ce,zt;function g2(s){switch(s){case $.OK:return pt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return pt(15467,{code:s})}}function RE(s){if(s===void 0)return os("GRPC error has no .code"),$.UNKNOWN;switch(s){case Ce.OK:return $.OK;case Ce.CANCELLED:return $.CANCELLED;case Ce.UNKNOWN:return $.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return $.INTERNAL;case Ce.UNAVAILABLE:return $.UNAVAILABLE;case Ce.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ce.NOT_FOUND:return $.NOT_FOUND;case Ce.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ce.ABORTED:return $.ABORTED;case Ce.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ce.DATA_LOSS:return $.DATA_LOSS;default:return pt(39323,{code:s})}}(zt=Ce||(Ce={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";function p2(){return new TextEncoder}const y2=new Xs([4294967295,4294967295],0);function e0(s){const t=p2().encode(s),i=new qT;return i.update(t),new Uint8Array(i.digest())}function n0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Xs([i,r],0),new Xs([l,c],0)]}class eg{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Rl(`Invalid padding: ${i}`);if(r<0)throw new Rl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Xs.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(Xs.fromNumber(r)));return l.compare(y2)===1&&(l=new Xs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=e0(t),[r,l]=n0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new eg(c,l,i);return r.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=e0(t),[r,l]=n0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rh{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Xl.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Rh(Et.min(),l,new ce(Vt),ls(),kt())}}class Xl{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Xl(r,i,kt(),kt(),kt())}}class qc{constructor(t,i,r,l){this.Se=t,this.removedTargetIds=i,this.key=r,this.De=l}}class IE{constructor(t,i){this.targetId=t,this.Ce=i}}class CE{constructor(t,i,r=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class i0{constructor(){this.ve=0,this.Fe=s0(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),i=kt(),r=kt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:pt(38017,{changeType:c})}})),new Xl(this.Me,this.xe,t,i,r)}Ke(){this.Oe=!1,this.Fe=s0()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class _2{constructor(t){this.Ge=t,this.ze=new Map,this.je=ls(),this.He=xc(),this.Je=xc(),this.Ze=new ce(Vt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(ym(c))if(r===0){const d=new dt(c.path);this.et(i,d,Ze.newNoDocument(d,Et.min()))}else Ft(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=er(r).toUint8Array()}catch(_){if(_ instanceof tE)return no("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new eg(d,l,c)}catch(_){return no(_ instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&ym(g.target)){const _=new dt(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ze.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let r=kt();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Rh(t,i,this.Ze,this.je,r);return this.je=ls(),this.He=xc(),this.Je=xc(),this.Ze=new ce(Vt),l}Ye(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new i0,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new ke(Vt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new ke(Vt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new i0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function xc(){return new ce(dt.comparator)}function s0(){return new ce(dt.comparator)}const v2={asc:"ASCENDING",desc:"DESCENDING"},T2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},E2={and:"AND",or:"OR"};class A2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function vm(s,t){return s.useProto3Json||vh(t)?t:{value:t}}function ah(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function NE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function S2(s,t){return ah(s,t.toTimestamp())}function Di(s){return Ft(!!s,49232),Et.fromTimestamp((function(i){const r=tr(i);return new re(r.seconds,r.nanos)})(s))}function ng(s,t){return Tm(s,t).canonicalString()}function Tm(s,t){const i=(function(l){return new se(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function DE(s){const t=se.fromString(s);return Ft(kE(t),10190,{key:t.toString()}),t}function Em(s,t){return ng(s.databaseId,t.path)}function Xd(s,t){const i=DE(t);if(i.get(1)!==s.databaseId.projectId)throw new lt($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new lt($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new dt(OE(i))}function xE(s,t){return ng(s.databaseId,t)}function b2(s){const t=DE(s);return t.length===4?se.emptyPath():OE(t)}function Am(s){return new se(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function OE(s){return Ft(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function r0(s,t,i){return{name:Em(s,t),fields:i.value.mapValue.fields}}function w2(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:pt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Ft(A===void 0||typeof A=="string",58123),Qe.fromBase64String(A||"")):(Ft(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Qe.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const A=y.code===void 0?$.UNKNOWN:RE(y.code);return new lt(A,y.message||"")})(d);i=new CE(r,l,c,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Xd(s,r.document.name),c=Di(r.document.updateTime),d=r.document.createTime?Di(r.document.createTime):Et.min(),g=new dn({mapValue:{fields:r.document.fields}}),_=Ze.newFoundDocument(l,c,d,g),y=r.targetIds||[],A=r.removedTargetIds||[];i=new qc(y,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Xd(s,r.document),c=r.readTime?Di(r.readTime):Et.min(),d=Ze.newNoDocument(l,c),g=r.removedTargetIds||[];i=new qc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Xd(s,r.document),c=r.removedTargetIds||[];i=new qc([],c,l,null)}else{if(!("filter"in t))return pt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new m2(l,c),g=r.targetId;i=new IE(g,d)}}return i}function R2(s,t){let i;if(t instanceof Ql)i={update:r0(s,t.key,t.value)};else if(t instanceof Wm)i={delete:Em(s,t.key)};else if(t instanceof ar)i={update:r0(s,t.key,t.data),updateMask:k2(t.fieldMask)};else{if(!(t instanceof h2))return pt(16599,{dt:t.type});i={verify:Em(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof sh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof jl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Bl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof rh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw pt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:S2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(s,t.precondition)),i}function I2(s,t){return s&&s.length>0?(Ft(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Di(l.updateTime):Di(c);return d.isEqual(Et.min())&&(d=Di(c)),new l2(d,l.transformResults||[])})(i,t)))):[]}function C2(s,t){return{documents:[xE(s,t.path)]}}function N2(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=xE(s,l);const c=(function(y){if(y.length!==0)return VE(ki.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(O){return{field:Ka(O.field),direction:O2(O.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=vm(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function D2(s){let t=b2(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Ft(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(w){const O=ME(w);return O instanceof ki&&cE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((O=>(function(Z){return new ih(Ya(Z.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(O)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let O;return O=typeof w=="object"?w.value:w,vh(O)?null:O})(i.limit));let _=null;i.startAt&&(_=(function(w){const O=!!w.before,K=w.values||[];return new nh(K,O)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const O=!w.before,K=w.values||[];return new nh(K,O)})(i.endAt)),YI(t,l,d,c,g,"F",_,y)}function x2(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function ME(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ya(i.unaryFilter.field);return Me.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ya(i.unaryFilter.field);return Me.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ya(i.unaryFilter.field);return Me.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ya(i.unaryFilter.field);return Me.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Me.create(Ya(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ki.create(i.compositeFilter.filters.map((r=>ME(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(s):pt(30097,{filter:s})}function O2(s){return v2[s]}function M2(s){return T2[s]}function V2(s){return E2[s]}function Ka(s){return{fieldPath:s.canonicalString()}}function Ya(s){return Ye.fromServerFormat(s.fieldPath)}function VE(s){return s instanceof Me?(function(i){if(i.op==="=="){if(Kv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NAN"}};if(Gv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Kv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NOT_NAN"}};if(Gv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(i.field),op:M2(i.op),value:i.value}}})(s):s instanceof ki?(function(i){const r=i.getFilters().map((l=>VE(l)));return r.length===1?r[0]:{compositeFilter:{op:V2(i.op),filters:r}}})(s):pt(54877,{filter:s})}function k2(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function kE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function UE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Ks{constructor(t,i,r,l,c=Et.min(),d=Et.min(),g=Qe.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new Ks(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class U2{constructor(t){this.yt=t}}function L2(s){const t=D2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?_m(t,t.limit,"L"):t}class P2{constructor(){this.Sn=new z2}addToCollectionParentIndex(t,i){return this.Sn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Ws.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Ws.min())}updateCollectionGroup(t,i,r){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class z2{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new ke(se.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new ke(se.comparator)).toArray()}}const a0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LE=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(LE,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class ao{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new ao(0)}static ar(){return new ao(-1)}}const o0="LruGarbageCollector",j2=1048576;function l0([s,t],[i,r]){const l=Vt(s,i);return l===0?Vt(t,r):l}class B2{constructor(t){this.Pr=t,this.buffer=new ke(l0),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();l0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class q2{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){rt(o0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){go(i)?rt(o0,"Ignoring IndexedDB error during garbage collection: ",i):await mo(i)}await this.Ar(3e5)}))}}class H2{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(_h.ce);const r=new B2(i);return this.Vr.forEachTarget(t,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.Vr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(a0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),a0):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let r,l,c,d,g,_,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l)))).next((w=>(r=w,g=Date.now(),this.removeTargets(t,r,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((w=>(y=Date.now(),Fa()<=Mt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${w} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function F2(s,t){return new H2(s,t)}class G2{constructor(){this.changes=new Zr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?X.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class K2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Y2{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Ml(r.mutation,l,Sn.empty(),re.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,kt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=kt()){const l=jr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=wl();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=jr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,kt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,r,l){let c=ls();const d=Ol(),g=(function(){return Ol()})();return i.forEach(((_,y)=>{const A=r.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof ar)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Ml(A.mutation,y,A.mutation.getFieldMask(),re.now())):d.set(y.key,Sn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>g.set(y,new K2(A,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const r=Ol();let l=new ce(((d,g)=>d-g)),c=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=r.get(_)||Sn.empty();A=g.applyToLocalView(y,A),r.set(_,A);const w=(l.get(g.batchId)||kt()).add(_);l=l.insert(g.batchId,w)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,A=_.value,w=_E();A.forEach((O=>{if(!c.has(O)){const K=bE(i.get(O),r.get(O));K!==null&&w.set(O,K),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,w))}return X.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return QI(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):XI(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):X.resolve(jr());let g=Ul,_=c;return d.next((y=>X.forEach(y,((A,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((O=>{_=_.insert(A,O)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,kt()))).next((A=>({batchId:g,changes:yE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((r=>{let l=wl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=wl();return this.indexManager.getCollectionParents(t,c).next((g=>X.forEach(g,(_=>{const y=(function(w,O){return new Eh(O,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,r,l).next((A=>{A.forEach(((w,O)=>{d=d.insert(w,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,Ze.newInvalidDocument(A)))}));let g=wl();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&Ml(A.mutation,y,Sn.empty(),re.now()),Sh(i,y)&&(g=g.insert(_,y))})),g}))}}class Q2{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Di(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:L2(l.bundledQuery),readTime:Di(l.readTime)}})(i)),X.resolve()}}class X2{constructor(){this.overlays=new ce(dt.comparator),this.Lr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const r=jr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.bt(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),X.resolve()}getOverlaysForCollection(t,i,r){const l=jr(),c=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new ce(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let A=c.get(y.largestBatchId);A===null&&(A=jr(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const g=jr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>g.set(y,A))),!(g.size()>=l)););return X.resolve(g)}bt(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new d2(i,r));let c=this.Lr.get(i);c===void 0&&(c=kt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(r.key))}}class $2{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class ig{constructor(){this.kr=new ke(ze.Kr),this.qr=new ke(ze.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const r=new ze(t,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Wr(new ze(t,i))}Qr(t,i){t.forEach((r=>this.removeReference(r,i)))}Gr(t){const i=new dt(new se([])),r=new ze(i,t),l=new ze(i,t+1),c=[];return this.qr.forEachInRange([r,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new dt(new se([])),r=new ze(i,t),l=new ze(i,t+1);let c=kt();return this.qr.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new ze(t,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class ze{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return dt.comparator(t.key,i.key)||Vt(t.Hr,i.Hr)}static Ur(t,i){return Vt(t.Hr,i.Hr)||dt.comparator(t.key,i.key)}}class J2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new ke(ze.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new f2(c,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new ze(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.Xr(r),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Km:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new ze(i,0),l=new ze(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,l],(d=>{const g=this.Zr(d.Hr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new ke(Vt);return i.forEach((l=>{const c=new ze(l,0),d=new ze(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{r=r.add(g.Hr)}))})),X.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;dt.isDocumentKey(c)||(c=c.child(""));const d=new ze(new dt(c),0);let g=new ke(Vt);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Hr)),!0)}),d),X.resolve(this.Yr(g))}Yr(t){const i=[];return t.forEach((r=>{const l=this.Zr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ft(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return X.forEach(i.mutations,(l=>{const c=new ze(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,i){const r=new ze(i,0),l=this.Jr.firstAfterOrEqual(r);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Z2{constructor(t){this.ti=t,this.docs=(function(){return new ce(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return X.resolve(r?r.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let r=ls();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),X.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=ls();const d=i.path,g=new dt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||bI(SI(A),r)<=0||(l.has(A.key)||Sh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,r,l){pt(9500)}ni(t,i){return X.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new W2(this)}getSize(t){return X.resolve(this.size)}}class W2 extends G2{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(r)})),X.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class tC{constructor(t){this.persistence=t,this.ri=new Zr((i=>Xm(i)),$m),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ii=0,this.si=new ig,this.targetCount=0,this.oi=ao._r()}forEachTarget(t,i){return this.ri.forEach(((r,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),X.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new ao(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.lr(i),X.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const r=this.ri.get(i)||null;return X.resolve(r)}addMatchingKeys(t,i,r){return this.si.$r(i,r),X.resolve()}removeMatchingKeys(t,i,r){this.si.Qr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const r=this.si.jr(i);return X.resolve(r)}containsKey(t,i){return X.resolve(this.si.containsKey(i))}}class PE{constructor(t,i){this._i={},this.overlays={},this.ai=new _h(0),this.ui=!1,this.ui=!0,this.ci=new $2,this.referenceDelegate=t(this),this.li=new tC(this),this.indexManager=new P2,this.remoteDocumentCache=(function(l){return new Z2(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new U2(i),this.Pi=new Q2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new X2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this._i[t.toKey()];return r||(r=new J2(i,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,r){rt("MemoryPersistence","Starting transaction:",t);const l=new eC(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return X.or(Object.values(this._i).map((r=>()=>r.containsKey(t,i))))}}class eC extends RI{constructor(t){super(),this.currentSequenceNumber=t}}class sg{constructor(t){this.persistence=t,this.Ri=new ig,this.Ai=null}static Vi(t){return new sg(t)}get di(){if(this.Ai)return this.Ai;throw pt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),X.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(r=>{const l=dt.fromPath(r);return this.mi(t,l).next((c=>{c||i.removeEntry(l,Et.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class oh{constructor(t,i){this.persistence=t,this.fi=new Zr((r=>NI(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=F2(this,i)}static Vi(t,i){return new oh(t,i)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}pr(t){let i=0;return this.mr(t,(r=>{i++})).next((()=>i))}mr(t,i){return X.forEach(this.fi,((r,l)=>this.wr(t,r,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((g=>{g||(r++,c.removeEntry(d,Et.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.fi.set(r,t.currentSequenceNumber),X.resolve()}removeReference(t,i,r){return this.fi.set(r,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=zc(t.data.value)),i}wr(t,i,r){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class rg{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Ts=r,this.Is=l}static Es(t,i){let r=kt(),l=kt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new rg(t,i.fromCache,r,l)}}class nC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class iC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return qb()?8:II(We())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new nC;return this.ys(t,i,d).next((g=>{if(c.result=g,this.As)return this.ws(t,i,d,g.size)}))})).next((()=>c.result))}ws(t,i,r,l){return r.documentReadCount<this.Vs?(Fa()<=Mt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Ga(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Fa()<=Mt.DEBUG&&rt("QueryEngine","Query:",Ga(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(Fa()<=Mt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Ga(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ni(i))):X.resolve())}gs(t,i){if($v(i))return X.resolve(null);let r=Ni(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=_m(i,null,"F"),r=Ni(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=kt(...c);return this.fs.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,r).next((_=>{const y=this.bs(i,g);return this.Ss(i,y,d,_.readTime)?this.gs(t,_m(i,null,"F")):this.Ds(t,y,i,_)}))))})))))}ps(t,i,r,l){return $v(i)||l.isEqual(Et.min())?X.resolve(null):this.fs.getDocuments(t,r).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,r,l)?X.resolve(null):(Fa()<=Mt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ga(i)),this.Ds(t,d,i,AI(l,Ul)).next((g=>g)))}))}bs(t,i){let r=new ke(gE(t));return i.forEach(((l,c)=>{Sh(t,c)&&(r=r.add(c))})),r}Ss(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,r){return Fa()<=Mt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Ga(i)),this.fs.getDocumentsMatchingQuery(t,i,Ws.min(),r)}Ds(t,i,r,l){return this.fs.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ag="LocalStore",sC=3e8;class rC{constructor(t,i,r,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new ce(Vt),this.Fs=new Zr((c=>Xm(c)),$m),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Y2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function aC(s,t,i,r){return new rC(s,t,i,r)}async function zE(s,t){const i=St(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let _=kt();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){g.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function oC(s,t){const i=St(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,A){const w=y.batch,O=w.keys();let K=X.resolve();return O.forEach((Z=>{K=K.next((()=>A.getEntry(_,Z))).next((nt=>{const tt=y.docVersions.get(Z);Ft(tt!==null,48541),nt.version.compareTo(tt)<0&&(w.applyToRemoteDocument(nt,y),nt.isValidDocument()&&(nt.setReadTime(y.commitVersion),A.addEntry(nt)))}))})),K.next((()=>g.mutationQueue.removeMutationBatch(_,w)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let _=kt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function jE(s){const t=St(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function lC(s,t){const i=St(s),r=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const g=[];t.targetChanges.forEach(((A,w)=>{const O=l.get(w);if(!O)return;g.push(i.li.removeMatchingKeys(c,A.removedDocuments,w).next((()=>i.li.addMatchingKeys(c,A.addedDocuments,w))));let K=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?K=K.withResumeToken(Qe.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(A.resumeToken,r)),l=l.insert(w,K),(function(nt,tt,ut){return nt.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=sC?!0:ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0})(O,K,A)&&g.push(i.li.updateTargetData(c,K))}));let _=ls(),y=kt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),g.push(uC(c,d,t.documentUpdates).next((A=>{_=A.Bs,y=A.Ls}))),!r.isEqual(Et.min())){const A=i.li.getLastRemoteSnapshotVersion(c).next((w=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(A)}return X.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=l,c)))}function uC(s,t,i){let r=kt(),l=kt();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=ls();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(Et.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):rt(ag,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function cC(s,t){const i=St(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Km),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function hC(s,t){const i=St(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.li.getTargetData(r,t).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(r).next((d=>(l=new Ks(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(t,r.targetId)),r}))}async function Sm(s,t,i){const r=St(s),l=r.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!go(d))throw d;rt(ag,`Failed to update sequence numbers for target ${t}: ${d}`)}r.vs=r.vs.remove(t),r.Fs.delete(l.target)}function u0(s,t,i){const r=St(s);let l=Et.min(),c=kt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const w=St(_),O=w.Fs.get(A);return O!==void 0?X.resolve(w.vs.get(O)):w.li.getTargetData(y,A)})(r,d,Ni(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,t,i?l:Et.min(),i?c:kt()))).next((g=>(fC(r,JI(t),g),{documents:g,ks:c})))))}function fC(s,t,i){let r=s.Ms.get(t)||Et.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(t,r)}class c0{constructor(){this.activeTargetIds=i2()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class dC{constructor(){this.vo=new c0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,r){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new c0,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class mC{Mo(t){}shutdown(){}}const h0="ConnectivityMonitor";class f0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){rt(h0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){rt(h0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oc=null;function bm(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}const $d="RestConnection",gC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class pC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===th?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(t,i,r,l,c){const d=bm(),g=this.Qo(t,i.toUriEncodedString());rt($d,`Sending RPC '${t}' ${d}:`,g,r);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(g),A=uo(y);return this.zo(t,g,_,r,A).then((w=>(rt($d,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw no($d,`RPC '${t}' ${d} failed with error: `,w,"url: ",g,"request:",r),w}))}jo(t,i,r,l,c,d){return this.Wo(t,i,r,l,c)}Go(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const r=gC[t];let l=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class yC{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const $e="WebChannelConnection",Sl=(s,t,i)=>{s.listen(t,(r=>{try{i(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Ja extends pC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ja.c_){const t=KT();Sl(t,GT.STAT_EVENT,(i=>{i.stat===fm.PROXY?rt($e,"STAT_EVENT: detected buffering proxy"):i.stat===fm.NOPROXY&&rt($e,"STAT_EVENT: detected no buffering proxy")})),Ja.c_=!0}}zo(t,i,r,l,c){const d=bm();return new Promise(((g,_)=>{const y=new HT;y.setWithCredentials(!0),y.listenOnce(FT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Pc.NO_ERROR:const w=y.getResponseJson();rt($e,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),g(w);break;case Pc.TIMEOUT:rt($e,`RPC '${t}' ${d} timed out`),_(new lt($.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const O=y.getStatus();if(rt($e,`RPC '${t}' ${d} failed with status:`,O,"response text:",y.getResponseText()),O>0){let K=y.getResponseJson();Array.isArray(K)&&(K=K[0]);const Z=K?.error;if(Z&&Z.status&&Z.message){const nt=(function(ut){const Tt=ut.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Tt)>=0?Tt:$.UNKNOWN})(Z.status);_(new lt(nt,Z.message))}else _(new lt($.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new lt($.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{rt($e,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);rt($e,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,r,15)}))}T_(t,i,r){const l=bm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const y=c.join("");rt($e,`Creating RPC '${t}' stream ${l}: ${y}`,g);const A=d.createWebChannel(y,g);this.I_(A);let w=!1,O=!1;const K=new yC({Ho:Z=>{O?rt($e,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(w||(rt($e,`Opening RPC '${t}' stream ${l} transport.`),A.open(),w=!0),rt($e,`RPC '${t}' stream ${l} sending:`,Z),A.send(Z))},Jo:()=>A.close()});return Sl(A,bl.EventType.OPEN,(()=>{O||(rt($e,`RPC '${t}' stream ${l} transport opened.`),K.i_())})),Sl(A,bl.EventType.CLOSE,(()=>{O||(O=!0,rt($e,`RPC '${t}' stream ${l} transport closed`),K.o_(),this.E_(A))})),Sl(A,bl.EventType.ERROR,(Z=>{O||(O=!0,no($e,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),K.o_(new lt($.UNAVAILABLE,"The operation could not be completed")))})),Sl(A,bl.EventType.MESSAGE,(Z=>{if(!O){const nt=Z.data[0];Ft(!!nt,16349);const tt=nt,ut=tt?.error||tt[0]?.error;if(ut){rt($e,`RPC '${t}' stream ${l} received error:`,ut);const Tt=ut.status;let _t=(function(Lt){const C=Ce[Lt];if(C!==void 0)return RE(C)})(Tt),Qt=ut.message;_t===void 0&&(_t=$.INTERNAL,Qt="Unknown error status: "+Tt+" with message "+ut.message),O=!0,K.o_(new lt(_t,Qt)),A.close()}else rt($e,`RPC '${t}' stream ${l} received:`,nt),K.__(nt)}})),Ja.u_(),setTimeout((()=>{K.s_()}),0),K}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,r){super.Go(t,i,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return YT()}}function _C(s){return new Ja(s)}function Jd(){return typeof document<"u"?document:null}function Ih(s){return new A2(s,!0)}Ja.c_=!1;class BE{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=r,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const d0="PersistentStream";class qE{constructor(t,i,r,l,c,d,g,_){this.Ci=t,this.b_=r,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new BE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(os(i.toString()),os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new lt($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(d0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(rt(d0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vC extends qE{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=w2(this.serializer,t),r=(function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?Di(d.readTime):Et.min()})(t);return this.listener.J_(i,r)}Z_(t){const i={};i.database=Am(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=ym(_)?{documents:C2(c,_)}:{query:N2(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=NE(c,d.resumeToken);const y=vm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=ah(c,d.snapshotVersion.toTimestamp());const y=vm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const r=x2(this.serializer,t);r&&(i.labels=r),this.K_(i)}X_(t){const i={};i.database=Am(this.serializer),i.removeTarget=t,this.K_(i)}}class TC extends qE{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=I2(t.writeResults,t.commitTime),r=Di(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=Am(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>R2(this.serializer,r)))};this.K_(i)}}class EC{}class AC extends EC{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new lt($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,Tm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt($.UNKNOWN,c.toString())}))}jo(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(t,Tm(i,r),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function SC(s,t,i,r){return new AC(s,t,i,r)}class bC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(os(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Yr="RemoteStore";class wC{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{Wr(this)&&(rt(Yr,"Restarting streams for network reachability change."),await(async function(_){const y=St(_);y.Ea.add(4),await $l(y),y.Va.set("Unknown"),y.Ea.delete(4),await Ch(y)})(this))}))})),this.Va=new bC(r,l)}}async function Ch(s){if(Wr(s))for(const t of s.Ra)await t(!0)}async function $l(s){for(const t of s.Ra)await t(!1)}function HE(s,t){const i=St(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),cg(i)?ug(i):po(i).O_()&&lg(i,t))}function og(s,t){const i=St(s),r=po(i);i.Ia.delete(t),r.O_()&&FE(i,t),i.Ia.size===0&&(r.O_()?r.L_():Wr(i)&&i.Va.set("Unknown"))}function lg(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}po(s).Z_(t)}function FE(s,t){s.da.$e(t),po(s).X_(t)}function ug(s){s.da=new _2({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),po(s).start(),s.Va.ua()}function cg(s){return Wr(s)&&!po(s).x_()&&s.Ia.size>0}function Wr(s){return St(s).Ea.size===0}function GE(s){s.da=void 0}async function RC(s){s.Va.set("Online")}async function IC(s){s.Ia.forEach(((t,i)=>{lg(s,t)}))}async function CC(s,t){GE(s),cg(s)?(s.Va.ha(t),ug(s)):s.Va.set("Unknown")}async function NC(s,t,i){if(s.Va.set("Online"),t instanceof CE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(s,t)}catch(r){rt(Yr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await lh(s,r)}else if(t instanceof qc?s.da.Xe(t):t instanceof IE?s.da.st(t):s.da.tt(t),!i.isEqual(Et.min()))try{const r=await jE(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(Qe.EMPTY_BYTE_STRING,A.snapshotVersion)),FE(c,_);const w=new Ks(A.target,_,y,A.sequenceNumber);lg(c,w)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){rt(Yr,"Failed to raise snapshot:",r),await lh(s,r)}}async function lh(s,t,i){if(!go(t))throw t;s.Ea.add(1),await $l(s),s.Va.set("Offline"),i||(i=()=>jE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{rt(Yr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ch(s)}))}function KE(s,t){return t().catch((i=>lh(s,i,t)))}async function Nh(s){const t=St(s),i=ir(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Km;for(;DC(t);)try{const l=await cC(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,xC(t,l)}catch(l){await lh(t,l)}YE(t)&&QE(t)}function DC(s){return Wr(s)&&s.Ta.length<10}function xC(s,t){s.Ta.push(t);const i=ir(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function YE(s){return Wr(s)&&!ir(s).x_()&&s.Ta.length>0}function QE(s){ir(s).start()}async function OC(s){ir(s).ra()}async function MC(s){const t=ir(s);for(const i of s.Ta)t.ea(i.mutations)}async function VC(s,t,i){const r=s.Ta.shift(),l=tg.from(r,t,i);await KE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Nh(s)}async function kC(s,t){t&&ir(s).Y_&&await(async function(r,l){if((function(d){return g2(d)&&d!==$.ABORTED})(l.code)){const c=r.Ta.shift();ir(r).B_(),await KE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Nh(r)}})(s,t),YE(s)&&QE(s)}async function m0(s,t){const i=St(s);i.asyncQueue.verifyOperationInProgress(),rt(Yr,"RemoteStore received new credentials");const r=Wr(i);i.Ea.add(3),await $l(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ch(i)}async function UC(s,t){const i=St(s);t?(i.Ea.delete(2),await Ch(i)):t||(i.Ea.add(2),await $l(i),i.Va.set("Unknown"))}function po(s){return s.ma||(s.ma=(function(i,r,l){const c=St(i);return c.sa(),new vC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:RC.bind(null,s),Yo:IC.bind(null,s),t_:CC.bind(null,s),J_:NC.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),cg(s)?ug(s):s.Va.set("Unknown")):(await s.ma.stop(),GE(s))}))),s.ma}function ir(s){return s.fa||(s.fa=(function(i,r,l){const c=St(i);return c.sa(),new TC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:OC.bind(null,s),t_:kC.bind(null,s),ta:MC.bind(null,s),na:VC.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await Nh(s)):(await s.fa.stop(),s.Ta.length>0&&(rt(Yr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class hg{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,g=new hg(t,i,d,l,c);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fg(s,t){if(os("AsyncQueue",`${t}: ${s}`),go(s))return new lt($.UNAVAILABLE,`${t}: ${s}`);throw s}class Za{static emptySet(t){return new Za(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||dt.comparator(i.key,r.key):(i,r)=>dt.comparator(i.key,r.key),this.keyedMap=wl(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Za)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Za;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class g0{constructor(){this.ga=new ce(dt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):pt(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class oo{constructor(t,i,r,l,c,d,g,_,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new oo(t,i,Za.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ah(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class LC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class PC{constructor(){this.queries=p0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=St(i),c=l.queries;l.queries=p0(),c.forEach(((d,g)=>{for(const _ of g.ba)_.onError(r)}))})(this,new lt($.ABORTED,"Firestore shutting down"))}}function p0(){return new Zr((s=>mE(s)),Ah)}async function zC(s,t){const i=St(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(r=2):(c=new LC,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=fg(d,`Initialization of query '${Ga(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&dg(i)}async function jC(s,t){const i=St(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function BC(s,t){const i=St(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(l)&&(r=!0);d.wa=l}}r&&dg(i)}function qC(s,t,i){const r=St(s),l=r.queries.get(t);if(l)for(const c of l.ba)c.onError(i);r.queries.delete(t)}function dg(s){s.Ca.forEach((t=>{t.next()}))}var wm,y0;(y0=wm||(wm={})).Ma="default",y0.Cache="cache";class HC{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new oo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=oo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==wm.Cache}}class XE{constructor(t){this.key=t}}class $E{constructor(t){this.key=t}}class FC{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=kt(),this.mutatedKeys=kt(),this.eu=gE(t),this.tu=new Za(this.eu)}get nu(){return this.Za}ru(t,i){const r=i?i.iu:new g0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,w)=>{const O=l.get(A),K=Sh(this.query,w)?w:null,Z=!!O&&this.mutatedKeys.has(O.key),nt=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let tt=!1;O&&K?O.data.isEqual(K.data)?Z!==nt&&(r.track({type:3,doc:K}),tt=!0):this.su(O,K)||(r.track({type:2,doc:K}),tt=!0,(_&&this.eu(K,_)>0||y&&this.eu(K,y)<0)&&(g=!0)):!O&&K?(r.track({type:0,doc:K}),tt=!0):O&&!K&&(r.track({type:1,doc:O}),tt=!0,(_||y)&&(g=!0)),tt&&(K?(d=d.add(K),c=nt?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Ss:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,w)=>(function(K,Z){const nt=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Vt:tt})}};return nt(K)-nt(Z)})(A.type,w.type)||this.eu(A.doc,w.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new oo(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new g0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=kt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return t.forEach((r=>{this.Ya.has(r)||i.push(new $E(r))})),this.Ya.forEach((r=>{t.has(r)||i.push(new XE(r))})),i}cu(t){this.Za=t.ks,this.Ya=kt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const mg="SyncEngine";class GC{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class KC{constructor(t){this.key=t,this.hu=!1}}class YC{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Zr((g=>mE(g)),Ah),this.Iu=new Map,this.Eu=new Set,this.Ru=new ce(dt.comparator),this.Au=new Map,this.Vu=new ig,this.du={},this.mu=new Map,this.fu=ao.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function QC(s,t,i=!0){const r=nA(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await JE(r,t,i,!0),l}async function XC(s,t){const i=nA(s);await JE(i,t,!0,!1)}async function JE(s,t,i,r){const l=await hC(s.localStore,Ni(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await $C(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&HE(s.remoteStore,l),g}async function $C(s,t,i,r,l){s.pu=(w,O,K)=>(async function(nt,tt,ut,Tt){let _t=tt.view.ru(ut);_t.Ss&&(_t=await u0(nt.localStore,tt.query,!1).then((({documents:C})=>tt.view.ru(C,_t))));const Qt=Tt&&Tt.targetChanges.get(tt.targetId),ae=Tt&&Tt.targetMismatches.get(tt.targetId)!=null,Lt=tt.view.applyChanges(_t,nt.isPrimaryClient,Qt,ae);return v0(nt,tt.targetId,Lt.au),Lt.snapshot})(s,w,O,K);const c=await u0(s.localStore,t,!0),d=new FC(t,c.ks),g=d.ru(c.documents),_=Xl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=d.applyChanges(g,s.isPrimaryClient,_);v0(s,i,y.au);const A=new GC(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function JC(s,t,i){const r=St(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Ah(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Sm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&og(r.remoteStore,l.targetId),Rm(r,l.targetId)})).catch(mo)):(Rm(r,l.targetId),await Sm(r.localStore,l.targetId,!0))}async function ZC(s,t){const i=St(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),og(i.remoteStore,r.targetId))}async function WC(s,t,i){const r=aN(s);try{const l=await(function(d,g){const _=St(d),y=re.now(),A=g.reduce(((K,Z)=>K.add(Z.key)),kt());let w,O;return _.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let Z=ls(),nt=kt();return _.xs.getEntries(K,A).next((tt=>{Z=tt,Z.forEach(((ut,Tt)=>{Tt.isValidDocument()||(nt=nt.add(ut))}))})).next((()=>_.localDocuments.getOverlayedDocuments(K,Z))).next((tt=>{w=tt;const ut=[];for(const Tt of g){const _t=c2(Tt,w.get(Tt.key).overlayedDocument);_t!=null&&ut.push(new ar(Tt.key,_t,oE(_t.value.mapValue),ei.exists(!0)))}return _.mutationQueue.addMutationBatch(K,y,ut,g)})).next((tt=>{O=tt;const ut=tt.applyToLocalDocumentSet(w,nt);return _.documentOverlayCache.saveOverlays(K,tt.batchId,ut)}))})).then((()=>({batchId:O.batchId,changes:yE(w)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.du[d.currentUser.toKey()];y||(y=new ce(Vt)),y=y.insert(g,_),d.du[d.currentUser.toKey()]=y})(r,l.batchId,i),await Jl(r,l.changes),await Nh(r.remoteStore)}catch(l){const c=fg(l,"Failed to persist write");i.reject(c)}}async function ZE(s,t){const i=St(s);try{const r=await lC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ft(d.hu,14607):l.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await Jl(i,r,t)}catch(r){await mo(r)}}function _0(s,t,i){const r=St(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=St(d);_.onlineState=g;let y=!1;_.queries.forEach(((A,w)=>{for(const O of w.ba)O.va(g)&&(y=!0)})),y&&dg(_)})(r.eventManager,t),l.length&&r.Pu.J_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function tN(s,t,i){const r=St(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new ce(dt.comparator);d=d.insert(c,Ze.newNoDocument(c,Et.min()));const g=kt().add(c),_=new Rh(Et.min(),new Map,new ce(Vt),d,g);await ZE(r,_),r.Ru=r.Ru.remove(c),r.Au.delete(t),gg(r)}else await Sm(r.localStore,t,!1).then((()=>Rm(r,t,i))).catch(mo)}async function eN(s,t){const i=St(s),r=t.batch.batchId;try{const l=await oC(i.localStore,t);tA(i,r,null),WE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Jl(i,l)}catch(l){await mo(l)}}async function nN(s,t,i){const r=St(s);try{const l=await(function(d,g){const _=St(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,g).next((w=>(Ft(w!==null,37113),A=w.keys(),_.mutationQueue.removeMutationBatch(y,w)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(r.localStore,t);tA(r,t,i),WE(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Jl(r,l)}catch(l){await mo(l)}}function WE(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function tA(s,t,i){const r=St(s);let l=r.du[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.du[r.currentUser.toKey()]=l}}function Rm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((r=>{s.Vu.containsKey(r)||eA(s,r)}))}function eA(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(og(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),gg(s))}function v0(s,t,i){for(const r of i)r instanceof XE?(s.Vu.addReference(r.key,t),iN(s,r)):r instanceof $E?(rt(mg,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,t),s.Vu.containsKey(r.key)||eA(s,r.key)):pt(19791,{wu:r})}function iN(s,t){const i=t.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(rt(mg,"New document in limbo: "+i),s.Eu.add(r),gg(s))}function gg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new dt(se.fromString(t)),r=s.fu.next();s.Au.set(r,new KC(i)),s.Ru=s.Ru.insert(i,r),HE(s.remoteStore,new Ks(Ni(Jm(i.path)),r,"TargetPurposeLimboResolution",_h.ce))}}async function Jl(s,t,i){const r=St(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,_)=>{d.push(r.pu(_,t,i).then((y=>{if((y||i)&&r.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=rg.Es(_.targetId,y);c.push(A)}})))})),await Promise.all(d),r.Pu.J_(l),await(async function(_,y){const A=St(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>X.forEach(y,(O=>X.forEach(O.Ts,(K=>A.persistence.referenceDelegate.addReference(w,O.targetId,K))).next((()=>X.forEach(O.Is,(K=>A.persistence.referenceDelegate.removeReference(w,O.targetId,K)))))))))}catch(w){if(!go(w))throw w;rt(ag,"Failed to update sequence numbers: "+w)}for(const w of y){const O=w.targetId;if(!w.fromCache){const K=A.vs.get(O),Z=K.snapshotVersion,nt=K.withLastLimboFreeSnapshotVersion(Z);A.vs=A.vs.insert(O,nt)}}})(r.localStore,c))}async function sN(s,t){const i=St(s);if(!i.currentUser.isEqual(t)){rt(mg,"User change. New user:",t.toKey());const r=await zE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new lt($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Jl(i,r.Ns)}}function rN(s,t){const i=St(s),r=i.Au.get(t);if(r&&r.hu)return kt().add(r.key);{let l=kt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function nA(s){const t=St(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=ZE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=rN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=tN.bind(null,t),t.Pu.J_=BC.bind(null,t.eventManager),t.Pu.yu=qC.bind(null,t.eventManager),t}function aN(s){const t=St(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=eN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=nN.bind(null,t),t}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ih(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return aC(this.persistence,new iC,t.initialUser,this.serializer)}Cu(t){return new PE(sg.Vi,this.serializer)}Du(t){return new dC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class oN extends uh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ft(this.persistence.referenceDelegate instanceof oh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new q2(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new PE((r=>oh.Vi(r,i)),this.serializer)}}class Im{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=sN.bind(null,this.syncEngine),await UC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new PC})()}createDatastore(t){const i=Ih(t.databaseInfo.databaseId),r=_C(t.databaseInfo);return SC(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,g){return new wC(r,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>_0(this.syncEngine,i,0)),(function(){return f0.v()?new f0:new mC})())}createSyncEngine(t,i){return(function(l,c,d,g,_,y,A){const w=new YC(l,c,d,g,_,y);return A&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=St(i);rt(Yr,"RemoteStore shutting down."),r.Ea.add(5),await $l(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Im.provider={build:()=>new Im};class lN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):os("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const sr="FirestoreClient";class uN{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=l,this.user=Je.UNAUTHENTICATED,this.clientId=Fm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{rt(sr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(rt(sr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=fg(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Zd(s,t){s.asyncQueue.verifyOperationInProgress(),rt(sr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await zE(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function T0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await cN(s);rt(sr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>m0(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>m0(t.remoteStore,l))),s._onlineComponents=t}async function cN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt(sr,"Using user provided OfflineComponentProvider");try{await Zd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;no("Error using user provided cache. Falling back to memory cache: "+i),await Zd(s,new uh)}}else rt(sr,"Using default OfflineComponentProvider"),await Zd(s,new oN(void 0));return s._offlineComponents}async function iA(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt(sr,"Using user provided OnlineComponentProvider"),await T0(s,s._uninitializedComponentsProvider._online)):(rt(sr,"Using default OnlineComponentProvider"),await T0(s,new Im))),s._onlineComponents}function hN(s){return iA(s).then((t=>t.syncEngine))}async function E0(s){const t=await iA(s),i=t.eventManager;return i.onListen=QC.bind(null,t.syncEngine),i.onUnlisten=JC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=XC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=ZC.bind(null,t.syncEngine),i}function fN(s,t,i,r){const l=new lN(r),c=new HC(t,l,i);return s.asyncQueue.enqueueAndForget((async()=>zC(await E0(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>jC(await E0(s),c)))}}function dN(s,t){const i=new Hr;return s.asyncQueue.enqueueAndForget((async()=>WC(await hN(s),t,i))),i.promise}function sA(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const mN="ComponentProvider",A0=new Map;function gN(s,t,i,r,l){return new OI(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,sA(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const rA="firestore.googleapis.com",S0=!0;class b0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rA,this.ssl=S0}else this.host=t.host,this.ssl=t.ssl??S0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=LE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<j2)throw new lt($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}EI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sA(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Dh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new hI;switch(r.type){case"firstParty":return new gI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=A0.get(i);r&&(rt(mN,"Removing Datastore"),A0.delete(i),r.terminate())})(this),Promise.resolve()}}function pN(s,t,i,r={}){s=$s(s,Dh);const l=uo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(tT(`https://${g}`),eT("Firestore",!0)),c.host!==rA&&c.host!==g&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:r};if(!Zs(_,d)&&(s._setSettings(_),r.mockUserToken)){let y,A;if(typeof r.mockUserToken=="string")y=r.mockUserToken,A=Je.MOCK_USER;else{y=Vb(r.mockUserToken,s._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new lt($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Je(w)}s._authCredentials=new fI(new XT(y,A))}}class xh{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new xh(this.firestore,t,this._query)}}class Ve{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Js(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ve(this.firestore,t,this._key)}toJSON(){return{type:Ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Yl(i,Ve._jsonSchema))return new Ve(t,r||null,new dt(se.fromString(i.referencePath)))}}Ve._jsonSchemaVersion="firestore/documentReference/1.0",Ve._jsonSchema={type:Ne("string",Ve._jsonSchemaVersion),referencePath:Ne("string")};class Js extends xh{constructor(t,i,r){super(t,i,Jm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ve(this.firestore,null,new dt(t))}withConverter(t){return new Js(this.firestore,t,this._path)}}function w0(s,t,...i){if(s=De(s),$T("collection","path",t),s instanceof Dh){const r=se.fromString(t,...i);return Lv(r),new Js(s,null,r)}{if(!(s instanceof Ve||s instanceof Js))throw new lt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(se.fromString(t,...i));return Lv(r),new Js(s.firestore,null,r)}}function Hc(s,t,...i){if(s=De(s),arguments.length===1&&(t=Fm.newId()),$T("doc","path",t),s instanceof Dh){const r=se.fromString(t,...i);return Uv(r),new Ve(s,null,new dt(r))}{if(!(s instanceof Ve||s instanceof Js))throw new lt($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(se.fromString(t,...i));return Uv(r),new Ve(s.firestore,s instanceof Js?s.converter:null,new dt(r))}}const R0="AsyncQueue";class I0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new BE(this,"async_queue_retry"),this._c=()=>{const r=Jd();r&&rt(R0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Hr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!go(t))throw t;rt(R0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,os("INTERNAL UNHANDLED ERROR: ",C0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=hg.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&pt(47125,{Pc:C0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function C0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class lo extends Dh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new I0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new I0(t),this._firestoreClient=void 0,await t}}}function yN(s,t){const i=typeof s=="object"?s:Om(),r=typeof s=="string"?s:th,l=Jr(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=Ob("firestore");c&&pN(l,...c)}return l}function aA(s){if(s._terminated)throw new lt($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||_N(s),s._firestoreClient}function _N(s){const t=s._freezeSettings(),i=gN(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new uN(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Pn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Pn(Qe.fromBase64String(t))}catch(i){throw new lt($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Pn(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Yl(t,Pn._jsonSchema))return Pn.fromBase64String(t.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Ne("string",Pn._jsonSchemaVersion),bytes:Ne("string")};class pg{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class yg{constructor(t){this._methodName=t}}class xi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(t){if(Yl(t,xi._jsonSchema))return new xi(t.latitude,t.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:Ne("string",xi._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};class ni{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Yl(t,ni._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ni(t.vectorValues);throw new lt($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:Ne("string",ni._jsonSchemaVersion),vectorValues:Ne("object")};const vN=/^__.*__$/;class TN{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new ar(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ql(t,this.data,i,this.fieldTransforms)}}class oA{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new ar(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function lA(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{dataSource:s})}}class _g{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new _g({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const i=this.path?.child(t),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return ch(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(lA(this.dataSource)&&vN.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class EN{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Ih(t)}createContext(t,i,r,l=!1){return new _g({dataSource:t,methodName:i,targetDoc:r,path:Ye.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uA(s){const t=s._freezeSettings(),i=Ih(s._databaseId);return new EN(s._databaseId,!!t.ignoreUndefinedProperties,i)}function AN(s,t,i,r,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);vg("Data must be an object, but it was:",d,r);const g=cA(r,d);let _,y;if(c.merge)_=new Sn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const w of c.mergeFields){const O=ql(t,w,i);if(!d.contains(O))throw new lt($.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);dA(A,O)||A.push(O)}_=new Sn(A),y=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,y=d.fieldTransforms;return new TN(new dn(g),_,y)}class Oh extends yg{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Oh}}function SN(s,t,i,r){const l=s.createContext(1,t,i);vg("Data must be an object, but it was:",l,r);const c=[],d=dn.empty();rr(r,((_,y)=>{const A=fA(t,_,i);y=De(y);const w=l.childContextForFieldPath(A);if(y instanceof Oh)c.push(A);else{const O=Mh(y,w);O!=null&&(c.push(A),d.set(A,O))}}));const g=new Sn(c);return new oA(d,g,l.fieldTransforms)}function bN(s,t,i,r,l,c){const d=s.createContext(1,t,i),g=[ql(t,r,i)],_=[l];if(c.length%2!=0)throw new lt($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)g.push(ql(t,c[O])),_.push(c[O+1]);const y=[],A=dn.empty();for(let O=g.length-1;O>=0;--O)if(!dA(y,g[O])){const K=g[O];let Z=_[O];Z=De(Z);const nt=d.childContextForFieldPath(K);if(Z instanceof Oh)y.push(K);else{const tt=Mh(Z,nt);tt!=null&&(y.push(K),A.set(K,tt))}}const w=new Sn(y);return new oA(A,w,d.fieldTransforms)}function Mh(s,t){if(hA(s=De(s)))return vg("Unsupported field value:",t,s),cA(s,t);if(s instanceof yg)return(function(r,l){if(!lA(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const g of r){let _=Mh(g,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=De(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return s2(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=re.fromDate(r);return{timestampValue:ah(l.serializer,c)}}if(r instanceof re){const c=new re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ah(l.serializer,c)}}if(r instanceof xi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pn)return{bytesValue:NE(l.serializer,r._byteString)};if(r instanceof Ve){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ng(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof ni)return(function(d,g){const _=d instanceof ni?d.toArray():d;return{mapValue:{fields:{[rE]:{stringValue:aE},[eh]:{arrayValue:{values:_.map((A=>{if(typeof A!="number")throw g.createError("VectorValues must only contain numeric values.");return Zm(g.serializer,A)}))}}}}}})(r,l);if(UE(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Gm(r)}`)})(s,t)}function cA(s,t){const i={};return WT(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rr(s,((r,l)=>{const c=Mh(l,t.childContextForField(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function hA(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof re||s instanceof xi||s instanceof Pn||s instanceof Ve||s instanceof yg||s instanceof ni||UE(s))}function vg(s,t,i){if(!hA(i)||!JT(i)){const r=Gm(i);throw r==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+r)}}function ql(s,t,i){if((t=De(t))instanceof pg)return t._internalPath;if(typeof t=="string")return fA(s,t);throw ch("Field path arguments must be of type string or ",s,!1,void 0,i)}const wN=new RegExp("[~\\*/\\[\\]]");function fA(s,t,i){if(t.search(wN)>=0)throw ch(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new pg(...t.split("."))._internalPath}catch{throw ch(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function ch(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new lt($.INVALID_ARGUMENT,g+s+_)}function dA(s,t){return s.some((i=>i.isEqual(t)))}class RN{convertValue(t,i="none"){switch(nr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(er(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return rr(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[eh].arrayValue?.values?.map((r=>_e(r.doubleValue)));return new ni(i)}convertGeoPoint(t){return new xi(_e(t.latitude),_e(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Th(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Ll(t));default:return null}}convertTimestamp(t){const i=tr(t);return new re(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=se.fromString(t);Ft(kE(r),9688,{name:t});const l=new Pl(r.get(1),r.get(3)),c=new dt(r.popFirst(5));return l.isEqual(i)||os(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class mA extends RN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ve(this.firestore,null,i)}}const N0="@firebase/firestore",D0="4.10.0";function x0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class gA{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new IN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(ql("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class IN extends gA{data(){return super.data()}}function CN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new lt($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function NN(s,t,i){let r;return r=s?s.toFirestore(t):t,r}class Il{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fr extends gA{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(ql("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Fr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Fr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fr._jsonSchema={type:Ne("string",Fr._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class Fc extends Fr{data(t={}){return super.data(t)}}class Wa{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Il(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Fc(this._firestore,this._userDataWriter,r.key,r,new Il(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new Fc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Il(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Fc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Il(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:DN(g.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Wa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Fm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function DN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:s})}}Wa._jsonSchemaVersion="firestore/querySnapshot/1.0",Wa._jsonSchema={type:Ne("string",Wa._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};function O0(s,t,i,...r){s=$s(s,Ve);const l=$s(s.firestore,lo),c=uA(l);let d;return d=typeof(t=De(t))=="string"||t instanceof pg?bN(c,"updateDoc",s._key,t,i,r):SN(c,"updateDoc",s._key,t),Tg(l,[d.toMutation(s._key,ei.exists(!0))])}function xN(s){return Tg($s(s.firestore,lo),[new Wm(s._key,ei.none())])}function ON(s,t){const i=$s(s.firestore,lo),r=Hc(s),l=NN(s.converter,t),c=uA(s.firestore);return Tg(i,[AN(c,"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,ei.exists(!1))]).then((()=>r))}function MN(s,...t){s=De(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||x0(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(x0(t[r])){const y=t[r];t[r]=y.next?.bind(y),t[r+1]=y.error?.bind(y),t[r+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof Ve)d=$s(s.firestore,lo),g=Jm(s._key.path),c={next:y=>{t[r]&&t[r](VN(d,s,y))},error:t[r+1],complete:t[r+2]};else{const y=$s(s,xh);d=$s(y.firestore,lo),g=y._query;const A=new mA(d);c={next:w=>{t[r]&&t[r](new Wa(d,A,y,w))},error:t[r+1],complete:t[r+2]},CN(s._query)}const _=aA(d);return fN(_,g,l,c)}function Tg(s,t){const i=aA(s);return dN(i,t)}function VN(s,t,i){const r=i.docs.get(t._key),l=new mA(s);return new Fr(s,l,t._key,r,new Il(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){cI(co),Oi(new ii("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new lo(new dI(r.getProvider("auth-internal")),new pI(d,r.getProvider("app-check-internal")),MI(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),zn(N0,D0,t),zn(N0,D0,"esm2020")})();const pA=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim();const kN=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const UN=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase());const M0=s=>{const t=UN(s);return t.charAt(0).toUpperCase()+t.slice(1)};var LN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const PN=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const zN=de.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...g},_)=>de.createElement("svg",{ref:_,...LN,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:pA("lucide",l),...!c&&!PN(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,A])=>de.createElement(y,A)),...Array.isArray(c)?c:[c]]));const Ui=(s,t)=>{const i=de.forwardRef(({className:r,...l},c)=>de.createElement(zN,{ref:c,iconNode:t,className:pA(`lucide-${kN(M0(s))}`,`lucide-${s}`,r),...l}));return i.displayName=M0(s),i};const jN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],V0=Ui("arrow-left",jN);const BN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],qN=Ui("calendar",BN);const HN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],k0=Ui("chart-column",HN);const FN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Wd=Ui("circle-alert",FN);const GN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],tm=Ui("circle-check",GN);const KN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],U0=Ui("circle",KN);const YN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],L0=Ui("clock",YN);const QN=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],XN=Ui("layout-dashboard",QN);const $N=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],P0=Ui("plus",$N);const JN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],z0=Ui("trash-2",JN),yA="@firebase/installations",Eg="0.6.19";const _A=1e4,vA=`w:${Eg}`,TA="FIS_v2",ZN="https://firebaseinstallations.googleapis.com/v1",WN=3600*1e3,tD="installations",eD="Installations";const nD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Qr=new $r(tD,eD,nD);function EA(s){return s instanceof si&&s.code.includes("request-failed")}function AA({projectId:s}){return`${ZN}/projects/${s}/installations`}function SA(s){return{token:s.token,requestStatus:2,expiresIn:sD(s.expiresIn),creationTime:Date.now()}}async function bA(s,t){const r=(await t.json()).error;return Qr.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function wA({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function iD(s,{refreshToken:t}){const i=wA(s);return i.append("Authorization",rD(t)),i}async function RA(s){const t=await s();return t.status>=500&&t.status<600?s():t}function sD(s){return Number(s.replace("s","000"))}function rD(s){return`${TA} ${s}`}async function aD({appConfig:s,heartbeatServiceProvider:t},{fid:i}){const r=AA(s),l=wA(s),c=t.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const d={fid:i,authVersion:TA,appId:s.appId,sdkVersion:vA},g={method:"POST",headers:l,body:JSON.stringify(d)},_=await RA(()=>fetch(r,g));if(_.ok){const y=await _.json();return{fid:y.fid||i,registrationStatus:2,refreshToken:y.refreshToken,authToken:SA(y.authToken)}}else throw await bA("Create Installation",_)}function IA(s){return new Promise(t=>{setTimeout(t,s)})}function oD(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const lD=/^[cdef][\w-]{21}$/,Cm="";function uD(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const i=cD(s);return lD.test(i)?i:Cm}catch{return Cm}}function cD(s){return oD(s).substr(0,22)}function Vh(s){return`${s.appName}!${s.appId}`}const CA=new Map;function NA(s,t){const i=Vh(s);DA(i,t),hD(i,t)}function DA(s,t){const i=CA.get(s);if(i)for(const r of i)r(t)}function hD(s,t){const i=fD();i&&i.postMessage({key:s,fid:t}),dD()}let Br=null;function fD(){return!Br&&"BroadcastChannel"in self&&(Br=new BroadcastChannel("[Firebase] FID Change"),Br.onmessage=s=>{DA(s.data.key,s.data.fid)}),Br}function dD(){CA.size===0&&Br&&(Br.close(),Br=null)}const mD="firebase-installations-database",gD=1,Xr="firebase-installations-store";let em=null;function Ag(){return em||(em=oT(mD,gD,{upgrade:(s,t)=>{t===0&&s.createObjectStore(Xr)}})),em}async function hh(s,t){const i=Vh(s),l=(await Ag()).transaction(Xr,"readwrite"),c=l.objectStore(Xr),d=await c.get(i);return await c.put(t,i),await l.done,(!d||d.fid!==t.fid)&&NA(s,t.fid),t}async function xA(s){const t=Vh(s),r=(await Ag()).transaction(Xr,"readwrite");await r.objectStore(Xr).delete(t),await r.done}async function kh(s,t){const i=Vh(s),l=(await Ag()).transaction(Xr,"readwrite"),c=l.objectStore(Xr),d=await c.get(i),g=t(d);return g===void 0?await c.delete(i):await c.put(g,i),await l.done,g&&(!d||d.fid!==g.fid)&&NA(s,g.fid),g}async function Sg(s){let t;const i=await kh(s.appConfig,r=>{const l=pD(r),c=yD(s,l);return t=c.registrationPromise,c.installationEntry});return i.fid===Cm?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function pD(s){const t=s||{fid:uD(),registrationStatus:0};return OA(t)}function yD(s,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(Qr.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=_D(s,i);return{installationEntry:i,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:vD(s)}:{installationEntry:t}}async function _D(s,t){try{const i=await aD(s,t);return hh(s.appConfig,i)}catch(i){throw EA(i)&&i.customData.serverCode===409?await xA(s.appConfig):await hh(s.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function vD(s){let t=await j0(s.appConfig);for(;t.registrationStatus===1;)await IA(100),t=await j0(s.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await Sg(s);return r||i}return t}function j0(s){return kh(s,t=>{if(!t)throw Qr.create("installation-not-found");return OA(t)})}function OA(s){return TD(s)?{fid:s.fid,registrationStatus:0}:s}function TD(s){return s.registrationStatus===1&&s.registrationTime+_A<Date.now()}async function ED({appConfig:s,heartbeatServiceProvider:t},i){const r=AD(s,i),l=iD(s,i),c=t.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const d={installation:{sdkVersion:vA,appId:s.appId}},g={method:"POST",headers:l,body:JSON.stringify(d)},_=await RA(()=>fetch(r,g));if(_.ok){const y=await _.json();return SA(y)}else throw await bA("Generate Auth Token",_)}function AD(s,{fid:t}){return`${AA(s)}/${t}/authTokens:generate`}async function bg(s,t=!1){let i;const r=await kh(s.appConfig,c=>{if(!MA(c))throw Qr.create("not-registered");const d=c.authToken;if(!t&&wD(d))return c;if(d.requestStatus===1)return i=SD(s,t),c;{if(!navigator.onLine)throw Qr.create("app-offline");const g=ID(c);return i=bD(s,g),g}});return i?await i:r.authToken}async function SD(s,t){let i=await B0(s.appConfig);for(;i.authToken.requestStatus===1;)await IA(100),i=await B0(s.appConfig);const r=i.authToken;return r.requestStatus===0?bg(s,t):r}function B0(s){return kh(s,t=>{if(!MA(t))throw Qr.create("not-registered");const i=t.authToken;return CD(i)?{...t,authToken:{requestStatus:0}}:t})}async function bD(s,t){try{const i=await ED(s,t),r={...t,authToken:i};return await hh(s.appConfig,r),i}catch(i){if(EA(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await xA(s.appConfig);else{const r={...t,authToken:{requestStatus:0}};await hh(s.appConfig,r)}throw i}}function MA(s){return s!==void 0&&s.registrationStatus===2}function wD(s){return s.requestStatus===2&&!RD(s)}function RD(s){const t=Date.now();return t<s.creationTime||s.creationTime+s.expiresIn<t+WN}function ID(s){const t={requestStatus:1,requestTime:Date.now()};return{...s,authToken:t}}function CD(s){return s.requestStatus===1&&s.requestTime+_A<Date.now()}async function ND(s){const t=s,{installationEntry:i,registrationPromise:r}=await Sg(t);return r?r.catch(console.error):bg(t).catch(console.error),i.fid}async function DD(s,t=!1){const i=s;return await xD(i),(await bg(i,t)).token}async function xD(s){const{registrationPromise:t}=await Sg(s);t&&await t}function OD(s){if(!s||!s.options)throw nm("App Configuration");if(!s.name)throw nm("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!s.options[i])throw nm(i);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function nm(s){return Qr.create("missing-app-config-values",{valueName:s})}const VA="installations",MD="installations-internal",VD=s=>{const t=s.getProvider("app").getImmediate(),i=OD(t),r=Jr(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},kD=s=>{const t=s.getProvider("app").getImmediate(),i=Jr(t,VA).getImmediate();return{getId:()=>ND(i),getToken:l=>DD(i,l)}};function UD(){Oi(new ii(VA,VD,"PUBLIC")),Oi(new ii(MD,kD,"PRIVATE"))}UD();zn(yA,Eg);zn(yA,Eg,"esm2020");const fh="analytics",LD="firebase_id",PD="origin",zD=60*1e3,jD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wg="https://www.googletagmanager.com/gtag/js";const sn=new mh("@firebase/analytics");const BD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},bn=new $r("analytics","Analytics",BD);function qD(s){if(!s.startsWith(wg)){const t=bn.create("invalid-gtag-resource",{gtagURL:s});return sn.warn(t.message),""}return s}function kA(s){return Promise.all(s.map(t=>t.catch(i=>i)))}function HD(s,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(s,t)),i}function FD(s,t){const i=HD("firebase-js-sdk-policy",{createScriptURL:qD}),r=document.createElement("script"),l=`${wg}?l=${s}&id=${t}`;r.src=i?i?.createScriptURL(l):l,r.async=!0,document.head.appendChild(r)}function GD(s){let t=[];return Array.isArray(window[s])?t=window[s]:window[s]=t,t}async function KD(s,t,i,r,l,c){const d=r[l];try{if(d)await t[d];else{const _=(await kA(i)).find(y=>y.measurementId===l);_&&await t[_.appId]}}catch(g){sn.error(g)}s("config",l,c)}async function YD(s,t,i,r,l){try{let c=[];if(l&&l.send_to){let d=l.send_to;Array.isArray(d)||(d=[d]);const g=await kA(i);for(const _ of d){const y=g.find(w=>w.measurementId===_),A=y&&t[y.appId];if(A)c.push(A);else{c=[];break}}}c.length===0&&(c=Object.values(t)),await Promise.all(c),s("event",r,l||{})}catch(c){sn.error(c)}}function QD(s,t,i,r){async function l(c,...d){try{if(c==="event"){const[g,_]=d;await YD(s,t,i,g,_)}else if(c==="config"){const[g,_]=d;await KD(s,t,i,r,g,_)}else if(c==="consent"){const[g,_]=d;s("consent",g,_)}else if(c==="get"){const[g,_,y]=d;s("get",g,_,y)}else if(c==="set"){const[g]=d;s("set",g)}else s(c,...d)}catch(g){sn.error(g)}}return l}function XD(s,t,i,r,l){let c=function(...d){window[r].push(arguments)};return window[l]&&typeof window[l]=="function"&&(c=window[l]),window[l]=QD(c,s,t,i),{gtagCore:c,wrappedGtag:window[l]}}function $D(s){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(wg)&&i.src.includes(s))return i;return null}const JD=30,ZD=1e3;class WD{constructor(t={},i=ZD){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const UA=new WD;function tx(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function ex(s){const{appId:t,apiKey:i}=s,r={method:"GET",headers:tx(i)},l=jD.replace("{app-id}",t),c=await fetch(l,r);if(c.status!==200&&c.status!==304){let d="";try{const g=await c.json();g.error?.message&&(d=g.error.message)}catch{}throw bn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()}async function nx(s,t=UA,i){const{appId:r,apiKey:l,measurementId:c}=s.options;if(!r)throw bn.create("no-app-id");if(!l){if(c)return{measurementId:c,appId:r};throw bn.create("no-api-key")}const d=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new rx;return setTimeout(async()=>{g.abort()},zD),LA({appId:r,apiKey:l,measurementId:c},d,g,t)}async function LA(s,{throttleEndTimeMillis:t,backoffCount:i},r,l=UA){const{appId:c,measurementId:d}=s;try{await ix(r,t)}catch(g){if(d)return sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:c,measurementId:d};throw g}try{const g=await ex(s);return l.deleteThrottleMetadata(c),g}catch(g){const _=g;if(!sx(_)){if(l.deleteThrottleMetadata(c),d)return sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:c,measurementId:d};throw g}const y=Number(_?.customData?.httpStatus)===503?ov(i,l.intervalMillis,JD):ov(i,l.intervalMillis),A={throttleEndTimeMillis:Date.now()+y,backoffCount:i+1};return l.setThrottleMetadata(c,A),sn.debug(`Calling attemptFetch again in ${y} millis`),LA(s,A,r,l)}}function ix(s,t){return new Promise((i,r)=>{const l=Math.max(t-Date.now(),0),c=setTimeout(i,l);s.addEventListener(()=>{clearTimeout(c),r(bn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function sx(s){if(!(s instanceof si)||!s.customData)return!1;const t=Number(s.customData.httpStatus);return t===429||t===500||t===503||t===504}class rx{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function ax(s,t,i,r,l){if(l&&l.global){s("event",i,r);return}else{const c=await t,d={...r,send_to:c};s("event",i,d)}}async function ox(s,t,i,r){if(r&&r.global){const l={};for(const c of Object.keys(i))l[`user_properties.${c}`]=i[c];return s("set",l),Promise.resolve()}else{const l=await t;s("config",l,{update:!0,user_properties:i})}}async function lx(){if(iT())try{await sT()}catch(s){return sn.warn(bn.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return sn.warn(bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ux(s,t,i,r,l,c,d){const g=nx(s);g.then(O=>{i[O.measurementId]=O.appId,s.options.measurementId&&O.measurementId!==s.options.measurementId&&sn.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${O.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(O=>sn.error(O)),t.push(g);const _=lx().then(O=>{if(O)return r.getId()}),[y,A]=await Promise.all([g,_]);$D(c)||FD(c,y.measurementId),l("js",new Date);const w=d?.config??{};return w[PD]="firebase",w.update=!0,A!=null&&(w[LD]=A),l("config",y.measurementId,w),y.measurementId}class cx{constructor(t){this.app=t}_delete(){return delete to[this.app.options.appId],Promise.resolve()}}let to={},q0=[];const H0={};let im="dataLayer",hx="gtag",F0,Rg,G0=!1;function fx(){const s=[];if(nT()&&s.push("This is a browser extension environment."),Hb()||s.push("Cookies are not available."),s.length>0){const t=s.map((r,l)=>`(${l+1}) ${r}`).join(" "),i=bn.create("invalid-analytics-context",{errorInfo:t});sn.warn(i.message)}}function dx(s,t,i){fx();const r=s.options.appId;if(!r)throw bn.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw bn.create("no-api-key");if(to[r]!=null)throw bn.create("already-exists",{id:r});if(!G0){GD(im);const{wrappedGtag:c,gtagCore:d}=XD(to,q0,H0,im,hx);Rg=c,F0=d,G0=!0}return to[r]=ux(s,q0,H0,t,F0,im,i),new cx(s)}function mx(s=Om()){s=De(s);const t=Jr(s,fh);return t.isInitialized()?t.getImmediate():gx(s)}function gx(s,t={}){const i=Jr(s,fh);if(i.isInitialized()){const l=i.getImmediate();if(Zs(t,i.getOptions()))return l;throw bn.create("already-initialized")}return i.initialize({options:t})}function px(s,t,i){s=De(s),ox(Rg,to[s.app.options.appId],t,i).catch(r=>sn.error(r))}function yx(s,t,i,r){s=De(s),ax(Rg,to[s.app.options.appId],t,i,r).catch(l=>sn.error(l))}const K0="@firebase/analytics",Y0="0.10.19";function _x(){Oi(new ii(fh,(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("installations-internal").getImmediate();return dx(r,l,i)},"PUBLIC")),Oi(new ii("analytics-internal",s,"PRIVATE")),zn(K0,Y0),zn(K0,Y0,"esm2020");function s(t){try{const i=t.getProvider(fh).getImmediate();return{logEvent:(r,l,c)=>yx(i,r,l,c),setUserProperties:(r,l)=>px(i,r,l)}}catch(i){throw bn.create("interop-component-reg-failed",{reason:i})}}}_x();const vx={apiKey:"AIzaSyCkk6D059BzdgMx2jrj4V_3wh99G2ZftOs",authDomain:"weekly-planner-14c2f.firebaseapp.com",projectId:"weekly-planner-14c2f",storageBucket:"weekly-planner-14c2f.firebasestorage.app",messagingSenderId:"352709111793",appId:"1:352709111793:web:8096a115ea9d4de681de50",measurementId:"G-1DEMC1ZHV4"},Ig=lT(vx),Nm=lI(Ig);Xw(Nm,OT);mx(Ig);const Mc=yN(Ig),te={NOT_YET:"not_yet",PENDING:"pending",FINISHED:"finished"},Tx={[te.NOT_YET]:"Not Yet Started",[te.PENDING]:"Pending",[te.FINISHED]:"Finished"},Ex={[te.NOT_YET]:"bg-slate-100 text-slate-600 border-slate-200",[te.PENDING]:"bg-amber-50 text-amber-700 border-amber-200",[te.FINISHED]:"bg-emerald-50 text-emerald-700 border-emerald-200"},Ax=({percentage:s})=>k.jsxs("div",{className:"w-full",children:[k.jsxs("div",{className:"flex justify-between items-center mb-1",children:[k.jsx("span",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Execution Progress"}),k.jsxs("span",{className:"text-xs font-bold text-slate-900",children:[Math.round(s),"%"]})]}),k.jsx("div",{className:"w-full bg-slate-100 rounded-full h-1.5 overflow-hidden",children:k.jsx("div",{className:"bg-indigo-600 h-full transition-all duration-500 ease-out",style:{width:`${s}%`}})})]}),Sx=()=>{const[s,t]=de.useState(null),[i,r]=de.useState([]),[l,c]=de.useState(!0),[d,g]=de.useState(!1),[_,y]=de.useState(null),[A,w]=de.useState(!1),[O,K]=de.useState(!1),[Z,nt]=de.useState({}),[tt,ut]=de.useState("list"),[Tt,_t]=de.useState(null),Qt=async()=>{const S=new ns;try{const ht=await yR(Nm,S);console.log("Popup login user:",ht.user)}catch(ht){console.error("Login Error",ht),y("Failed to sign in with Google.")}};de.useEffect(()=>{const S=Zw(Nm,ht=>{console.log("Auth State Changed. User:",ht||"None"),t(ht),c(!1)});return()=>S()},[]),de.useEffect(()=>{if(!s)return;g(!0);const S=w0(Mc,"users",s.uid,"plans"),ht=MN(S,Pt=>{const J=Pt.docs.map(it=>({id:it.id,...it.data()})).sort((it,gt)=>new Date(gt.startDate)-new Date(it.startDate));r(J),g(!1)},Pt=>{console.error("Firestore Error",Pt),y("Connection error. Please try again later."),g(!1)});return()=>ht()},[s]);const ae=async S=>{if(s){w(!0);try{const ht=w0(Mc,"users",s.uid,"plans");Tt&&tt==="edit"?await O0(Hc(ht,Tt),S):await ON(ht,{...S,ownerId:s.uid,createdAt:new Date().toISOString()}),ut("list"),_t(null)}catch{y("Failed to save plan.")}finally{w(!1)}}},Lt=async S=>{if(!(!s||!window.confirm("Delete this weekly plan?"))){K(!0);try{const ht=Hc(Mc,"users",s.uid,"plans",S);await xN(ht),Tt===S&&(ut("list"),_t(null))}catch{y("Failed to delete plan.")}finally{K(!1)}}},C=async(S,ht,Pt)=>{if(!s)return;const P=i.find(gt=>gt.id===S);if(!P)return;const J=`${S}-${ht}`;nt(gt=>({...gt,[J]:!0}));const it=[...P.actions];it[ht].status=Pt;try{const gt=Hc(Mc,"users",s.uid,"plans",S);await O0(gt,{actions:it})}catch(gt){console.error("Update Error:",gt),y("Failed to update status.")}finally{nt(gt=>({...gt,[J]:!1}))}},b=(S,ht)=>{const P=i.find(it=>it.id===S).actions[ht].status;let J;P===te.NOT_YET?J=te.PENDING:P===te.PENDING?J=te.FINISHED:J=te.NOT_YET,C(S,ht,J)},R=i.find(S=>S.id===Tt),M=()=>k.jsxs("div",{className:"space-y-6",children:[k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsxs("div",{children:[k.jsx("h1",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"Weekly Overview"}),k.jsx("p",{className:"text-sm text-slate-500",children:"Track high-level productivity across weeks."})]}),k.jsxs("button",{onClick:()=>ut("create"),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors shadow-sm text-sm font-semibold",children:[k.jsx(P0,{size:18}),k.jsx("span",{className:"hidden md:block",children:"Create New Plan"})]})]}),i.length===0?k.jsxs("div",{className:"bg-white border-2 border-dashed border-slate-200 rounded-xl p-12 text-center",children:[k.jsx(qN,{className:"mx-auto text-slate-300 mb-4",size:48}),k.jsx("h3",{className:"text-lg font-medium text-slate-900",children:"No weekly plans found"}),k.jsx("p",{className:"text-slate-500 mt-1 max-w-xs mx-auto",children:"Start by creating your first action plan for the upcoming week."})]}):k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(S=>{const ht=S.actions.filter(P=>P.status===te.FINISHED).length,Pt=S.actions.length>0?ht/S.actions.length*100:0;return k.jsxs("div",{onClick:()=>{_t(S.id),ut("detail")},className:"group bg-white border border-slate-200 rounded-xl p-5 hover:border-indigo-300 hover:shadow-md transition-all cursor-pointer relative",children:[k.jsxs("div",{className:"flex justify-between items-start mb-4",children:[k.jsxs("div",{children:[k.jsx("h3",{className:"font-bold text-slate-900 group-hover:text-indigo-600 transition-colors line-clamp-1",children:S.title}),k.jsxs("p",{className:"text-xs font-medium text-slate-400 mt-1 uppercase tracking-wider",children:["Deadline:"," ",new Date(S.endDate).toLocaleDateString("en-GB",{day:"2-digit",month:"short"})]})]}),k.jsx("div",{className:"text-right",children:k.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full border ${Pt===100?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-slate-50 text-slate-500 border-slate-100"}`,children:Pt===100?"COMPLETE":`${S.actions.length} ACTIONS`})})]}),k.jsx(Ax,{percentage:Pt}),k.jsxs("div",{className:"mt-4 space-y-2",children:[S.actions.slice(0,3).map((P,J)=>{const it=Ct=>{switch(Ct){case te.FINISHED:return k.jsx("div",{className:"w-4 h-4 rounded-full bg-emerald-100 border border-emerald-200 flex items-center justify-center flex-shrink-0",children:k.jsx(tm,{size:10,className:"text-emerald-600"})});case te.PENDING:return k.jsx("div",{className:"w-4 h-4 rounded-full bg-amber-100 border border-amber-200 flex items-center justify-center flex-shrink-0",children:k.jsx(L0,{size:10,className:"text-amber-600"})});default:return k.jsx("div",{className:"w-4 h-4 rounded-full bg-slate-100 border border-slate-200 flex items-center justify-center flex-shrink-0",children:k.jsx(U0,{size:10,className:"text-slate-400"})})}},gt=Ct=>{switch(Ct){case te.FINISHED:return"text-emerald-800 line-through opacity-60";case te.PENDING:return"text-amber-800 font-medium";default:return"text-slate-600"}};return k.jsxs("div",{className:"flex items-center gap-3",children:[it(P.status),k.jsx("span",{className:`text-xs truncate leading-tight ${gt(P.status)}`,children:P.name})]},J)}),S.actions.length>3&&k.jsxs("div",{className:"text-xs text-slate-400 pl-7 italic",children:["+",S.actions.length-3," more actions"]})]}),k.jsx("div",{className:"mt-5 pt-3 border-t border-slate-100",children:k.jsxs("div",{className:"flex justify-between items-center",children:[k.jsxs("div",{className:"flex gap-4 text-[10px] font-bold",children:[k.jsxs("span",{className:"flex items-center gap-1.5 text-emerald-700",children:[k.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500 flex items-center justify-center",children:k.jsx(tm,{size:8,className:"text-white"})}),ht," Done"]}),k.jsxs("span",{className:"flex items-center gap-1.5 text-amber-700",children:[k.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500 flex items-center justify-center",children:k.jsx(Wd,{size:8,className:"text-white"})}),S.actions.filter(P=>P.status===te.PENDING).length," ","Active"]})]}),k.jsxs("div",{className:"text-[10px] text-slate-400 font-medium",children:[S.actions.filter(P=>P.status===te.NOT_YET).length," ","Pending"]})]})})]},S.id)})})]}),N=({initialData:S=null})=>{const[ht,Pt]=de.useState(S?.title||""),[P,J]=de.useState(S?.startDate||new Date().toISOString().split("T")[0]),[it,gt]=de.useState(S?.endDate||""),[Ct,x]=de.useState(S?.actions||[{id:crypto.randomUUID(),name:"",status:te.NOT_YET}]),Y=()=>{x([...Ct,{id:crypto.randomUUID(),name:"",status:te.NOT_YET}])},et=ct=>{x(Ct.filter((bt,Xt)=>Xt!==ct))},st=(ct,bt)=>{const Xt=[...Ct];Xt[ct].name=bt,x(Xt)},yt=ct=>{ct.preventDefault();const bt=Ct.filter(Xt=>Xt.name.trim()!=="");if(!ht||!it||bt.length===0){alert("Please provide a title, deadline, and at least one action.");return}ae({title:ht,startDate:P,endDate:it,actions:bt})};return k.jsxs("div",{className:"max-w-2xl mx-auto",children:[k.jsxs("button",{onClick:()=>ut("list"),className:"flex items-center gap-1 text-slate-500 hover:text-slate-900 mb-6 transition-colors font-medium",children:[k.jsx(V0,{size:18})," Back to Dashboard"]}),k.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-8 shadow-sm",children:[k.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-6",children:S?"Edit Weekly Plan":"Create Weekly Plan"}),k.jsxs("form",{onSubmit:yt,className:"space-y-6",children:[k.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:"Week Title"}),k.jsx("input",{type:"text",placeholder:"e.g. Week 12 - Product Launch Focus",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition-all text-slate-900",value:ht,onChange:ct=>Pt(ct.target.value)})]}),k.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:"Start Date"}),k.jsx("input",{type:"date",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition-all text-xs sm:text-sm font-medium",value:P,onChange:ct=>J(ct.target.value)})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:"Deadline"}),k.jsx("input",{type:"date",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition-all text-xs sm:text-sm font-medium",value:it,onChange:ct=>gt(ct.target.value)})]})]})]}),k.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[k.jsxs("div",{className:"flex justify-between items-center mb-4",children:[k.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Key Actions"}),k.jsxs("button",{type:"button",onClick:Y,className:"text-indigo-600 hover:text-indigo-700 font-bold text-xs uppercase tracking-wider flex items-center gap-1",children:[k.jsx(P0,{size:14})," Add Action"]})]}),k.jsx("div",{className:"space-y-3",children:Ct.map((ct,bt)=>k.jsxs("div",{className:"flex gap-2 group",children:[k.jsx("input",{type:"text",placeholder:"Identify specific outcome...",className:"flex-1 px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition-all",value:ct.name,onChange:Xt=>st(bt,Xt.target.value)}),k.jsx("button",{type:"button",onClick:()=>et(bt),className:"p-3 text-slate-300 hover:text-rose-500 transition-colors",title:"Remove",children:k.jsx(z0,{size:18})})]},ct.id))})]}),k.jsx("button",{type:"submit",disabled:A,className:"w-full bg-slate-900 text-white font-bold py-4 rounded-xl hover:bg-slate-800 transition-colors shadow-lg shadow-slate-200 mt-4 flex items-center justify-center gap-2",children:A?k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):S?"Update Plan":"Save Weekly Plan"})]})]})]})},U=()=>{if(!R)return null;const S=R.actions.filter(P=>P.status===te.FINISHED),ht=R.actions.filter(P=>P.status===te.PENDING);R.actions.filter(P=>P.status===te.NOT_YET);const Pt=S.length/R.actions.length*100;return k.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsxs("button",{onClick:()=>ut("list"),className:"flex items-center gap-1 text-slate-500 hover:text-slate-900 transition-colors font-medium",children:[k.jsx(V0,{size:18})," All Plans"]}),k.jsxs("div",{className:"flex gap-2",children:[k.jsx("button",{onClick:()=>ut("edit"),className:"p-2 text-slate-400 hover:text-slate-600 transition-colors rounded-lg border border-transparent hover:border-slate-200",children:"Edit Plan"}),k.jsx("button",{onClick:()=>Lt(R.id),disabled:O,className:"p-2 text-slate-400 hover:text-rose-600 transition-colors rounded-lg border border-transparent hover:border-rose-100 flex items-center justify-center",children:O?k.jsx("div",{className:"w-4 h-4 border-2 border-rose-400 border-t-transparent rounded-full animate-spin"}):k.jsx(z0,{size:18})})]})]}),k.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl overflow-hidden shadow-sm",children:[k.jsx("div",{className:"p-8 border-b border-slate-100",children:k.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[k.jsxs("div",{className:"space-y-4",children:[k.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight leading-tight",children:R.title}),k.jsxs("div",{className:"flex flex-wrap items-center gap-y-2 gap-x-6 text-sm font-semibold",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("span",{className:"text-slate-400 uppercase tracking-widest text-[10px]",children:"Start:"}),k.jsx("span",{className:"text-slate-700",children:new Date(R.startDate).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"})})]}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("span",{className:"text-slate-400 uppercase tracking-widest text-[10px]",children:"Deadline:"}),k.jsx("span",{className:"px-3 py-1 bg-rose-50 text-rose-600 rounded-md border border-rose-100",children:new Date(R.endDate).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"})})]})]})]}),k.jsxs("div",{className:"text-right min-w-[140px]",children:[k.jsxs("div",{className:"text-4xl font-black text-indigo-600 leading-none",children:[Math.round(Pt),"%"]}),k.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-1",children:"Efficiency"})]})]})}),k.jsxs("div",{className:"p-8 space-y-8",children:[k.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[k.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100",children:[k.jsx("div",{className:"text-xl font-bold text-slate-900",children:R.actions.length}),k.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Total"})]}),k.jsxs("div",{className:"bg-emerald-50 p-4 rounded-xl border border-emerald-100",children:[k.jsx("div",{className:"text-xl font-bold text-emerald-700",children:S.length}),k.jsx("div",{className:"text-[10px] font-bold text-emerald-500 uppercase tracking-wider",children:"Finished"})]}),k.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl border border-amber-100",children:[k.jsx("div",{className:"text-xl font-bold text-amber-700",children:ht.length}),k.jsx("div",{className:"text-[10px] font-bold text-amber-500 uppercase tracking-wider",children:"Pending"})]})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xs text-slate-400 uppercase mb-4",children:"Action Pipeline"}),k.jsx("div",{className:"space-y-3",children:R.actions.map((P,J)=>k.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl border border-slate-100 bg-white hover:bg-slate-50 transition-colors group",children:[k.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[k.jsx("button",{onClick:()=>b(R.id,J),disabled:Z[`${R.id}-${J}`],className:`transition-colors flex-shrink-0 ${P.status===te.FINISHED?"text-emerald-500":P.status===te.PENDING?"text-amber-500":"text-slate-300"}`,children:Z[`${R.id}-${J}`]?k.jsx("div",{className:"w-6 h-6 border-2 border-slate-300 border-t-transparent rounded-full animate-spin"}):P.status===te.FINISHED?k.jsx(tm,{size:24}):P.status===te.PENDING?k.jsx(L0,{size:24}):k.jsx(U0,{size:24})}),k.jsx("span",{className:`text-slate-700 ${P.status===te.FINISHED?"line-through text-slate-400 font-normal":""}`,children:P.name})]}),k.jsx("button",{onClick:()=>b(R.id,J),className:`text-[10px] font-bold uppercase tracking-widest px-3 py-1.5 rounded-lg border transition-all ${Ex[P.status]}`,children:Tx[P.status]})]},P.id))})]}),k.jsx("div",{className:"p-5 bg-slate-900 rounded-xl text-white",children:k.jsxs("div",{className:"flex items-start gap-4",children:[k.jsx("div",{className:"p-2 bg-white/10 rounded-lg",children:k.jsx(Wd,{className:"text-indigo-300",size:20})}),k.jsxs("div",{children:[k.jsx("h4",{className:"font-bold text-sm",children:"Deadline Focus"}),k.jsxs("p",{className:"text-slate-400 text-xs mt-1 leading-relaxed",children:["All ",R.actions.length," items in this list are tethered to the"," ",new Date(R.endDate).toLocaleDateString()," ","deadline. Prioritize execution over perfection."]})]})]})})]})]})]})};return!s&&!l?k.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-6",children:k.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center border border-slate-200",children:[k.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-2xl flex items-center justify-center text-white mx-auto mb-6",children:k.jsx(k0,{size:32})}),k.jsx("h1",{className:"text-2xl font-black text-slate-900 mb-2",children:"Weekly Action Planner"}),k.jsx("p",{className:"text-slate-500 mb-8",children:"Sign in to sync your strategic goals across devices."}),k.jsxs("button",{onClick:Qt,className:"w-full flex items-center justify-center gap-3 bg-white border border-slate-300 py-3 px-4 rounded-xl font-bold text-slate-700 hover:bg-slate-50 transition-all shadow-sm",children:[k.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),"Continue with Google"]})]})}):k.jsxs("div",{className:"min-h-screen bg-slate-50 text-slate-900 font-sans selection:bg-indigo-100 selection:text-indigo-900",children:[k.jsx("nav",{className:"sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-slate-200 h-16",children:k.jsxs("div",{className:"max-w-6xl mx-auto h-full px-6 flex items-center justify-between",children:[k.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>ut("list"),children:[k.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center text-white",children:k.jsx(k0,{size:18})}),k.jsx("span",{className:"hidden sm:block font-black text-lg tracking-tighter uppercase italic",children:"Weekly Action"})]}),k.jsxs("div",{className:"flex items-center gap-6",children:[k.jsxs("button",{onClick:()=>ut("list"),className:`text-sm font-bold tracking-widest uppercase flex items-center gap-2 transition-colors ${tt==="list"?"text-indigo-600":"text-slate-400 hover:text-slate-600"}`,children:[k.jsx(XN,{size:16})," Dashboard"]}),s&&k.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 border border-slate-200 flex items-center justify-center text-[10px] font-bold text-slate-500 overflow-hidden",title:s.uid,children:s.uid.substring(0,2).toUpperCase()})]})]})}),k.jsx("main",{className:"max-w-6xl mx-auto p-6 md:p-10",children:l||d?k.jsxs("div",{className:"flex flex-col items-center justify-center py-20 animate-pulse",children:[k.jsx("div",{className:"w-12 h-12 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin mb-4"}),k.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-xs",children:"Loading..."})]}):_?k.jsxs("div",{className:"max-w-md mx-auto bg-rose-50 border border-rose-100 p-6 rounded-2xl text-center",children:[k.jsx(Wd,{className:"mx-auto text-rose-500 mb-3",size:32}),k.jsx("h3",{className:"text-rose-900 font-bold",children:"System Error"}),k.jsx("p",{className:"text-rose-600 text-sm mt-1",children:_}),k.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-rose-600 text-white rounded-lg text-sm font-bold",children:"Reload App"})]}):k.jsxs(k.Fragment,{children:[tt==="list"&&k.jsx(M,{}),tt==="create"&&k.jsx(N,{}),tt==="edit"&&k.jsx(N,{initialData:R}),tt==="detail"&&k.jsx(U,{})]})}),k.jsxs("footer",{className:"max-w-6xl mx-auto px-6 py-12 border-t border-slate-200 mt-20 flex flex-col md:flex-row justify-between items-center gap-6 text-slate-400",children:[k.jsxs("div",{className:"flex items-center gap-4 text-[10px] font-bold uppercase tracking-[0.2em]",children:[k.jsx("span",{children:" 2026 Action Planning"}),k.jsx("span",{className:"w-1 h-1 bg-slate-200 rounded-full"}),k.jsx("span",{children:"Strategic Execution"})]}),k.jsx("div",{className:"text-[10px] font-medium max-w-xs text-center md:text-right",children:"Focus on high-level outcomes. A single deadline for all weekly actions reduces decision fatigue."})]})]})};Sb.createRoot(document.getElementById("root")).render(k.jsx(de.StrictMode,{children:k.jsx(Sx,{})}));
